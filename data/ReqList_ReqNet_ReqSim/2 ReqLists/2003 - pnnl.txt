2.4.1	The automated diagnostic tool must support a wide variety of users with respect to computer expertise. In addition, different users will have different expectations for the tool with respect to data presentation and functionality. For instance, some users will simply require an immediate diagnostic result while other users may be interested in diagnostic results generated over an arbitrary time that can be subsequently reviewed.
2.4.2	The tool must provide a capability to manually input and edit “fixed” data, i.e. , data that does not vary in real-time. Such data includes HVAC unit set points, specifications, and configuration information.
2.4.2.1	The data must be stored for subsequent use by the diagnostic tool for review and verification by other users and management. The tool should provide configuration management of fixed data.
2.4.3	The user must have the capability to configure the tool for continuous diagnostic analysis over an indefinite period of time. In this mode, the tool will record diagnostic results for subsequent review.
2.4.3.1	No printed reports will be required of the tool, but the tool must print screen images of diagnostic results and historical data at user request and must provide long term storage of diagnostic results and permit the user to supply meta data relevant to the results, e.g., location, HVAC serial number, model number, user name, date, etc.
3.2.1.1	Users of the tool shall be classified into two types. The first type, general user, shall only be permitted to utilize a limited set of the capabilities of the tool. Typically a general user is only permitted to view the results of diagnostic processing either current or historical.
3.2.1.1.1	The second type, administrator, shall be permitted all the privileges of the general user plus those identified in Table 2. The administrator is permitted all the privileges of the general user in addition to the privileges to configure the system and modify fixed data and diagnostic settings.
3.2.2	The automated diagnostic tool shall input sensed data in real time from data acquisition devices and the HVAC unit under diagnosis as well as from data files containing previously acquired data, though not simultaneously.
3.2.2.0.1	In addition, the tool shall input fixed data provided by the user.
3.2.2.0.2	Sensed and fixed data used by the tool in performing automated diagnostics shall be stored to permanent storage for post -analysis by the diagnostic process and viewing of the results.
3.2.2.1	The tool shall input sensed data in real time from data acquisition devices and the HVAC unit under diagnosis. The absolute time of input will be associated with each sensed data item for its complete lifecycle, including permanent storage. The time will be determined at the instant the acquisition of the sensed data is complete.
3.2.2.2	The tool shall permit sensed data to be input from an electronic file, though not simultaneously with sensed data from external acquisition hardware.
3.2.2.2.1	When inputting sensed data from an electronic file, only one file shall be used containing all necessary sensed data.
3.2.2.2.2	The file shall be an ASCII text file containing only columns delimited by a single tab character or single comma.
3.2.2.2.3	The file shall begin with a required header. The first column of the header will list, at a minimum, the entries “”Building Identifier” and “Input Identifier” in that order. Following columns on the Input Identifier row will list integer input identifiers. Following columns on the Building Identifier row will list corresponding integer building identifiers for the inputs.  One or more comment rows may exist above and below these required rows. These comment rows are identified by a ‘#’ as the first character of the first column. These rows are ignored by the tool.
3.2.2.2.4	The first uncommented column in the file after the required headers shall list the absolute time, in ascending order, associated with all entries in subsequent columns of the row.
3.2.2.2.5	Each additional column in the file shall pertain to one and only one sensed parameter. Data values in the same row of the file correspond to identical time values.
3.2.2.2.6	All columns in the file shall have the same number of rows.
3.2.2.3	Each sensed data item will be qualified as to its certitude during the acquisition process. Sensed data will be considered in doubt if acquisition of the data was not possible (for example, if an error occurs during communication with the acquisition hardware), or the data is outside the range of possible values. Otherwise, the sensor value will be deemed accurately acquired.
3.2.2.4	The software will deem sensed data in doubt if acquisition of the data is not possible, due to communication failures, for a default number of successive samples. The default is dependent on sensor type.
3.2.2.4.1	The number of successive samples for a given sensor type shall be modifiable by the administrator. Data not successfully acquired will be deemed “missing data”.
3.2.2.5	Sensed da ta used in or supporting diagnostic analyses shall be saved to permanent storage.
3.2.2.6	The occurrence of missing data shall be indicated in permanent storage by a unique and obvious place holder or indicator, e.g., a null value or sequence of characters that cannot be confused with non-missing data.
3.2.2.7	Sensed data input to the tool shall be stored to permanent storage with a precision of three significant figures.
3.2.2.8	Sensed data input to the tool shall be validated with respect to its expected range of values. Sensed data shall be assigned the ranges listed in Table 5 by default.
3.2.2.9	The administrator shall have the capability to modify the expected range of sensed data against which the data will be validated.
3.2.2.9.1	The engineering units of sensed data input to the tool shall comply with the units listed in
3.2.2.10	The tool shall provide the capability to convert sensed data not provided in the units listed in Table 6 to the required units.
3.2.2.11	The tool shall associate with each continuous parameter one or more tolerances each corresponding to a different sensitivity level for the tool.
3.2.2.12	Any and all errors associated with obtaining, validating, converting, or storing the sensed data shall be logged as described in subsequent specifications and selected errors shall be reported to the user.
3.2.3.0.1	The automated diagnostic tool shall detect and identify certain performance and operational faults in chiller and cooling tower subsystems of HVAC units following specified algorithms.
3.2.3.0.2	In addition, the tool shall be designed to permit expansion of diagnostic analysis to additional subsystems.
3.2.3.0.3	The faults identified and their causes and sources, shall be saved to permanent storage for subsequent analysis.
3.2.3.3	The tool shall be designed to permit the addition of diagnostic algorithms for other subsystems of HVAC units.
3.2.3.4	A diagnostic algorithm shall not process if any input data to the algorithm is missing. The user shall be notified if a diagnostic algorithm cannot process due to missing data.
3.2.3.5	Any and all errors associated with failures of the diagnostic algorithms shall be logged as described in subsequent specifications and selected errors shall be reported to the user.
3.2.3.6	The tool shall monitor the unit under diagnosis, either in real time or batch mode, for an indefinite period of time or until input data are no longer available, and log diagnostic results as they are determined.
3.2.3.7	Diagnostic results that are saved to permanent storage shall be accompanied in storage by the absolute time of occurrence, the identity of the unit to which the diagnostic applies, and the identity of the diagnostic.
3.2.3.8	The administrator user shall have the capability to adjust the sensitivity of the diagnostic analysis in order to increase or decrease the probability of fault detection.
3.2.4.0.1	The automated diagnostic tool shall display and record diagnostic results. Diagnostic results to be displayed to the user will be done so in a simple, graphical and textual format.
3.2.4.0.2	Diagnostic results shall also be saved to permanent storage for subsequent retrieval, display, and analysis.
3.2.4.1	The administrator shall have the ability to specify which diagnostic results will not be reported in any manner, i.e., not detected.
3.2.4.2	The display of each diagnostic result for fault conditions will include a description of the fault, potential causes of the fault, the location of the fault, and the absolute time of occurrence.
3.3.1.1	The area on the main, systems, and condition windows sensitive to the users selection device, typically the mouse, shall include the line surrounding the item of interest over the entire width of the window. This includes the diagnostic indicators.
3.3.1.2	The windows listing diagnostic results shall increase in height as needed to display entries up to a maximum of ten entries.
3.3.1.2.1	Once the window has reached maximum size and there are additional items to display, the window shall deploy a scroll bar to permit the user to scroll through the additional entries.
3.3.1.2.2	In this event, a summary set of diagnostic indicators shall appear above (below) the top (bottom) entry in the display.
3.3.1.2.3	This set(s) of indicators shall summarize diagnostic indicators not currently appearing on the list above (below) it.
3.3.1.2.4	An indicator in the summary set shall be active if any similar indicator not appearing above (or below)
3.3.1.3	The building, subsystems, and condition windows shall display the current time if the diagnostic tool is operating in real time. If the tool is operating in batch mode, the time displayed will be the time associated with the entry currently being processed in the batched input.
3.3.1.4	If only a single building is defined, the subsystems window shall become the main window of the application and shall have all the functionality of the main window as described in these specifications.
3.3.1.5	Each window of the diagnostic tool shall display an animated graphical feature indicating the status, whether active or not, of the diagnostic processing.
3.3.1.6	The subsystem window shall be modal to the building window, the condition window modal to the subsystem window, and the diagnostic history and diagnostic information windows shall be modal to the condition window.
3.4.1.0.1	Significant errors in software operation shall be logged to permanent storage with sufficient detail to guide the administrator and to assist support staff in locating and rectifying the error.
3.4.1.0.2	In addition, selected errors shall be reported to the user.
3.4.1.1	Software errors logged to permanent storage shall include the absolute time of occurrence, the name of the software module in which the error occurred, the name of the software function in which the error occurred, and a description of the error.
3.5.1.1	The user interface shall consist of six windows: Main window, configuration window, subsystems window, condition window, diagnostic information window, and diagnostic history window.
3.5.1.2	These windows shall be organized in a hierarchy enforcing a navigational order on the user. This hierarchy is depicted in Figure 4. As indicated in the figure, the main window is at the top of the hierarchy and is the first window that appears when the tool begins execution. The configuration window is subordinate to the main window and can only be displayed by a user selection on the main window. The third window in the hierarchy is the subsystems window and it can only be displayed by a user selection on the main window. The fourth window in the hierarchy is the condition window and it can only be displayed by a user selection on the subsystems window. The fifth window is the diagnostic information window. This window can only be displayed by a user selection on the condition window or by a user selection on the diagnostic history window if it is displayed. The diagnostic history window can only be displayed by a user action on the diagnostic information window.
3.5.1.3	The main (e.g., initial or default) window shall list buildings monitored and summarizing the current diagnostic status of all contained monitored units. A recommended layout for this window is presented in Figure 5. This window shall be titled “Diagnostician”.
3.5.1.4	The main window shall have main menus entitled “File” and “Status”.
3.5.1.5	The main menu entitled “File” shall contain the following menu items in the following order: “Configure Diagnostics”, “Logout”, “Exit”.
3.5.1.6	The main menu entitled “Status” shall contain the following menu items in the following order: “Start Diagnostics”, “Stop Diagnostics”.
3.5.1.7	The menu items named “Configure Diagnostics” and “Exit” in the main menu entitled “File” shall be enabled at all times.
3.5.1.8	The menu item named “Logout” in the main menu entitled “File” shall be enabled only if the current user is presently authenticated as the administrator user. Otherwise, this menu item shall be disabled.
3.5.1.9	The menu item named “Start Diagnostics” in the main menu entitled “Status” shall be enabled only if diagnostic processing is not currently running. Otherwise, the menu item shall be disabled.
3.5.1.10	The menu item named “Stop Diagnostics” in the main menu entitled “Status” shall be enabled only if diagnostic processing is currently running. Otherwise, the menu item shall be disabled.
3.5.1.11	Selecting the “Configure Diagnostics” menu item of the main menu entitled “File” shall display the configuration window, making it the current window, modal to the main window.
3.5.1.12	The configuration window shall permit the administrator user to modify the following parameters: a. The password for the administrator user. b. A toggle enabling or disabling the main window of the tool as a screen saver. c. A toggle enabling or disabling the main window’s position on the screen as the top most window. d. Buildings and subsystems to be monitored and the conditions they will be monitored for. The conditions will be selected from a list provided by the tool.e. The enabled state of individual conditions. Disabled conditions will not be processed or displayed. f. The sensitivity of each condition by selecting a sensitivity from a list provided by the tool. g. Scale factors for transforming the engineering units of sensed input data to the required units. h. The expected range of sensed input data.
3.5.1.14	The configuration window shall have a button labeled “Save” that when clicked will present the user with a window by which to enter a disk file or database name in which to save the modifiable data in the window.
3.5.1.14.1	Entering a file name shall cause the permanent storage of the modified parameters and their immediate use by the diagnostic operations after confirmatory responses by the user. If the user does not confirm the request to save, it will not be performed. If the user does not confirm the request to relay the modified parameters to the diagnostic processing immediately, it will not be performed. In either event, the configuration window will remain displayed.
3.5.1.15	The configuration window shall have a button labeled “Close” that will dismiss the configuration window and return the user to the main window. If the user has made changes to data in the configuration window, the tool will request confirmation of the user’s desire to dismiss the window. If the user does not confirm the request, the window will not be dismissed.
3.5.1.16	The configuration window shall have a button labeled “Recall” that will permit the user to recall a disk fil e of previously saved parameters from which to populate the configuration window. When functioning as a screen saver, the window shall change location on the screen periodically and will continue to be updated by diagnostic results.
3.5.1.17	The subsystems window shall list subsystems monitored for a specific building and summarizing the current diagnostic status of all monitored subsystems. A recommended layout for this window is presented in Figure 6.
3.5.1.19	The diagnostic information window shall provide a detailed description of the diagnostic. A recommended layout for this window is depicted in Figure 8.
3.5.1.20	The diagnostic information window shall have a button labeled “Print” that when clicked will display a window listing items to print including the diagnostic information window, the history window, and both the diagnostic and history windows. The user selects the item of interest and clicks the “OK” button to print the selection, an image(s) of the item(s) selected.
3.5.1.21	The diagnostic information window shall include the following information regarding the diagnostic: 1. A description of the possible problem. 2. Potential causes. 3. Fixes.
3.5.1.22	The diagnostic information window shall have a button labeled “Close” that shall dismiss the window.
3.5.1.23	The diagnostic information window shall have a button labeled “History” that when clicked will display the diagnostic history window and display the previous week’s diagnostic results.
3.5.1.24	The diagnostic history window shall display historical diagnostic results for a specific diagnostic. A recommended layout for this window is depicted in Error! Reference source not found. This figure includes a color map that provides a graphical indication of diagnostic condition.
3.5.1.25	The diagnostic history window shall provide user selections for start times and end times for the history interval. These selections shall be in the form of a calendar control.
3.5.1.26	The smallest time interval displayed by the diagnostic history window is one week.
3.5.1.27	The longest time interval that may be displayed by the diagnostic history window is two years.
3.5.1.28	The color map of the history window shall indicate confirmed faults with the color red, potential faults with the color yellow, normal conditions with the color green, and periods when diagnostic processing was not active with the color gray.
3.5.1.28.1	Diagnostic processing should be assumed inactive between periods of time when no confirmed fault, potential fault, or normal condition has been recorded.
3.5.1.29	The vertical axis of the color map of the history window shall indicate hour of the day and the horizontal axis shall indicate the absolute date and the day of week.
3.5.1.30	The diagnostic history window shall have a button labeled “Print” that when clicked will display a window listing items to print including the diagnostic information window, the history window, and both the diagnostic and history windows. The user selects the item of interest and clicks the “OK” button to print the selection, an image(s) of the item(s) selected.
3.5.1.31	The diagnostic history window shall have a button labeled “Close” that will dismiss the window.
3.5.1.32	The subsystems window, condition window, and diagnostic information window shall display a title that indicates its specific location or absolute path in the navigation hierarchy of windows.
3.5.1.32.1	This title shall be a concatenation of the title of the previous window displayed, not including the diagnostic history window, and the name of the entry selected to obtain the current window. The two parts of the title shall be separated by a dash surrounded by a single space.
3.5.1.33	The main window, subsystems window, condition window, and diagnostic information window shall display the appropriate time below the title as specified in 3.3.1.3 .
3.5.1.34	The main window, subsystems window, and condition window shall have three diagnostic indicators for each item listed.
3.5.1.35	One indicator shall be active when no diagnostic conditions exists. This indicator shall be designated the “OK” indicator and shall appear green when active.
3.5.1.36	One indicator shall be active when a potential diagnostic condition exists. This indicator shall be designated the “Caution” and shall appear yellow when active.
3.5.1.37	One indicator shall be active when a confirmed diagnostic condition exists. This indicator shall be designated the “Not OK” indicator and shall appear red when active.
3.5.1.38	Only one indicator shall be active at a given time for a specific diagnostic and no indicators shall flash when active.
3.5.1.39	The diagnostic indicators on the main window and subsystems window shall summarize all diagnostic conditions associated with each entry in the window. In general, an active “OK” indicator indicates no positive diagnostic results currently exist within the building or subsystem, as applicable for the window. An active “Caution” indicator indicates that at least one potential problem currently exists within the building or subsystem, as applicable, and no confirmed problem currently exists. An active “Not OK” indicator indicates at least one confirmed problem exists regardless of whether cautionary or
3.7.1	The tool shall log to permanent storage the occurrence of changes to the fixed data. The log shall indicate the time and date of the change, original value of the item( s) changed, and the new value of the item(s) changed.