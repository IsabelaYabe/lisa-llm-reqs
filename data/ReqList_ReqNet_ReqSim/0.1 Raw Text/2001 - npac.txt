North American Numbering Council (NANC)
Functional Requirements Specification
Number Portability Administration Center (NPAC)
Service Management System (SMS)
Version 3.0.3
March 19, 2001

 
Related Publications
NPAC SMS Interoperable Interface Specification (IIS), Version 3.0.2, December 4, 2000.
Illinois Commerce Commission Number Portability Administration Center and Service Management System Request for Proposal (ICC NPAC/SMS RFP), February 6, 1996.
Generic Requirements for SCP Application and GTT Function for Number Portability, ICC LNP Workshop SCP Generic Requirements Subcommittee.
Generic Switching and Signaling Requirements for Number Portability, version 1.03, ICC LNP Workshop Switch Generic Requirements Subcommittee, September 4, 1996.
Report on Local Number Portability, Industry Numbering Committee (INC).
FCC 96-286 First Report And Order, CC Docket No. 95-116, July 2, 1996.
CTIA Report on Wireless Portability Version 2, July 7, 1998
Release 3.0: © COPYRIGHT 1997, 1998, 1999, 2000, 2001 NeuStar, Inc.
The Work may be freely redistributed subject to the terms of the GNU General Public License (the “GPL”), a copy of which may be found at ftp://prep.ai.mit.edu/pub/gnu/GPL, or requested by writing to FSF, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.  Any use of this Work is subject to the terms of the GPL.  The “Work” covered by the GPL by operation of this notice and license is this document and any and all modifications to or derivatives of this document.  Where the words “Program,” “software,” “source code,” “code,” or “files” are used in the GPL, users understand and agree that the “Work” as defined here is substituted for purposes of this notice and license.

The purpose of the NeuStar, Inc. copyright and GNU General Public License on this Work is to ensure that this Work and any subsequent derivations thereof remain non-proprietary.

 
Table of Contents
0.	PREFACE	0-0
0.1	Document Structure	0-0
0.2	Document Numbering Strategy	0-1
0.3	Document Version History	0-2
0.3.1	Release 1.0	0-2
0.3.2	Release 2.0	0-2
0.3.3	Release 3.0	0-2
0.4	Abbreviations and Notations	0-3
0.5	Document Language	0-5
1.	INTRODUCTION	1-1
1.1	NPAC SMS Platform Overview	1-1
1.2	NPAC SMS Functional Overview	1-1
1.2.1	Provisioning Service Functionality	1-1
1.2.2	Disconnect Service Functionality	1-2
1.2.3	Repair Service Functionality	1-2
1.2.4	Conflict Resolution Functionality	1-2
1.2.5	Disaster Recovery and Backup Functionality	1-2
1.2.6	Order Cancellation Functionality	1-3
1.2.7	Audit Request Functionality	1-3
1.2.8	Report Request Functionality	1-3
1.2.9	Data Management Functionality	1-3
1.2.9.1	NPAC Network Data	1-3
1.2.9.2	Service Provider Data	1-4
1.2.9.3	Subscription Version Data	1-4
1.2.10	NPA-NXX Split Processing	1-4
1.2.11	Business Days/Hours	1-5
1.2.12	Timer Types	1-6
1.2.13	Recovery Functionality	1-6
1.2.13.1	Network Data Recovery	1-7
1.2.13.2	Subscription Data Recovery	1-7
1.2.13.3	Notification Recovery	1-7
1.2.14	Number Pooling Overview	1-8
1.3	Background	1-12
1.4	Objective	1-13
1.5	Assumptions	1-13
1.6	Constraints	1-15
2.	BUSINESS PROCESS FLOWS	2-1
2.1	Provision Service Process	2-1
2.1.1	Service provider-to-service provider activities	2-1
2.1.2	Subscription version creation process	2-1
2.1.2.1	Create Subscription Version	2-2
2.1.2.2	Request missing/late notification	2-2
2.1.2.3	Final Concurrence Notification to Old Service Provider	2-2
2.1.3	Service providers perform physical changes	2-2
2.1.4	NPAC SMS "activate and data download" process	2-2
2.1.4.1	New Service Provider sends activation to NPAC SMS	2-2
2.1.4.2	NPAC SMS broadcasts network data to appropriate Service Providers	2-2
2.1.4.3	Failure - notify NPAC	2-3
2.1.4.4	Initiate repair procedures	2-3
2.1.5	Service providers perform network updates	2-3
2.2	Disconnect Process	2-3
2.2.1	Customer notification, Service Provider initial disconnect service order activities	2-3
2.2.2	NPAC waits for effective release date	2-3
2.2.3	NPAC donor notification	2-4
2.2.4	NPAC performs broadcast download of disconnect data	2-4
2.3	Repair Service Process	2-4
2.3.2	Service provider analyzes the problem	2-5
2.3.3	Service provider performs repairs	2-5
2.3.4	Request broadcast of subscription data	2-5
2.3.5	Broadcast repaired subscription data	2-5
2.4	Conflict Process	2-6
2.4.1	Subscription version in conflict	2-6
2.4.1.1	Cancel-Pending Acknowledgment missing from new Service Provider	2-6
2.4.1.2	Old Service Provider requests conflict status	2-6
2.4.1.3	Change of status upon problem notification	2-6
2.4.1.4	Change of status upon Old Service Provider non-concurrence	2-6
2.4.1.5	Change of status upon New Service Provider non-concurrence	2-7
2.4.2	New Service Provider coordinates conflict resolution activities	2-7
2.4.2.1	Cancel pending notification	2-7
2.4.3	Subscription version cancellation	2-8
2.4.4	Conflict resolved	2-8
2.5	Disaster Recovery and Backup Process	2-8
2.5.1	NPAC personnel determine downtime requirement	2-8
2.5.2	NPAC notifies Service Providers of switch to backup NPAC and start of cutover quiet period	2-8
2.5.3	Service providers connect to backup NPAC	2-8
2.5.4	Backup NPAC notifies Service Providers of application availability and end of cutover quiet period	2-9
2.5.5	Service providers conduct business using backup NPAC	2-9
2.5.6	Backup NPAC notifies Service Providers of switch to primary NPAC and start of cutover quiet period	2-9
2.5.7	Service providers reconnect to primary NPAC	2-9
2.5.8	Primary NPAC notifies Service Providers of availability and end of cutover quiet period	2-9
2.6	Service Order Cancellation Process	2-9
2.6.1	Service Provider issues service order cancellation	2-9
2.6.2	Service provider cancels an un-concurred Subscription Version	2-10
2.6.3	NPAC requests missing acknowledgment from Service Provider	2-10
2.6.4	NPAC cancels the Subscription Version and notifies both Service Providers	2-10
2.7	Audit Request Process	2-10
2.7.1	Service provider requests audit	2-10
2.7.2	NPAC SMS issues queries to appropriate Service Providers	2-10
2.7.3	NPAC SMS compares Subscription Version data	2-11
2.7.4	NPAC SMS updates appropriate Local SMS databases	2-11
2.7.5	NPAC SMS sends report of audit discrepancies to requesting SOA	2-11
2.7.6	NPAC SMS sends report of audit results to requesting SOA	2-11
2.8	Report Request Process	2-11
2.8.1	Service provider requests report	2-11
2.8.2	NPAC SMS generates report	2-11
2.8.3	Report delivered via NPAC Administrative or SOA Low-Tech Interface, Email, electronic file, fax, printer	2-12
2.9	Data Administration Requests	2-12
2.9.1	Service provider requests administration of data by NPAC personnel	2-12
2.9.2	NPAC SMS personnel confirms user’s privileges	2-12
2.9.3	NPAC SMS personnel inputs user’s request	2-12
2.9.4	NPAC SMS performs user’s request	2-12
2.9.5	NPAC SMS personnel logs request denial if user’s privileges are not validated	2-12
3.	NPAC DATA ADMINISTRATION	3-1
3.1	Overview	3-1
3.1.1	Data Type Legend	3-2
3.1.2	NPAC Customer Data	3-3
3.1.3	Subscription Version Data	3-8
3.1.4	Network Data	3-15
3.2	NPAC Personnel Functionality	3-18
3.2.1	Block Holder, Mass Update	3-19
3.3	System Functionality	3-20
3.4	Additional Requirements	3-24
3.5	NPA Splits Requirements	3-26
3.5.1	NPA-NXX-X Holder, NPA Splits	3-30
3.5.2	Block Holder, NPA Splits	3-33
3.6	NPA-NXX Filter Management Requirements	3-35
3.7	Business Hour and Days Requirements	3-36
3.8	Multiple Service Provider Ids Per SOA Association Requirements	3-37
3.9	Bulk Data Download Functionality	3-39
3.10	NPA-NXX-X Information	3-40
3.10.1	NPA-NXX-X Download Indicator Management	3-40
3.10.2	NPA-NXX-X Holder Information	3-41
3.10.3	NPA-NXX-X Holder, NPAC Scheduling/Re-Scheduling of Block Creation	3-43
3.10.4	NPA-NXX-X Holder, Addition	3-46
3.10.5	NPA-NXX-X Holder, Modification	3-48
3.10.6	NPA-NXX-X Holder, Deletion	3-49
3.10.7	NPA-NXX-X Holder, First Port Notification	3-51
3.10.8	NPA-NXX-X Holder, Query	3-52
3.10.9	NPA-NXX-X Holder, Bulk Data Download	3-52
3.11	Block Information	3-53
3.11.1.1	Version Status	3-53
3.11.2	Block Holder, General	3-56
3.11.3	Block Holder, Addition	3-66
3.11.4	Block Holder, Modification	3-67
3.11.5	Block Holder, Deletion	3-69
3.11.6	Block Holder, Query	3-71
3.11.7	Block Holder, Default Routing Restoration	3-71
3.11.8	Block Holder, Re-Send	3-72
3.11.9	Block Holder, Bulk Data Downloads	3-73
4.	SERVICE PROVIDER DATA ADMINISTRATION	4-1
4.1	Service Provider Data Administration and Management	4-1
4.1.1	User Functionality	4-1
4.1.2	System Functionality	4-2
4.1.2.1	Service Provider Data Creation	4-2
4.1.2.2	Service Provider Data Modification	4-4
4.1.2.3	Delete Service Provider Data	4-5
4.1.3	Service Provider Queries	4-5
4.1.3.1	User Functionality	4-6
4.1.3.2	System Functionality	4-6
4.1.3.2.1	Service Provider Query	4-6
4.1.3.2.2	Subscription List Query	4-7
4.2	Additional Requirements	4-8
5.	SUBSCRIPTION MANAGEMENT	5-1
5.1	Subscription Version Management	5-1
5.1.1	Subscription Version Management	5-1
5.1.1.1	Version Status	5-1
5.1.2	Subscription Administration Requirements	5-10
5.1.2.1	User Functionality	5-10
5.1.2.2	System Functionality	5-11
5.1.2.2.1	Subscription Version Creation	5-11
5.1.2.2.1.1	Subscription Version Creation - Inter-Service Provider Ports	5-12
5.1.2.2.1.2	Subscription Version Creation - Intra-Service Provider Port	5-19
5.1.2.2.2	Subscription Version Modification	5-22
5.1.2.2.2.1	Modification of a Pending or Conflict Subscription Version	5-23
5.1.2.2.2.2	Modification of an Active Subscription Version	5-26
5.1.2.2.3	Subscription Version Conflict	5-29
5.1.2.2.3.1	Placing a Subscription Version in Conflict	5-29
5.1.2.2.3.2	Removing a Subscription Version from Conflict	5-32
5.1.2.2.4	Subscription Version Activation	5-33
5.1.2.2.5	Subscription Version Disconnect	5-38
5.1.2.2.6	Subscription Version Cancellation	5-44
5.1.2.2.7	Subscription Version Resend	5-47
5.1.3	Subscription Queries	5-51
5.1.3.1	User Functionality	5-51
5.1.3.2	System Functionality	5-52
5.1.4	Subscription Version Processing for National Number Pooling	5-55
5.1.4.1	Subscription Version, General	5-55
5.1.4.2	Subscription Version, Addition for Number Pooling	5-56
5.1.4.3	Subscription Version, Block Create Validation of Subscription Versions	5-58
5.1.4.4	Subscription Version, Modification for Number Pooling	5-59
5.1.4.5	Subscription Version, Deletion for Number Pooling	5-60
5.1.4.6	Subscription Version, Block Delete Validation of Subscription Versions	5-60
5.1.4.7	Subscription Version, Bulk Data Downloads	5-60
6.	NPAC SMS INTERFACES	6-1
6.1	SOA to NPAC SMS Interface	6-1
6.2	NPAC SMS to Local SMS Interface	6-1
6.3	Interface Transactions	6-1
6.4	Interface and Protocol Requirements	6-1
6.4.1	Protocol Requirements	6-2
6.4.2	Interface Performance Requirements	6-2
6.4.3	Interface Performance Requirements	6-3
6.4.4	Request Restraints	6-4
6.5	NPAC SOA Low-tech Interface	6-5
6.6	CMIP Request Retry Requirements	6-6
6.7	Notification Recovery -- General	6-8
6.8	Network Data Recovery	6-9
6.9	Subscription Data Recovery	6-11
7.	SECURITY	7-1
7.1	Overview	7-1
7.2	Identification	7-1
7.3	Authentication	7-2
7.3.1	Password Requirements	7-3
7.4	Access Control	7-5
7.4.1	System Access	7-5
7.4.2	Resource Access	7-9
7.5	Data and System Integrity	7-10
7.6	Audit	7-11
7.6.1	Audit Log Generation	7-11
7.6.2	Reporting and Intrusion Detection	7-13
7.7	Continuity of Service	7-14
7.8	Software Vendor	7-15
7.9	OSI Security Environment	7-16
7.9.1	Threats	7-16
7.9.2	Security Services	7-16
7.9.3	Security Mechanisms	7-17
7.9.3.1	Encryption	7-17
7.9.3.2	Authentication	7-17
7.9.3.3	Data Origin Authentication	7-18
7.9.3.4	Integrity and Non-repudiation	7-18
7.9.3.5	Access Control	7-19
7.9.3.6	Audit Trail	7-19
7.9.3.7	Key Exchange	7-19
8.	AUDIT ADMINISTRATION	8-1
8.1	Overview	8-1
8.2	Service Provider User Functionality	8-1
8.3	NPAC User Functionality	8-2
8.4	System Functionality	8-3
8.5	Audit Report Management	8-4
8.6	Additional Requirements	8-5
8.7	Database Integrity Sampling	8-6
8.8	Audit Processing in a Number Pool Environment	8-6
9.	REPORTS	9-1
9.1	Overview	9-1
9.2	User Functionality	9-1
9.3	System Functionality	9-3
9.3.1	National Number Pooling Reports	9-4
10.	PERFORMANCE AND RELIABILITY	10-1
10.1	Availability and Reliability	10-1
10.2	Capacity and Performance	10-4
10.3	Requirements in RFP Not Given a Unique ID	10-4
11.	BILLING	11-1
11.1	User Functionality	11-1
11.2	System Functionality	11-1

Appendix A. BUSINESS PROCESS FLOWS	A-1
Appendix B. GLOSSARY	B-1
Appendix C. SYSTEM TUNABLES	C-1
Appendix D. ENCRYPTION KEY EXCHANGE	D-1
Appendix E. DOWNLOAD FILE EXAMPLES	E-1
Appendix F. Midwest Region Number Pooling (deleted)	F-1
Appendix G. Deleted Requirements	G-1
Appendix H. Release Migration	H-1
 
 
List of Figures
Figure 3 1 -- Entity Relationship Model	3-2
Figure 3 2 -- Number Pool Block Version Status Interaction Diagram	3-53
Figure 5 1 -- Subscription Version Status Interaction Diagram	5-2
Figure A- 1 -- NPAC Business Process Flows Legend	A-2
Figure A- 2 -- NPAC SMS Provision Service Process	A-3
Figure A- 3 -- Flow 2.1.2 NPAC SMS Subscription Version Creation Process	A-4
Figure A- 4 -- Flow 2.1.4 NPAC SMS Activate and Data Download Process	A-5
Figure A- 5 -- Flow 2.2 NPAC SMS Disconnect Process	A-6
Figure A- 6 -- Flow 2.3 NPAC SMS Repair Process	A-7
Figure A- 7 -- Flow 2.4.1 Conflict Process	A-8
Figure A- 8 -- Flow 2.5 NPAC SMS Disaster Recovery Process	A-9
Figure A- 9 -- Flow 2.6 Cancellation Process	A-10
Figure A- 10 -- Flow 2.7 Audit Process	A-11
Figure A- 11 -- Flow 2.8 Report Process	A-12
Figure E- 1 -- Subscription Download File Example	E-1
Figure E- 2 -- Network Service Provider Download File Example	E-4
Figure E- 3 -- Network NPA-NXX Download File Example	E-5
Figure E- 4 -- Network LRN Download File Example	E-6
Figure E- 5 -- Network NPA-NXX-X Download File Example	E-7
Figure E- 6 -- Block Download File Example	E-8

 


 
List of Tables
Table 0 1 Notation Key	0-5
Table 0 2 Language Key	0-5
Table 1 1 Business Day/Hour Behavior	1-5
Table 1 2 Timer Type Behaviour	1-6
Table 1 3 Vacant Number Treatment/Snapback Notification	1-12
Table 3 1 Data Type Legend	3-3
Table 3 2 NPAC Customer Data Model	3-5
Table 3 3 NPAC Customer Contact Data Model	3-7
Table 3 4 NPAC Customer Network Address Data Model	3-7
Table 3 5 NPAC Customer Associated Service Provider Data Model	3-8
Table 3 6 Subscription Version Data Model	3-12
Table 3 7 Subscription Version Failed SP List Data Model	3-12
Table 3 8 Number Pooling Block Holder Information Data Model	3-15
Table 3 9 Number Pooling Block Failed SP List Data Model	3-15
Table 3 10 Portable NPA-NXX Data Model	3-16
Table 3 11 LRN Data Model	3-16
Table 3 12 LSMS Filtered NPA-NXX Data Model	3-17
Table 3 13 Number Pooling NPA-NXX-X Holder Information Data Model	3-18
Table 3 14 Number Pool Block Version Status Interaction Descriptions	3-56
Table 5 1 Subscription Version Status Interaction Descriptions	5-7
Table 6 1  Interface Protocol Stack	6-2
Requirement Table 3 1, RR3-137.2 -- Block Creation	3-60
Requirement Table 3 2, RR3-137.3 -- Block Modification	3-61
Requirement Table 3 3, RR3-137.4 -- Block Deletion	3-62
Requirement Table 3 4, RR3-138.2 – Failed SP List	3-64
Table C- 1 -- Subscription Tunables	C-4
Table C- 2 -- Communications Tunables	C-7
Table C- 3 -- Audit Tunables	C-8
Table C- 4 -- Logs Tunables	C-9
Table C- 5 -- Keys Tunables	C-9
Table C- 6 -- Block Tunables	C-9
Table D- 1 -- Encryption Key Exchange File Format	D-2
Table D- 2 -- Encryption Key Acknowledgement File Format	D-3
Table E- 1 -- Explanation of the Fields in The Subscription Download File	E-3
Table E- 2 -- Explanation of the Fields in the Network Service Provider Download File	E-4
Table E- 3 -- Explanation of the Fields in the Network NPA/NXX Download File	E-5
Table E- 4 -- Explanation of the Fields in the Network LRN Download File	E-6
Table E- 5 -- Explanation of the Fields in the Network NPA-NXX-X Download File	E-7
Table E- 6 -- Explanation of the Fields in The Block Download File	E-9


 
0.	Preface
This section describes the organization and typographical conventions used within the document.
0.1	Document Structure
This document is organized into sections as defined below:
Preface	This section describes the document structure, conventions, and references used to develop this document.
Section 1	Introduction - This section introduces the project and describes its scope and objectives, constraints, associated assumptions, and related references.
Section 2	Business Process Flows - This section provides the high level processing flows for the NPAC SMS.
Section 3	NPAC Data Administration - This section provides the high level functional requirements related to the NPAC SMS data relationships.
Section 4	Service Provider Data Administration - This section contains the functional requirements for managing service provider information on the NPAC SMS.
Section 5	Subscription Administration - This section contains the functional requirements associated with managing service provider subscriptions for ported numbers on the NPAC SMS.
Section 6	NPAC SMS Interfaces - This section contains the functional requirements associated with the NPAC SMS external interfaces.
Section 7	Security - This section contains the functional requirements for the NPAC SMS system security.
Section 8	Audit Administration - This section contains the functional requirements for NPAC SMS audit administration.
Section 9	Reports - This section contains the functional requirements for NPAC SMS reporting capabilities.
Section 10	Performance and Reliability - This section contains the functional requirements for NPAC SMS system performance and reliability.
Section 11	Billing - This section contains the functional requirements for NPAC SMS usage recording for usage billing.
Appendix A	This section contains the flow diagrams depicting the NPAC SMS process flows.
Appendix B	Glossary - This section provides a description of all acronyms and terms used in this document.
Appendix C	System Tunables - This section provides a list of all system tunables and their default values.
Appendix D	Encryption Key Exchange – This section provides information on exchange of keys between Service Providers and the NPAC SMS.
Appendix E	Download File Examples – This section provides descriptions of the NPAC SMS data download files.
Appendix F	Midwest Region Number Pooling – This section is deleted in release 3.0.0.
Appendix G	Deleted Requirements – This section provides a list of requirements that have been deleted from the FRS.
Appendix H	Release Migration – This section provides requirements for the data migration of the NPAC SMS from Release 2.0 to 3.0.
0.2	Document Numbering Strategy
Starting with Release 2.0 the documentation number of the FRS document will be Version X.Y.Z as follows:
X – will only be incremented when a new major release of the NPAC SMS system is authorized.  It will contain only the Change Orders that have been authorized for inclusion in this new major release.
Y – Will only be incremented when a new sub-release of an existing release X is authorized.  It will contain only the Change Orders that have been authorized for inclusion in this new sub-release.
Z – will be incremented when documentation only clarifications and/or backward compatibility issues or other deficiency corrections are made in the FRS and/or IIS.  This number will be reset to 0 when Y is incremented.
For example, the first release of the Release 2 FRS will be numbered 2.0.0.  If documentation only clarifications are introduced in the next release of the FRS document it will be numbered 2.0.1.  If requirements are added to Release 2.0 that require NPAC SMS software changes then the next release of the FRS document will be numbered 2.1.0.
This number scheme is intended to make the mapping between NPAC SMS and the FRS and IIS documentation consistent.
0.3	Document Version History
0.3.1	Release 1.0
NANC Version 1.0, released on 04/07/97, contains changes from the ICC Subcommittee FRS Version 1.1.5.  
NANC Version 1.1, released on 05/08/97, contains changes from the NANC FRS Version 1.0.
NANC Version 1.2, released on 05/25/97, contains changes from the NANC FRS Version 1.1.
NANC Version 1.3, released on 07/09/97, contains changes from the NANC FRS Version 1.2.
NANC Version 1.4, released on 08/08/97, contains changes from the NANC FRS Version 1.3.
NANC Version 1.5, released on 09/09/97, contains changes from the NANC FRS Version 1.4.
NANC Version 1.6, released on 11/12/97, contains changes from the NANC FRS Version 1.5.
NANC Version 1.7, released on 12/12/97, contains changes from the NANC FRS Version 1.6.
NANC Version 1.8, released on 2/11/98, contains changes from the NANC FRS Version 1.7.
NANC Version 1.9, released on 5/13/98, contains changes from the NANC FRS Version 1.8.
NANC Version 1.10, released on 7/8/98, contains changes from the NANC FRS Version 1.9.

0.3.2	Release 2.0
NANC Version 2.0.0, released on 12/1/98, contains changes from the NANC FRS Version 1.10.
NANC Version 2.0.1, released on 5/1/99, contains changes from the NANC FRS Version 2.0.0.
NANC Version 2.0.2, released on 9/1/99, contains changes from the NANC FRS Version 2.0.1.

0.3.3	Release 3.0
NANC Version 3.0.0, released on 1/5/00 and 2/4/00 (revised version), contains changes from the NANC FRS Version 2.0.2.
NANC Version 3.0.1, released on 6/6/00, contains changes from the NANC FRS Version 3.0.0
NANC Version 3.0.2, released on 3/1/01, contains changes from the NANC FRS Version 3.0.1
NANC Version 3.0.3, released on 3/19/01, contains the following changes from the NANC FRS Version 3.0.2
•	Change Order NANC 314 – FRS Documentation Only Change – Subscription and Block Download File section in Appendix E have incorrect DPC data examples – This change order was incorporated incorrectly in FRS Version 3.0.2.

0.4	Abbreviations and Notations
To uniquely identify requirements, this document follows a naming convention where the first character is always a letter denoting whether the item is an assumption (A), a constraint (C) or a requirement (R).
In order to identify all NPAC SMS functional requirements this document incorporates information from three sources: the Illinois NPAC SMS RFP, Lockheed Martin’s (NeuStar, Inc. as of December 1999) response to the RFP and requirements definition activities performed with the Illinois Number Portability SMS Subcommittee. 
Illinois number of requirements has been adopted for the initial release of the NANC document.  In Illinois as requirements were deleted the requirement number and an indication of its deletion were left in the document for tracking purposes.  NANC has chosen to leave these deleted requirements in this document for the initial release of the document.  Further explanation of the numbering scheme follows.
If the second character is the letter “N”, the item is a requirement, assumption or a constraint that was stated in the narrative portion of the RFP and not assigned a number.  The number following this character identifies the item’s section in the RFP/requirements document.
If the second character is the letter “X”, the item is a requirement, assumption or a constraint that was added upon award, and not in the RFP.  These items represent clarifications or enhancements to the RFP.  The number following this character identifies the item’s section in the RFP/requirements document.
If the second character is the letter “R”, the item is a requirement, assumption or a constraint that was identified during requirements analysis and verification activities subsequent to award.  These items represent clarifications or enhancements to the RFP.  The number following this character identifies the item’s section in the RFP/requirements document.
The following labels are used to identify assumptions, constraints, and requirements within the document.  Each label begins with the letter A, C, or R followed either by a number or letter illustrated below:
A-<nnn>	Is a label for each assumption in the document.  Assumptions are conditions that are expected to be true during the design and implementation phases of the project. This is an assumption that was a numbered assumption in the RFP.
AN-<nnn>	This is an assumption that was contained in the narrative text in the RFP.
AP-<nnn>	This is an assumption that was added upon award.
AR-<nnn>	This is an assumption that was identified as a new assumption for the system, during post-award meetings with the Illinois LCC.
C-<nnn>	Is a label for each constraint within the document.  Constraints are conditions that restrict the design and implementation scope of the project. This is a constraint that was a numbered constraint in the RFP.
CN-<nnn>	This is a constraint that was contained in the narrative text in the RFP.
CP-<nnn>	This is a constraint that was added upon award.
CR-<nnn>	This is a constraint that was identified as a new constraint for the system, during post-award meetings with the Illinois LCC.
R-<nnn>	Is a label for each requirement in the document.  Requirements define the functionality expected of the design and implementation. This is a requirement that was a numbered requirement in the RFP.
RN-<nnn>	This is a requirement that was contained in the narrative text in the RFP.
RR-<nnn>	This is a requirement that was identified in a NPAC SMS release subsequent to 1.X.

 

RX-<nnn>	This is a requirement that was added upon award. 
RR-<nnn>	This is a requirement that was identified as a new requirement for the system, during post-award meetings with the Illinois LCC.
Table 0 1 Notation Key
0.5	Document Language
Specific language is used in the document to denote whether a statement is informative or required.  The following words have these connotations when used to describe actions or items:

shall	The use of the term “shall” in this document is intended to precede a required statement.  Compliance with “shall” must be demonstrated during design review and system acceptance testing.
is,
will,
should	Use of the terms “is,” “will,” or “should” in this document is intended to identify guidance or preference.  Statements annotated in this manner are to be treated as informative or preference, but not required.  Statements following the words “is,” “will,” or “should” are not a mandatory deliverable for the final system.
Table 0 2 Language Key

 
1.	Introduction
This document defines the functional requirements of the Number Portability Administration Center Service Management System (NPAC SMS) enabling Service Provider Portability. 
This introduction gives readers a brief overview of NPAC SMS functionality. It is intended to prepare you for the detailed sections that follow.  If you need more information on any particular area, please consult the applicable detailed sections in the remainder of this document or the NPAC SMS Interoperable Interface Specification. 
This introduction is also meant to convey the basic course of events that give the best understanding of the system. Alternate courses of events (variants of the basic course or error paths) are described in the detailed sections later in this document and in the NPAC SMS Interoperable Interface Specification.
1.1	NPAC SMS Platform Overview
The Number Portability Administration Center Service Management System (NPAC SMS) is a hardware and software platform, which contains the database of information required to effect the porting of telephone numbers.  In general, the NPAC SMS can receive customer information from both the old and new Service Providers (including the new Location Routing Number), validates the information received, and downloads the new routing information when an "activate" message is received indicating that the customer has been physically connected to the new Service Provider's network.  The NPAC SMS also contains a record of all ported numbers and a history file of all transactions relating to the porting of a number.  The NPAC SMS shall also provide audit functionality and the ability to transmit LNP routing information to Service Providers to maintain synchronization of Service Provider’s network elements that support LNP.
1.2	NPAC SMS Functional Overview
1.2.1	Provisioning Service Functionality
The new Service Provider will obtain authorization to port the customer and notify the old Service Provider according to processes internal to the Service Providers.  Both the old and new Service Providers can send a notification to the NPAC SMS from their Service Order Administration Systems (SOA).  When the NPAC SMS receives the notification(s), it will perform certain validation checks, and attempt to match the notification received from the new Service Provider with a concurring notification that may be sent from the old Service Provider.  Assuming the notifications are valid, the two Service Providers will complete any physical changes required.  When the new Service Provider due date is reached, the new Service Provider can send an activation notice to the NPAC SMS.  The NPAC SMS will broadcast the update out in real time to each local SMS.  Upon receiving the update from the NPAC SMS, all Service Providers will update their networks.  The NPAC SMS will record any transmission failures and take the appropriate action.
In the case where either the old or new Service Providers did not send a notification to the NPAC SMS, the NPAC SMS will notify the Service Provider from which it did not receive a notification that it is expecting a notification.  If it then receives the missing notification and the notifications indicate agreement among the Service Providers, the process proceeds as normal. If it still does not receive a notification and if it is the old Service Provider that failed to respond, the NPAC SMS will log the failure to respond and allow the new Service Provider to proceed with activation when the new Service Provider due date is reached.  If it was the new Service Provider that failed to respond, the NPAC will log the failure to respond, cancel the request, and notify both Service Providers of the cancellation.  If there is disagreement among the Service Providers as to who will be providing service for the telephone number, the conflict resolution procedures will be implemented (see Section 1.2.4). Processes for obtaining authorization from the customer to port a number are defined by the Service Providers.  The NPAC is not involved in obtaining or verifying customer approval to port a TN.
1.2.2	Disconnect Service Functionality
When a ported number is being disconnected, the customer and Service Provider will agree on a date. The current Service Provider will send an update indicating the disconnect to the NPAC SMS. The NPAC SMS will broadcast the update to all Service Providers based on the disconnect effective date and remove the telephone number from its database of ported numbers. Upon receiving the update, all Service Providers will remove the telephone number from their LNP databases. The NPAC SMS will log the update in history. Calls to the telephone number will be routed as a non¬-ported number.
1.2.3	Repair Service Functionality
A problem will be detected either by a Service Provider or by a customer contacting a Service Provider.
There will be audit capabilities in the NPAC SMS to aid in isolating problems. If an inaccuracy is found, the NPAC SMS will supply the correct data to any local SMS requesting updates.
1.2.4	Conflict Resolution Functionality
If Service Providers disagree on who will serve a particular line number, the NPAC SMS will place the request in the "conflict" state and notify both Service Providers of the conflict status and the Status Change Cause Code.  The Service Providers will determine who will serve the customer via internal processes.  When a resolution is reached, the NPAC will be notified and will remove the request from the "conflict" state by the new Service Provider.  The new Service Provider can cancel the Subscription Version.
1.2.5	Disaster Recovery and Backup Functionality
If there is unplanned downtime, the NPAC will assess how long the primary machine will be down.  The NPAC will notify all of the Service Providers of the situation and planned action by electronic notification and telephone calls to the Service Providers' contact numbers.  The Service Providers will attempt to switch to the backup NPAC.

1.2.6	Order Cancellation Functionality
If a Create Subscription has been sent by only the new Service Provider, the new Service Provider may send a message to the NPAC SMS to cancel the Subscription Version.  If a Create Subscription has been sent by only the old Service Provider, the old Service Provider may send a message to the NPAC SMS to cancel the Subscription Version.  If both Service Providers have sent a Create Subscription, either may send a message to the NPAC SMS to cancel the Subscription Version.  If both Service Providers concur with the cancellation, the NPAC SMS will set the Subscription Version to canceled and notify both Service Providers that the Subscription Version has been canceled.  If cancellation concurrence is not provided by the new Service Provider the Subscription Version is placed in conflict by the NPAC SMS.  If cancellation concurrence is not provided by the old Service Provider, the Subscription Version is set to cancel by the NPAC SMS.
1.2.7	Audit Request Functionality
An audit function will be necessary for troubleshooting customer problems and also as a maintenance process to ensure Subscription Version data integrity across the entire LNP network. Audits will be concerned with the process of comparing the NPAC SMS view of the LNP network’s Subscription Version data with one or more of the Service Provider’s views of its network.  In the case of “on demand” audits, audits may be initiated by any Service Provider who has reason to believe a problem may exist in another Service Provider’s network.  These audits are executed via queries to the appropriate Service Provider’s network, and corrected via downloads to those same networks.
In addition, Local Service Providers will be responsible for comparing database extracts of Subscription data written to an FTP site by the NPAC SMS with their own versions of the same Subscription data.
In a third scenario, the NPAC SMS will select a random sample of active Subscription Versions from its own database, then compare those samples to the representation of that same data in the various Local SMS databases.  All three of the methods outlined above are designed to help ensure data integrity across the LNP network.
1.2.8	Report Request Functionality
The NPAC SMS supports report generation for pre-defined and ad-hoc reports.  The report generation function creates output report files according to specified format definitions, and distributes reports to output devices as requested.  The report distribution service supports distribution to electronic files local/remote printers, e-mail and FAX machines.
1.2.9	Data Management Functionality
The NPAC SMS will support functionality to manage network, Service Provider, and Subscription Version data.
1.2.9.1	NPAC Network Data
The NPAC SMS contains data, which defines the configuration of the LNP service and network.  This includes such data as: participating Service Providers, NPA NXXs that are portable, and LRNs associated with each Service Provider.
1.2.9.2	Service Provider Data
The Service Provider data indicates who the LNP Service Providers are and includes location, contact name, security, routing, and network interface information.
1.2.9.3	Subscription Version Data
The subscription data indicates how local number portability should operate to meet subscribers' needs.
1.2.10	NPA-NXX Split Processing
For an impending NPA split, there is no communication between each SOA and the NPAC via an electronic interface (SOA, LSMS, or NPAC Administrative Interface) other than providing the NPAC with the new network data (LRNs and NPA-NXXs), if applicable.  The NPAC inputs via the NPAC Administrative Interface the information for the NPA split (the current NPA, the new NPA, and the affected NXXs) plus the beginning and end date of the permissive dialing period.  This function of the NPAC Administrative Interface is only available to NPAC Operations personnel.
The NPAC will update its subscription version records when permissive dialing starts to the new NPA.  During the permissive dialing period the NPAC will accept messages with either old or new NPA but broadcasts/downloads with the new NPA only.  In addition, all notifications and responses to the SOA system will contain the new NPA only during the permissive dialing period regardless of whether the SOA system is using the old or new NPA in its requests to the NPAC SMS.  If a delete request is received, it is broadcast with the new NPA.  The subscription version ID that the NPAC SMS is aware of for the TN is used in the messages.
Based on information from the LERG, the service providers will update their networks/LSMS to accommodate the permissive dialing period and will update the data in their networks/LSMS after permissive dialing ends.  There is no communication from the NPAC to cause these updates to occur.   No assumptions are made about what the LSMS does during the permissive period to track the NPA-NXX split for a subscription version.
After permissive dialing ends, the NPAC removes any old NPA-NXXs and/or NPA-NXX-Xs related to the NPA Split that are no longer valid, and broadcasts these network data deletes to the appropriate SOAs/LSMSs.  Additionally, the service providers can remove any old LRNs that are no longer valid due to the split, if any, via an electronic interface (SOA, LSMS, or NPAC Administrative Interface).
 

1.2.11	Business Days/Hours
For support of service providers that have different needs for business hours and days available for porting, two types of business days/hours have been defined in the NPAC SMS.  The two types are long and short business days/hours.
The following table illustrates the outcome of business hours/days to be used based on the possible combinations:

	OLD Service Provider
New Service Provider	Business Type	Short	Long
	Short	When both the old and new service providers support short business days/hours for a subscription version port short business days/hours will be used. 

No action is necessary by either the old or new service provider operations personnel.	When the new service provider supports short business days/hours and the old service providers supports long business days/hours for a subscription version port short business days/hours will be used. 

The old service provider who supports the long business days/hours will have to recognize that the short business days/hours are being used instead of the expected long business days/hours.
	Long	When the new service provider supports long business days/hours and the old service providers supports short business days/hours for a subscription version port short business days/hours will be used. 

The new service provider who supports the long business days/hours will have to recognize that the short timers are being used instead of the expected long timers.	When both the old and new service providers support long timers for a subscription version port long timers will be used.  

No action is necessary by either the old or new service provider operations personnel.
Table 1 1 Business Day/Hour Behavior

1.2.12	Timer Types
For support of service providers that have different needs for timers available for porting, two types of timers have been defined in the NPAC SMS.  The two types are long and short timers.

The following table illustrates the outcome of timers to be used based on the possible combinations:

	OLD Service Provider
New Service Provider	Timer Type	Port Out- Short	Port Out- Long
	Port In – Short	When both the old and new service providers support short timers for a subscription version port short timers will be used. 

No action is necessary by either the old or new service provider operations personnel.	When the new service provider supports short timers and the old service providers supports long timers for a subscription version port long timers will be used. 

The new service provider who supports the short timers will have to recognize that the long timers are being used instead of the expected short timers.
	Port In – Long	When the new service provider supports long timers and the old service providers supports short timers for a subscription version port long timers will be used. 

The old service provider who supports the short timers will have to recognize that the long timers are being used instead of the expected short timers.	When both the old and new service providers support long timers for a subscription version port long timers will be used.  

No action is necessary by either the old or new service provider operations personnel.
Table 1 2 Timer Type Behaviour

1.2.13	Recovery Functionality
The NPAC SMS provides a mechanism that allows a Service Provider to recover messages sent to either the SOA or LSMS, during a period of time that the Service Provider was not available to receive messages from the NPAC SMS.  This recovery mechanism (also referred to as resynchronization) is initiated when a Service Provider’s SOA or LSMS re-associates to the NPAC SMS, by setting the recovery mode indicator to TRUE on the Access Control structure, then requests the recovery of missed messages, by requesting the missed Network Data, Subscription Versions and Notifications.
The SOA requests network data and notification data for a specific period of time from the NPAC SMS, which is sent by the NPAC SMS as requested. During the recovery process, new messages are queued on the NPAC SMS.  Additionally, during the recovery process, the “x by y” retry functionality (where “x” is the number of attempts, and “y” is the interval in number of minutes in between attempts) continues on the NPAC SMS, but message sending is suspended to the SOA, and the retry attempts counter is not decremented, as long as the SOA is still in recovery mode.  Once the recovery is finished, the SOA sends a recovery complete message to the NPAC SMS, which in turn triggers the NPAC SMS to send the previously queued messages to the SOA, at the next normally scheduled retry interval.  At the completion of sending the previously queued messages, the interaction between the SOA and the NPAC SMS resumes for normal message processing.
The LSMS recovery functionality works similar to the SOA, with the addition of recovering subscription data.
1.2.13.1	Network Data Recovery
Network Data Recovery in the NPAC SMS allows a Service Provider for both SOA and LSMS to capture, via a recovery process, all network data downloads that were missed during a downtime period for the Service Provider.  The processing steps for this functionality include:
1.	The Service Provider system sends a network data recovery request to the NPAC.
2.	The NPAC takes the time range in the requested criteria, and compares the number to the current tunable value.
3.	If the time range exceeds the tunable value, a DownloadReply is returned to the SP system with the status field populated with value 2, signifying “time-range-invalid”.  No network data will be included with this reply.
4.	When an SP system sees this response, the suggested behavior is to reduce the time range requested in the network data recovery action and re-issue the request.
1.2.13.2	Subscription Data Recovery
Subscription Data Recovery in the NPAC SMS allows a Service Provider’s LSMS to capture, via a recovery process, all subscription data downloads that were missed during a downtime period for the Service Provider.  The processing steps for this functionality include:
1.	The Service Provider system sends a subscription data recovery request to the NPAC.
2.	The NPAC takes the time range in the requested criteria, and compares the number to the current tunable value.
3.	If the time range exceeds the tunable value, a DownloadReply is returned to the SP system with the status field populated with value 2, signifying “time-range-invalid”.  No subscription data will be included with this reply.
4.	When an SP system sees this response, the suggested behavior is to reduce the time range requested in the subscription data recovery action and re-issue the request.
1.2.13.3	Notification Recovery
Notification Recovery in the NPAC SMS allows a Service Provider for both SOA and LSMS to capture, via a recovery process, all notifications that were missed during a downtime period for the Service Provider.  The processing steps for this functionality include:
1.	The Service Provider system sends a notification recovery request to the NPAC.
2.	The NPAC retrieves the records that match the requested criteria, and compares the number to the current tunable value.
3.	If the number of records exceeds the tunable value, a NetworkNotificationRecoveryReply is returned to the SP system with the status field populated with value 3, signifying “criteria-too-large”.  No notifications will be included with this reply.
4.	When an SP system sees this response, the suggested behavior is to reduce the time range requested in the notification recovery action and re-issue the request.
1.2.14	Number Pooling Overview
At the present time, the National Number Pooling approach includes the following:
1.	Pre-Port 1K Blocks to a single switch (i.e., all Pooled TNs contain same LRN).
2.	EDR (Efficient Data Representation) is captured through the use of “1K Blocks” in the NPAC, and over the SOA-to-NPAC and NPAC-to-LSMS interfaces.
3.	The NPA-NXX-X Holder Information in the NPAC is a representation of the 1K Block managed by the Pooling Administrator, and represented in the LERG.
4.	The NPAC Customer SOA NPA-NXX-X Indicator in the NPAC Customer Data Model will be added to indicate whether or not the Service Provider accepts NPA-NXX-X downloads from the NPAC (TRUE = yes, FALSE = no) to their SOA via the SOA-to-NPAC SMS Interface.
5.	The NPAC Customer LSMS NPA-NXX-X Indicator in the NPAC Customer Data Model will be added to indicate whether or not the Service Provider accepts NPA-NXX-X downloads from the NPAC (TRUE = yes, FALSE = no) to their LSMS via the NPAC SMS-to-Local SMS Interface.
6.	The NPAC Customer Data Model (logical) and Service Provider Profile (physical) refer to the same information.
7.	The NPA-NXX-X Holder Information is broadcast over the SOA-to-NPAC SMS Interface to all Service Providers in that NPAC region (exclusive of those that have filters for that NPA-NXX, and those who have a SOA NPA-NXX-X indicator in the Customer Data Model set to FALSE), for the block allocation of NPA-NXX-X data to the NPA-NXX-X Holder.
8.	The NPA-NXX-X Holder Information is broadcast over the NPAC SMS-to-Local SMS Interface to all Service Providers in that NPAC region (exclusive of those that have filters for the NPA-NXX, and those who have an LSMS NPA-NXX-X indicator in the Customer Data Model set to FALSE), for the block allocation of NPA-NXX-X data to the NPA-NXX-X Holder.
9.	The NPA-NXX-X Holder Information’s “Effective Date” is the date the LERG, the Pooling Administrator, and the NPAC, consider to be the “ownership switchover” date for the 1K Block from the Code Holder (NPA-NXX owning SP) to the Block Holder (NPA-NXX-X owning SP).
10.	At the time of NPA-NXX-X creation, the NPAC will check for "pending-like, no-active" SVs or “pending-like Port-To-Original” SVs.  If any are found, the NPAC will reject the creation of this NPA-NXX-X.  An error message will be generated for the NPAC personnel.  Additionally, the NPAC Personnel will be able to view the discrepant TNs (on the screen in the Pending-Like No-Active Subscription Version and Pending-Like Port-to-Original Subscription Version REPORT format), then be able to select multiple output destinations for the report, or exit the NPA-NXX-X Creation and continue with other GUI activities.
11.	The Pending-Like No-Active Subscription Version and Pending-Like Port-to-Original Subscription Version report will be available to NPAC personnel.  The report will contain TN, Old SPID, New SPID, Due Date, and Status.
12.	The recipients of the Pending-Like No-Active Subscription Version and Pending-Like Port-to-Original Subscription Version report (e.g., Pooling Administrator, Code Holder) will have their own M&P (outside of NPAC) to clean up these SVs (either cancel or activate).  Once they are cleaned up, NPAC personnel will attempt the NPA-NXX-X creation again.
13.	Once the NPA-NXX-X has been created on the NPAC, the Code Holder is prohibited from performing intra-service provider ports.  If TNs were missed during the Code Holder's pre-donation intra-port activities, then NPAC personnel only are allowed to perform these intra-service provider port creates of SVs with no previously active SV, on behalf of the Code Holder.  The NPAC will allow NPAC personnel, via the OpGUI, to create these LISP ports up to the effective date (11:59p of the day prior to the effective date), and to activate these LISP ports up to the Block’s activation date/time.  The Code Holder can also assist in the activation of the LISP ports up to the Block’s activation date/time.
14.	Once the NPA-NXX-X's Effective Date has been reached, but prior to the Block’s activation, snapback messages will go to the Block Holder, and default routing will be the responsibility of the Code Holder.  The exception to this is during the de-pool process for the NPA-NXX-X (see #31 below).
15.	Once the Block has been created (the record exists in the NPAC SMS and the Creation Timestamp in the Object has been set) in the NPAC, either from a scheduled event on the NPAC, or from a Service Provider SOA sending up the Block, then NPAC processing considers the Block to be “activated” for the Block Holder, and all snapback messages and default routing will go to the Block Holder.
16.	The Block Holder Information is broadcast over the NPAC-to-LSMS interface, when the SP’s LSMS EDR flag in the Customer Profile record in the NPAC, is set to TRUE (non-EDR LSMSs get individual SVs, since the SP's LSMS EDR flag is set to FALSE).
17.	The Block Holder Information’s “Activation Timestamp” is the date/time the NPAC broadcasts block or SV data to the applicable LSMSs.  Only at this point in time are all SPs notified of the “ownership switchover” date for the 1K Block from the Code Holder (NPA-NXX owning SP) to the Block Holder (NPA-NXX-X owning SP).
18.	Block Create messages over the SOA-to-NPAC SMS Interface will set the SOA Origination to TRUE.
19.	The Block Holder Information's SOA notification is broadcast over the SOA to NPAC Interface, when the SOA Origination on the Block record is set to TRUE.
20.	At the time of Block creation by the NPAC (attempted on or after the NPA-NXX-X's Effective Date), the NPAC will check for "pending-like, no-active" SVs.  If any are found, the NPAC will reject the creation of this Block.  A unique alarmable error message (new error message and error number for Block) will be generated and alarm NPAC personnel.
21.	At the time of Block creation by the SP's SOA (attempted on or after the NPA-NXX-X's Effective Date), the NPAC will check for "pending-like, no-active" SVs.  If any are found, the NPAC will reject the creation of this Block.  A unique alarmable error message (new error message and error number for Block, but no alarm to NPAC Personnel) will be generated and sent back to the SP's SOA.  A new M&P will require the SP to contact NPAC personnel (USA) and request the generation of the Pending-Like No-Active Subscription Version and Pending-Like Port-to-Original Subscription Version report.
22.	The Pending-Like No-Active Subscription Version and Pending-Like Port-to-Original Subscription Version report will be created and will contain TN, Old SPID, New SPID, Due Date, and Status.
23.	The recipients of the Pending-Like No-Active Subscription Version and Pending-Like Port-to-Original Subscription Version report (e.g., Pooling Administrator, Code Holder) will have their own M&P (outside of NPAC) to clean up these SVs (either cancel or activate) by the Code Holder and the NPAC Personnel.  Once they are cleaned up, NPAC personnel will attempt the Block creation again (if it is NPAC initiated), or contact the Block Holder SP and inform them that they could re-submit the Block request.
24.	If during the broadcast of the Pooled Data (Blocks and SVs), one or more Service Providers cause the Block to go into a Partial Failure or Failed status, the NPAC will generate a unique alarmable message, and NPAC Personnel will be notified of the error, only when the SOA Origination is FALSE (if value is TRUE, existing M&Ps for partial failure or failed conditions will be used).  M&P will be established to have NPAC Personnel resolve the broadcast failures with the Service Providers on the Block’s Failed SP List.
25.	The NPAC will execute a background process, once a day, to check for Block completeness.  During this background process, the NPAC will check for active blocks that haven’t been verified to contain 1000 SVs (combination of POOL, LISP, LSPP) for that Block..  This is designed to capture any “disconnect requests that were sending on it’s way to old”, which may result in an orphan TN that does NOT have an Active SV.  This background process will be run for the first time within 24 hours of Block Creation (with an Active status), and once every 24 hours thereafter for incomplete Blocks.  For missing TNs that are identified during this process, the NPAC will create, activate and broadcast the missing SVs to non-EDR Local SMSs (i.e., self-fixing create, activate and broadcast of missing SVs).  Once all 1000 TNs have been accounted for in the NPAC, this Block will no longer be checked by the NPAC.
26.	The NPAC will manage the synchronization of, and maintain the integrity of, the data between a Block and the subordinate Pooled Subscription Versions within the Block.  This means that, at all times, the LRN and GTT routing data for the Block and all SVs with LNP Type of POOL within the 1K Block, will contain the same values.  The status for the Block and status for each SV with LNP Type of POOL within the 1K Block, may not always contain the same value.  The matrix to coordinate the status is found in the detailed requirements.  The failed SP List for the Block and Failed SP List for each SV with LNP Type of POOL within the 1K Block, may not always contain the same Service Providers.  The matrix to coordinate the various Failed SP Lists is found in the detailed requirements.
27.	Once a Block is “active”, the routing data can be modified.  This may be performed by NPAC Personnel using the NPAC OpGUI, Service Provider Personnel using the NPAC Low-tech Interface, or Service Provider via the SOA-to-NPAC SMS Interface.
28.	At the time of NPA-NXX-X deletion (i.e., de-pool), the NPAC will check for “pending-like, with Active POOL” SVs, or “pending-like, port-to-original” SVs.  If any are found, the NPAC will reject the Deletion of this NPA-NXX-X.  An error message will be generated for the NPAC personnel.  Additionally, the NPAC Personnel will be able to view the discrepant TNs (on the screen in the Pending-Like With Active POOL Subscription Version and Pending-Like Port-To-Original REPORT format), then be able to select multiple output destinations for the report, or exit the NPA-NXX-X Deletion and continue with other GUI activities.
29.	The Pending-Like With Active POOL Subscription Version and Pending-Like Port-to-Original Subscription Version report will be available to NPAC personnel.  The report will contain TN, Old SPID, New SPID, Due Date, and Status.
30.	The recipients of the Pending-Like With Active POOL Subscription Version and Pending-Like Port-to-Original Subscription Version report (e.g., Pooling Administrator, Block Holder) will have their own M&P (outside of NPAC) to clean up these SVs (either cancel or activate).  Once they are cleaned up, NPAC personnel will await notification from the Pooling Administrator prior to attempting the NPA-NXX-X deletion again.
31.	The NPAC performs a “cascading delete” when processing an NPA-NXX-X Deletion.  This includes sending deletes of Pooled SV data to non-EDR LSMSs, and sending deletes of Block data to EDR LSMSs.  Once all LSMSs have successfully deleted the Pooled data (the status of all SVs and the Block is Old, and both Failed SP Lists are empty), the NPA-NXX-X is deleted.  Similar to the NPA-NXX-X Creation, the NPA-NXX-X Deletion is broadcast to the appropriate Service Providers, based on the values in their NPA-NXX-X Indicators.
32.	During the de-pooling process, the vacant number treatment responsibility and snapback for TN re-assignment notifications have unique behavior, once the Block has migrated to a status of Old.  As defined in #14 above, snapback messages will go to the Block Holder, and default routing will be the responsibility of the Code Holder, once the NPA-NXX-X's Effective Date has been reached.  However, in this de-pooling situation, both snapback messages and default routing responsibility will be the Code Holder.  So, even though the NPA-NXX-X still exists, it has the same behavior as the “pre-effective date” NPA-NXX-X situation.
33.	Once the Block has been deleted in the NPAC, then NPAC processing considers the Block to be “deleted” for the Block Holder, and all snapback messages and default routing will go to the Code Holder.  Additionally, the Block is now available to be allocated to another Service Provider.
34.	For NPA Split processing, at the start of the Split, the NPAC SMS will automatically create a New NPA-NXX-X to correspond to the Old NPA-NXX-X, and will reject the NPA Split request if the New NPA-NXX-X already exists at the time of the NPA Split entry.  The NPAC will remove the New NPA-NXX-X and convert the Block and SVs back to the Old NPA-NXX, if the New NPA-NXX is removed from the NPA Split, prior to the end of PDP.  When adding an NPA-NXX-X during an NPA Split, the NPAC will automatically add a corresponding New/Old NPA-NXX-X for an NPA-NXX involved in a Split.  During PDP, the NPAC will treat Block data similar to the treatment of SV data (i.e., either the Old or New NPA-NXX can be sent to the NPAC, but the NPAC will broadcast the New NPA-NXX).
35.	The NPAC Customer LSMS EDR Indicator in the NPAC Customer Data Model will be added to indicate whether or not the Service Provider uses Efficient Data Representation on the Local SMS (TRUE = yes, FALSE = no).
36.	The two new objects that will be broadcast over the interface include the NPA-NXX-X (1K Block) block allocation, and Block for EDR compatible Local SMSs that represent the 1000 TNs of POOL'ed numbers as the 1K Block.
37.	The basis for the National Number Pooling requirements was the Illinois Number Pooling NPAC Release 1.4.  The Number Pooling Delta document, National Number Pooling requirements, represents the requirements for National Number Pooling functionality.

 
The following table portrays “vacant number treatment” responsibility and “snapback for TN re-assignment” notifications throughout each phase of number pooling, once the Block has been donated to the Pooling Administrator:

Vacant Number Treatment	Pre effective date	post effective date	post Block activation	during Block de-pool
Contaminated disconnect	Code holder	Code holder	Block holder	Code holder
Non-contaminated	Code holder	Code holder	Block holder	Code holder
Snapback for TN re-assignment	
Contaminated disconnect	Code holder*	Block holder	Block holder	Code holder*
Non-contaminated	N/A	N/A	Block holder	N/A
Table 1 3 Vacant Number Treatment/Snapback Notification

* = Code Holder receives a notification but CANNOT reassign this TN.
NOTE:  for the last column (during Block de-pool), the behavior is the same as the pre-effective date column.  A block may still exist in the NPAC SMS with a status of Old.  At the time of de-pooling, the Block goes back to the Pooling Administrator and is awaiting re-assignment to the next Block Holder.  The NPA-NXX-X may also exist in the NPAC SMS until a Block is successfully deleted from all Local SMSs.

1.3	Background
Release 1.0
An industry task force was formed in Illinois in April 1995, pursuant to the Illinois Commerce Commission (ICC) Order on Customers First Plan (Docket 94 0096 dated April 7, 1995), to develop a permanent number portability solution for Illinois.  During that year, the task force made significant progress in defining and resolving the issues related to implementing number portability. All North American regions for deployment in all North American Local Number Portability Regions then used the work done by the Illinois task force to move forward with LNP implementation.  A group was formed under NANC called the LNPA Working Group that oversaw implementation issues and documentation clarifications to the FRS and IIS for Release 1.0.
Midwest Region Number Pooling
To support number pooling in the Midwest Region requirements were developed and implemented.  The requirements are included in Appendix F for completeness.  If a service provider system is implementing Midwest Region Number Pooling then some of these requirements will supercede other requirements in this FRS document.
Release 2.0
The industry through work in the LNPA Working Group defined requirements for the next major release to be adopted by all regions.  The Release 2.0 as agreed upon in all regions includes enhancements to the NPAC SMS for new functionality as well as modifications to existing functionality.  The major enhancements include service bureau support and network data support for SOA systems as well as enhancements to support service providers implementing wireless portability.
Release 3.0
Through the work of the LNPA Working Group, requirements for National Number Pooling were defined for Release 3.0 of the NPAC SMS.  National Number Pooling is implemented as a replacement to the Midwest Region Number Pooling solution that was implemented as Release 1.4 of the NPAC SMS.  This approach includes the optional use of a new Block object over the interface, such that the NPAC SMS now supports both the 1K Block of TNs using Subscription Versions and the new Block object, to represent a 1K block of pooled numbers.  This approach is further defined in section 1.2.14 Number Pooling Overview, of this document.
1.4	Objective
The objective of this document is to uniquely identify the baseline end-user, functional requirements that define the LNP SMS supporting number portability.
1.5	Assumptions
A1-1	Proportional Billing
The Service Providers will be billed in proportion to their usage of the services provided by the NPAC SMS.
AR1-1	Service Provider ID
All NPAC Customers will obtain a unique Service Provider ID from a proper source.
A1-2	Resource Accounting
The resource accounting measurements will not cause degradation in the performance of the basic functions of the NPAC SMS.
AR3-1	Greenwich Mean Time
Specific time of day references in the Functional Requirements Specification are assumed to be in Greenwich Mean Time (GMT) for the following:
•	SOA to NPAC SMS Messages
•	NPAC SMS to Local SMS Messages
•	Reports
AN3-4.1	NPA Split Information Source
The service provider responsible for the NPA split communicates NPA Split information to the NPAC.
AR3-2	NPAC Administrative and SOA Low-Tech Interface Time
Specific time of day references in the Functional Requirements Specification for the NPAC Administrative Interface and NPAC SOA Low-Tech Interface, are assumed to be in Local Time (standard/daylight) for that specific user.
AR3-3	System Tunable Time
Specific time of day references in the Functional Requirements Specification for the following system tunables, are assumed to be in Central Time (standard/daylight) for that specific user:
•	Conflict Restriction Window
•	Short Business Day Start Time
•	Long Business Day Start Time
AR4-1.1	Service Provider ID
All NPAC Customers will obtain a unique Service Provider ID from a proper source.
AR5-2	Conflict Resolution Tunable due date value
The time used for the conflict restriction tunable calculation relies on the time value specified in the New Service Provider due date.
AR6-1	Range Activations
A range activate will contain an average of 20 TNs.
AR6-2	Percent of Range Activations
20% of all downloads as specified in R6-28.1, R6-28.2, R6-29.1 and R6-29.2 will be processed via range activations.
A8-1	Service Provider Audits Issued Immediately
NPAC SMS will process audit requests from service providers immediately.
AR10 1	Scheduled Downtime
NPAC initiated downtime as defined in R10-5 does not include downtime needed for software release updates initiated by or collectively agreed to by the Service Providers.
A11-2	Accounting Measurements Will Not Degrade the Basic System Performance
The resource accounting measurements will not cause degradation in the performance of the basic functions of the NPAC.
A3-5	Associated Service Provider Multiple Service Provider Ids
Associated service providers using SOA functionality from another primary service provider must use another service provider id if they choose to interact with the NPAC independently from the primary service provider for SOA functionality.
1.6	Constraints
The following constraints shall be adhered to during the development of the software associated with the requirements within this document.
C1-1	Real Time Call Processing
The NPAC SMS is not involved in real time call processing.
C1-2	Service Provider Activity Tracking
The NPAC SMS is not involved in facilitating or tracking Service Provider-to-Service Provider activities.
CN2-1.1.1	Interactions between Service Providers are beyond the scope of the NPAC SMS
Processes for obtaining authorization from the customer to port a number are defined by the Service Providers.  The NPAC is not involved in obtaining or verifying customer authorization.  Details of steps in those processes do not involve the NPAC or NPAC SMS, and are beyond the scope of the NPAC SMS functionality.
CN2-1.3.1.	Service provider network change activities are beyond the scope of the NPAC SMS
Details of steps in the processes that do not involve the NPAC or NPAC SMS, such as physical changes performed in the Service Provider’s networks, are beyond the scope of the NPAC SMS functionality.
CN2-1.4.1	Service provider’s internal activities are beyond the scope of this document
Details of steps in the processes that do not involve the NPAC or NPAC SMS, such as physical changes performed in the Service Provider’s networks are beyond the scope of this document.
CN2.1.5.1.	Service Provider’s Network Change Validation Activities Are Beyond The Scope Of The NPAC SMS
Network testing performed by the Service Providers, such as testing of call processing and testing of Service Provider network elements, is beyond the scope of the NPAC SMS.
CN2-1.6.1	Service provider’s internal activities are beyond the scope of this document
Details of steps in the processes that do not involve the NPAC or NPAC SMS, such as updates to data performed in the Service Providers network elements are beyond the scope of this document.
CN2-3.3.1	Service provider’s repair activities are beyond the scope of the NPAC SMS
Details of steps in the repair processes that do not involve the NPAC or NPAC SMS, such as the customer’s notification of problems, the Service Provider’s analysis/troubleshooting activities and the Service Provider’s repair activities are beyond the scope of the NPAC SMS functionality.
CN2.4.2.1.	Service provider’s conflict resolution activities are beyond the scope of the SMS NPAC
Details of steps in the processes that do not involve the NPAC or NPAC SMS, such as conflict resolution escalation and arbitration activities are beyond the scope of this document.
CN2-6.1.1	Interactions between Service Providers are beyond the scope of this document
Processes for obtaining authorization from the customer to port a number are defined by the Service Providers.  The NPAC is not involved in obtaining or verifying customer authorization.  Details of steps in those processes do not involve the NPAC or NPAC SMS, and are beyond the scope of this document.
C3-1	Associated Service Provider Notification Aggregation
NPAC SMS aggregation of all messages over the SOA to NPAC SMS interface for primary and associated service provider ids will not be supported.

 
2.	Business Process Flows
The following process flows indicate how the NPAC SMS is used by the Service Providers in business processes associated with number portability.  Specific requirements generated by the process flows are included in the appropriate sections later in the document.
The process flows supported by the NPAC SMS are:
•	Service Provisioning
•	Service Disconnection
•	Service Repair
•	Conflict and Conflict Resolution
•	Disaster Recovery and Backup
•	Service Order Cancellation
•	Audit Requests
•	Report Requests
•	Data Administration Requests
2.1	Provision Service Process
This process flow defines the provisioning flow in which a customer ports a telephone number to a new Service Provider.  The service provisioning flow activities are shown in Appendix A, Flow 2.1 NPAC SMS Provision Service Process, on page A-3.
2.1.1	Service provider-to-service provider activities
The new Service Provider will notify the old Service Provider according to processes internal to the Service Providers.
CN2-1.1.1	Interactions between Service Providers are beyond the scope of the NPAC SMS
Processes for obtaining authorization from the customer to port a number are defined by the Service Providers.  The NPAC is not involved in obtaining or verifying customer authorization.  Details of steps in those processes do not involve the NPAC or NPAC SMS, and are beyond the scope of the NPAC SMS functionality.
2.1.2	Subscription version creation process
The Subscription Version creation flow activities are shown in Appendix A, Flow 2.1.2 NPAC SMS Subscription Version Creation Process, on page A-4.
2.1.2.1	Create Subscription Version
When a number is ported, both the old and new Service Providers can send a notification to the NPAC SMS.  The NPAC validates the data for each notification and attempts to match the notification with a concurring notification from the other Service Provider.  If a notification is missing from either provider after a tunable time period, the NPAC sends a request for the missing notification.  If the data provided with the notification is valid, the NPAC SMS creates a pending Subscription Version and awaits the concurring notification.  If the data is invalid, the NPAC SMS reports a specific error to the sender of the data and discards the request.
2.1.2.2	Request missing/late notification
If concurring notification or explicit non-concurrence from the old Service Provider is not received, the process flows to process 2.1.3, as illustrated in Appendix A, Flow 2.1 NPAC SMS Provision Service Process, on page A-3.  If concurring notification or explicit non-concurrence from the new Service Provider is not received, the process flows to 2.6 (Cancel).
2.1.2.3	Final Concurrence Notification to Old Service Provider
The NPAC will send a final concurrence notification to the Old Service Provider who did not send a concurring notification.
2.1.3	Service providers perform physical changes
The two Service Providers involved in the number port will coordinate and perform the physical changes to their respective networks.
CN2-1.3.1.	Service provider network change activities are beyond the scope of the NPAC SMS
Details of steps in the processes that do not involve the NPAC or NPAC SMS, such as physical changes performed in the Service Provider’s networks, are beyond the scope of the NPAC SMS functionality.
2.1.4	NPAC SMS "activate and data download" process
The NPAC network data broadcast download flow is shown in Appendix A, Flow 2.1.4 NPAC SMS Activate and Data Download Process, on page A-5.
2.1.4.1	New Service Provider sends activation to NPAC SMS
The new Service Provider sends an activate notification to the NPAC SMS.  If the current date is greater than or equal to the new Service Provider due date, the flow continues.  Otherwise, broadcast of the activation is rejected.
2.1.4.2	NPAC SMS broadcasts network data to appropriate Service Providers
Upon receipt of the activation notification, the NPAC SMS broadcasts the network update data in real time to the appropriate Service Providers' Local SMSs.
2.1.4.3	Failure - notify NPAC
If the NPAC SMS does not receive positive acknowledgment of the broadcast from all Service Providers, the NPAC SMS will rebroadcast the network data download to the Service Providers that did not acknowledge the original broadcast.  The NPAC SMS will perform the rebroadcast a tunable number of times within a tunable time frame.
2.1.4.4	Initiate repair procedures
If the tunable rebroadcast parameters have been exceeded, the NPAC staff will initiate repair processes with the appropriate Service Providers. The NPAC SMS will send the list of Service Providers associated with each failed or partial failure subscription version to the old and new Service Providers.
2.1.5	Service providers perform network updates
Upon receiving the network data download broadcast from the NPAC SMS, all Service Providers’ local SMSs will confirm the receipt of the download broadcast, and update their network elements. The Service Providers may also test their network changes.
CN2-1.5.1.	Service Provider’s Network Change Validation Activities Are Beyond The Scope Of The NPAC SMS
Network testing performed by the Service Providers, such as testing of call processing and testing of Service Provider network elements, is beyond the scope of the NPAC SMS.
2.2	Disconnect Process
This process flow defines the activities associated with the discontinuance of service for a ported number.  The NPAC Disconnect Service flow is shown in Appendix A, Flow 2.2 NPAC SMS Disconnect Process, on page A-6.
2.2.1	Customer notification, Service Provider initial disconnect service order activities
When a ported number is being disconnected, the customer and Service Provider will agree on a date.  The Service Provider will send a notification to the NPAC SMS indicating the date of the physical disconnect of the number and, optionally, the date that the disconnect information is to be broadcast to all Local SMSs (the ‘effective release date’).
2.2.2	NPAC waits for effective release date
The NPAC SMS will send delete actions containing the disconnect information based on the effective release date specified by the Service Provider.  If no effective release date is specified on the disconnect request, the NPAC SMS processes the request immediately.
2.2.3	NPAC donor notification
The NPAC SMS will broadcast the effective release date and disconnect date to the donor SOA.
2.2.4	NPAC performs broadcast download of disconnect data
The NPAC SMS will broadcast the disconnect information to all Service Providers. If the broadcast is not acknowledged, the disconnect information will be resent a tunable number of times within a tunable time frame. If the tunable parameters for the collection of responses have been exceeded, the NPAC staff will initiate repair processes with the appropriate Service Providers (Flow 2.3), and send a list of failed Service Providers to the current Service Provider.
2.3	Repair Service Process
This process flow defines the activities performed when a problem is detected either by the NPAC SMS, a Service Provider, or by a customer who contacts a Service Provider.  The repair service flow is shown in Appendix A, Flow 2.3 NPAC SMS Repair Process, on page A-7.
2.3.1-A	Service provider receives problem notification from customer
If a customer determines there is a problem with their service, they may contact the Service Provider and request Repair Service.  This is one possible entry point to the Repair Process flow.
2.3.1-B	Service provider receives problem notification from another Service Provider
If another Service Provider determines there is a problem with a customer’s service, they may contact the current Service Provider and request Repair Service.  This is one possible entry point to the Repair Process flow.
2.3.1-C	Service provider receives problem notification from NPAC SMS
If the NPAC determines there is a problem with a customer’s service, they may contact the current Service Provider and request Repair Service.  This is one possible entry point to the Repair Process flow.
2.3.2	Service provider analyzes the problem
If NPAC SMS intervention is needed to resolve the problem, up to three repair actions may be required before repairs can be initiated.
2.3.2-A	Subscription data query required
If a Subscription data query is required to initiate the repair, a query is launched to the Local Service Providers.
2.3.2-B	Subscription data audit required
If a Subscription data audit is required before the repair can be initiated, an audit is initiated with the local Service Providers.
2.3.2-C	Network synchronization required
If network synchronization is required, the process flows to 2.3.5, Request broadcast of subscription data.
2.3.3	Service provider performs repairs
There will be audit capabilities in the NPAC SMS to aid in isolating problems.
CN2-3.3.1	Service provider’s repair activities are beyond the scope of the NPAC SMS
Details of steps in the repair processes that do not involve the NPAC or NPAC SMS, such as the customer’s notification of problems, the Service Provider’s analysis/troubleshooting activities and the Service Provider’s repair activities are beyond the scope of the NPAC SMS functionality.
2.3.4	Request broadcast of subscription data
There will be audit capabilities in the NPAC SMS to aid in isolating problems. A Service Provider may request a download of subscription data to assist in the repair process, if necessary.
2.3.5	Broadcast repaired subscription data
If inaccurate routing data is found, the NPAC SMS will broadcast the correct subscription data to any involved Service Provider’s networks to correct inaccuracies.
2.4	Conflict Process
This process flow defines the activities performed when Service Providers disagree on who will serve a particular customer.  The conflict flow is shown in Appendix A, Flow 2.4.1 Conflict Process, on page A-8.
2.4.1	Subscription version in conflict
A Subscription Version may be put into a conflict state either by the old Service Provider (assuming certain conditions are true), or as a result of a failure to acknowledge a Subscription Version in Cancel-Pending state by the new Service Provider. Subscription Versions set to either conflict or cancel initiate the creation of an entry in the Subscription Cause Code field identifying the cause of the status change.
2.4.1.1	Cancel-Pending Acknowledgment missing from new Service Provider
If the new Service Provider has not yet acknowledged a Subscription Version in Cancel-Pending state, the Subscription Version is put into Conflict, and the Cause Code is updated accordingly.
2.4.1.2	Old Service Provider requests conflict status
If the old Service Provider requests that a Subscription Version be put in conflict, it must be the first time the request has been made (a request to put a Subscription Version in conflict can only be made once by the old Service Provider). The request must be received in the NPAC a tunable number of hours prior to 12:00 A.M. of the new Service Provider due date and the expiration of the Final Concurrence Window unless short timers are being used for the port.  If the old Service Provider has not satisfied these conditions then the Subscription Version cannot be put into conflict. 
2.4.1.3	Change of status upon problem notification
Subscription version’s conflict status “on” is achieved when a Service Provider notifies NPAC SMS personnel of a disagreement between the new and old Service Providers as to whether or not a TN may be ported.  The old Service Provider can only place a “pending” Subscription Version in “conflict” one time.
2.4.1.4	Change of status upon Old Service Provider non-concurrence
A Subscription Version creation with authorization set to “False” from the Old Service Provider causes the NPAC SMS to place the Subscription Version in conflict during the “Create Version” process (2.1.2).
2.4.1.5	Change of status upon New Service Provider non-concurrence
Non-concurrence from the New Service Provider causes the NPAC SMS to cancel the Subscription Version during the “Create Version” process (2.1.2).
2.4.2	New Service Provider coordinates conflict resolution activities
The New and Old Service Providers use internal and inter-company processes to resolve the conflict.  If the conflict is resolved, the new Service Provider sets the Subscription Version status to pending.  If the conflict is not resolved with the tunable maximum number of days, the NPAC SMS cancels the Subscription Version, and sets the Cause Code for the Subscription Version.
2.4.2.1	Cancel pending notification
The cancel-pending notification is used for Subscription Versions where both the Old and New Service Providers have sent their Create message to the NPAC SMS.  The status will be either pending or conflict.
If the Old Service Provider sends the Cancel message, the Subscription Version is set to cancel-pending.  A notification is sent to both Old and New Service Providers.
1.	If the New Service Provider sends a cancellation acknowledgment, the status is set to Canceled.
2.	If the New Service Provider does NOT send a cancellation acknowledgment, the NPAC SMS waits for both Cancellation Concurrence Windows to expire, at which time the status is set to Conflict.
3.	The Old Service Provider may optionally send the cancellation acknowledgment.
If the New Service Provider sends the Cancel message, the Subscription Version is set to cancel-pending.  A notification is sent to both Old and New Service Providers.
1.	If the Old Service Provider sends a cancellation acknowledgment, the status is set to Canceled.
2.	If the Old Service Provider does NOT send a cancellation acknowledgment, the NPAC SMS waits for both Cancellation Concurrence Windows to expire, at which time the status is set to Cancel.
3.	The New Service Provider may optionally send the cancellation acknowledgment.
CN2.4.2.1.	Service provider’s conflict resolution activities are beyond the scope of the SMS NPAC
Details of steps in the processes that do not involve the NPAC or NPAC SMS, such as conflict resolution escalation and arbitration activities are beyond the scope of this document.
2.4.3	Subscription version cancellation
If the Subscription Version status has been set to conflict “on” for 30 days [tunable parameter] and no resolution has occurred, the NPAC SMS will cancel the Subscription Version, set the Cause Code for the Subscription Version, and notify both the old and new Service Providers of the cancellation.
2.4.4	Conflict resolved
When both Service Providers agree to resolve the conflict, the new Service Provider will send a request to the NPAC SMS to change the Subscription Version status to pending.
2.5	Disaster Recovery and Backup Process
This process flow defines the backup and restore activities performed by the NPAC and the Service Providers.  The disaster recovery flow is shown in Appendix A, Flow 2.5 NPAC SMS Disaster Recovery Process, on page A-9.
2.5.1	NPAC personnel determine downtime requirement
If there is planned downtime for the NPAC SMS, the NPAC SMS will send an electronic notification to the Service Providers’ SOAs that includes information on when the downtime will start, how long it will be, and if they will be required to switch to the backup or disaster recovery machine. Downtime is considered planned when the NPAC can provide notification to the Service Providers at least 24 hours in advance.
If there is unplanned downtime, the NPAC will assess how long the primary machine will be down. The NPAC will notify all of the Service Providers by electronic notification and telephone calls to the Service Providers' contact numbers. The notification will describe the situation and the planned action.  The Service Providers will attempt to switch to the backup NPAC.
2.5.2	NPAC notifies Service Providers of switch to backup NPAC and start of cutover quiet period
The NPAC Service Providers will switch to the backup or disaster recovery machine as indicated in the notification.
2.5.3	Service providers connect to backup NPAC
The Service Providers must use an alternate connection route to the backup NPAC and establish associations with the backup NPAC application.
2.5.4	Backup NPAC notifies Service Providers of application availability and end of cutover quiet period
When the backup NPAC application and database are on-line, processes will proceed as normal.  The backup NPAC application will be at the same version level as the primary NPAC application.  The NPAC SMS database will also contain the same routing information as the primary database.
2.5.5	Service providers conduct business using backup NPAC
The Service Provider should continue to process as normal when connected to the backup NPAC.  
2.5.6	Backup NPAC notifies Service Providers of switch to primary NPAC and start of cutover quiet period
When the primary machine is brought back up, the backup NPAC will advise the Service Providers of the timing of their switch back to the primary machine.  
2.5.7	Service providers reconnect to primary NPAC
The Service Providers re-establish associations with the primary NPAC application using their normal connections.
2.5.8	Primary NPAC notifies Service Providers of availability and end of cutover quiet period
When the primary NPAC is available, NPAC personnel will notify Service Providers of the end of the cutover quiet period.
2.6	Service Order Cancellation Process
This flow defines the process performed when a Service Provider cancels a service order.  The service order cancellation flow is shown in Appendix A, Flow 2.6 Cancellation Process, on page A-10.
2.6.1	Service Provider issues service order cancellation
From the time both Service Providers have sent a valid notification of a new Subscription Version to the time the Subscription Version is activated, either Service Provider may send a message to the NPAC SMS to cancel the Subscription Version. If this occurs, the NPAC SMS will notify both Service Providers that the Subscription Version is in a cancel-pending state.
2.6.2	Service provider cancels an un-concurred Subscription Version
If a Service Provider issues a cancel on a Subscription Version that was created by that Service Provider and not concurred to by the other Service Provider involved in that port, or if the Subscription Version was initiated, then subsequently canceled by the NPAC, the Subscription Version will be canceled immediately and a notification will be sent to both Service Providers.
2.6.3	NPAC requests missing acknowledgment from Service Provider
When notified that a Subscription Version has been set to cancel-pending, the non-requesting Service Provider must concur by returning a cancel-pending acknowledgment to the NPAC SMS within a tunable amount of hours.  If the NPAC does not receive acknowledgment in the allowable time from the Service Provider, a request is sent to that Service Provider for a cancel-pending-acknowledgment.  If the missing cancel-pending-acknowledgment is not received within a tunable time frame, the Subscription Version status is set to “conflict” if it is the new Service Provider that failed to acknowledge, but is set to cancel if the old Service Provider failed to acknowledge.  In either case, the Cause Code is then set for the Subscription Version, and both Service Providers are then notified of the Subscription Version status change.
2.6.4	NPAC cancels the Subscription Version and notifies both Service Providers
When acknowledgment is received from both Service Providers, within the allowed time frame the NPAC SMS will set the Subscription Version to canceled in its database, update the Cause Code for the Subscription Version, and notify both Service Providers that the Subscription Version has been canceled.  All canceled Subscription Versions are purged from the NPAC database after a tunable period.
2.7	Audit Request Process
This process flow defines the activities performed by the NPAC when Service Providers request audits of LNP data.  The audit request flow is shown in Appendix A, Flow 2.7 Audit Process, on page A-11.
2.7.1	Service provider requests audit
Any Service Provider can request an audit of another Service Provider’s LSMS.
2.7.2	NPAC SMS issues queries to appropriate Service Providers
Upon receipt of an audit request, the NPAC SMS queries the appropriate Service Provider’s Local SMS databases.
2.7.3	NPAC SMS compares Subscription Version data
The NPAC SMS compares its own Subscription Version data to the data it finds in the targeted Local SMS Subscription Version databases.
2.7.4	NPAC SMS updates appropriate Local SMS databases
The NPAC SMS updates Subscription Version information in the appropriate Local SMS databases.
2.7.5	NPAC SMS sends report of audit discrepancies to requesting SOA
Once the NPAC SMS has completed updates to the appropriate Local SMSs, the NPAC SMS generates an Audit Discrepancy report to the Service Provider SOA that initiated the Audit request.
2.7.6	NPAC SMS sends report of audit results to requesting SOA
The NPAC SMS sends the audit results to the Service Provider SOA that initiated the audit request, to indicate the audit is complete.
2.8	Report Request Process
This process flow defines the activities performed by the NPAC when the Service Providers request report generation and delivery.  The report request flow is shown in Appendix A, Flow 2.8 Report Process, on page A-12.
2.8.1	Service provider requests report
Service Provider personnel request report generation via either the SOA Low Tech Interface or by contacting NPAC personnel.
2.8.2	NPAC SMS generates report
The NPAC SMS generates the report that Service Provider Personnel requested via either the SOA Low Tech to NPAC SMS interface or based on NPAC personnel input into the NPAC Administrative GUI.
2.8.3	Report delivered via NPAC Administrative or SOA Low-Tech Interface, Email, electronic file, fax, printer 
The NPAC SMS delivers the report to the destination specified in the request.
2.9	Data Administration Requests
This section defines the activities performed by the NPAC when Service Providers make a manual request for data administration. 
2.9.1	Service provider requests administration of data by NPAC personnel
Service provider personnel are able to contact NPAC personnel to request data administration activities.
2.9.2	NPAC SMS personnel confirms user’s privileges
Before NPAC personnel fulfill the data administration request, they will confirm the user’s privileges and validate the request.
2.9.3	NPAC SMS personnel inputs user’s request
Upon validation of the request, NPAC personnel will input the request.
2.9.4	NPAC SMS performs user’s request
The NPAC SMS processes the request.
2.9.5	NPAC SMS personnel logs request denial if user’s privileges are not validated
If the user’s privileges are not confirmed, or the request cannot be validated, the NPAC personnel log the activity and end the process.


 
3.	NPAC Data Administration
3.1	Overview
The NPAC SMS manages the ported TN information associated with Service Provider portability for the LNP service.  This section describes the high level requirements associated with managing ported telephone numbers from an operations perspective.  Figure 3 1 Entity Relationship Model illustrates the logical data model associated with the data elements for the NPAC SMS, and the relationship between NPAC Customer data and other data tracked or created by the system.
AR3-1	Greenwich Mean Time
Specific time of day references in the Functional Requirements Specification are assumed to be in Greenwich Mean Time (GMT) for the following:
•	SOA to NPAC SMS Messages
•	NPAC SMS to Local SMS Messages
•	Reports
AR3-2	NPAC Administrative and SOA Low-Tech Interface Time
Specific time of day references in the Functional Requirements Specification for the NPAC Administrative Interface and NPAC SOA Low-Tech Interface, are assumed to be in Local Time (standard/daylight) for that specific user.
AR3-3	System Tunable Time
Specific time of day references in the Functional Requirements Specification for the following system tunables, are assumed to be in Central Time (standard/daylight) for that specific user:
•	Conflict Restriction Window
•	Short Business Day Start Time
•	Long Business Day Start Time



 
Figure 3 1 -- Entity Relationship Model
3.1.1	Data Type Legend
The following table describes the data types used in the data models.
DATA TYPE LEGEND
Data Type	Description
Address	Network Address: raw binary data stored as unformatted bytes.
B	Boolean (True or False) indicator.
C	Character or Alphanumeric strings.
E	Enumeration.
M	Bit Mask comprised of one or more bytes.
N	Numeric data (up to 32 bit integer, numeric data that can be arithmetically manipulated).
N(x)	Character string of “x” digits only.
T	Timestamp: month, day, year, hour, minute, and seconds.
TN	Telephone Number: 3-digit NPA, 3-digit NXX, 4-digit Station Number.
Table 3 1 Data Type Legend
3.1.2	NPAC Customer Data
NPAC Customer Data contains information about NPAC customers participating in the LNP service. The data items that need to be administered by NPAC Customer Data Management are represented in the tables that follow:
NOTE:	A check in the “Required” column means that this attribute must exist in the record before the record is considered useable.
NPAC CUSTOMER DATA MODEL

Attribute Name	Type (Size) 	Required	Description
NPAC Customer ID	C (4)		An alphanumeric code which uniquely identifies an NPAC Customer.
NPAC Customer Name	C (40)		A unique NPAC Customer Name.
NPAC Customer Allowable Functions	M		Each bit in the mask represents a Boolean indicator for the following functional options:
•	SOA Management
•	SOA Network Data Management
•	SOA Data Download
•	LSMS Network Data Management
•	LSMS Data Download
•	LSMS Queries/Audits
NPAC New Functionality Support	B		Each value represents a Boolean indicator is set to true if a service provider supports the functionality defined below.  This Boolean is used to support backward compatibility.  All values default to FALSE.
•	Timer Type – True if the SOA supports timer type over the interface.
•	Business Hours – True if the SOA supports business days/hours over the interface.
•	LSMS WSMSC DPC SSN Data – True if the LSMS system supports WSMSC DPC and SSN Data in subscription versions.
•	SOA WSMSC DPC SSN Data – True if the SOA system supports WSMSC DPC and SSN Data in subscription versions.
Port In Timer Type	E		Timer type supported by the Service Provider for porting were they are the New Service Provider:
S – Short Timers  
L – Long Timers  
Port Out Timer Type	E		Timer type supported by the Service Provider for porting were they are the Old Service Provider:
S – Short Timers  
L – Long Timers  
Business Hour/Days	E		Business Hours supported by the Service Provider:
S – Short Business Hours
L – Long Business Hours
NPAC Customer SOA NPA-NXX-X Indicator	B		A Boolean that indicates whether the NPAC Customer accepts NPA-NXX-X downloads from the NPAC SMS to their SOA.  This would be used in conjunction with the SOA Data Download bit mask value.
The default value is False.
NPAC Customer LSMS NPA-NXX-X Indicator	B		A Boolean that indicates whether the NPAC Customer accepts NPA-NXX-X downloads from the NPAC SMS to their LSMS.  This would be used in conjunction with the LSMS Data Download bit mask value.
The default value is False.
NPAC Customer LSMS EDR Indicator	B		A Boolean that indicates whether the NPAC Customer utilizes Efficient Data Representation (EDR) on the LSMS.  This would be used in conjunction with the LSMS Data Download bit mask value.
The default value is False.
	Table 3 2 NPAC Customer Data Model
	NPAC CUSTOMER CONTACT DATA MODEL
	Attribute Name		Type (Size)		Required		Description
	NPAC Customer Contact ID		N				A unique sequential number assigned upon creation of the Contact record.
	NPAC Customer ID		C (4)				An alphanumeric code which uniquely identifies an NPAC Customer.
	Contact Type		C (2)				The type of NPAC Customer Contact Organization.  Valid values are:
•	BI	-	Billing
•	CF	-	Conflict Resolution Interface
•	LI	-	Local  SMS Interface
•	NC	-	NPAC Customer
•	NF	-	Network and Communications
		Facilities Interface
•	OP	-	Operations
•	RE	-	Repair Center Contact
		Organization
•	SE	-	Security
•	SI	-	SOA System Interface
•	UA	-	User Administration
•	WI	-	Web Interface
	Contact		C (40)				Name of NPAC Customer Contact Organization.
	Contact Address Line 1		C (40)				Contact Organization address Line 1.
	Contact Address Line 2		C (40)				Contact Organization address Line 2.
	Contact City		C (20)				Contact Organization city.
	Contact State		C (2)				Contact Organization state.
	Contact Zip		C (9)				Contact Organization zip code or postal code. 
	Contact Country		C (20)				Contact Organization country.
	Contact Province		C (2)				Contact Organization province.
	Contact Phone 		TN				Contact Organization phone number.
	Contact Fax		TN				Contact Organization Fax phone number.
	Contact Pager		TN				Contact Organization Pager phone number.
	Contact Pager PIN		C (10)				Contact Organization Pager Personal Identification Number (PIN).
	Contact Email		C (60)				Contact Organization E-mail address.
	Table 3 3 NPAC Customer Contact Data Model
	NPAC CUSTOMER NETWORK ADDRESS DATA MODEL
	Attribute Name		Type (Size)		Required		Description
	NPAC Customer Network Address ID		N				A unique sequential number assigned upon creation of the Network Address record.
	NPAC Customer ID		C (4)				An alphanumeric code which uniquely identifies an NPAC Customer.
	Network Address Type		C (1)				Type of Network Address.  Valid values are:
•	S	-	SOA interface
•	L	-	Local SMS interface
NSAP Address	Address (12)		OSI Network Service Access Point Address
TSAP Address	Address (4)		OSI Transport Service Access Point Address.
SSAP Address	Address (4)		OSI Session Service Access Point Address.
PSAP Address	Address (4)		OSI Presentation Service Access Point Address.
Internet Address	Address (12)		Internet address of the Service Provider Web interface.
Table 3 4 NPAC Customer Network Address Data Model
NPAC CUSTOMER ASSOCIATED SERVICE PROVIDER DATA MODEL
Attribute Name	Type (Size)	Required	Description
Primary NPAC Customer ID	C (4)		An alphanumeric code which uniquely identifies an NPAC Customer that will act as a primary SPID
Associated NPAC Customer ID	C (4)		An alphanumeric code that uniquely identifies an NPAC Customer that will act as a SPID associated with a primary SPID.
Table 3 5 NPAC Customer Associated Service Provider Data Model
3.1.3	Subscription Version Data
Subscription Version Data consists of information about the ported TNs.  The data items that need to be administered by Subscription Version Data Management functions are identified in the table that follows:
SUBSCRIPTION VERSION DATA MODEL
Attribute Name	Type (Size)	Required	Description
Version ID	N		A unique sequential number assigned upon creation of the Subscription Version.
LRN	TN		The LRN is an identifier for the switch on which portable NPA-NXXs reside.
Old Service Provider ID	C (4)		Old Service Provider ID.
New Service Provider ID	C (4)		New Service Provider ID.
TN	TN		Subscription Version telephone number.
Local Number Portability Type	E		Number Portability Type.  Valid enumerated values are:
•	LSSP	-	Local Service Provider Portability (0)
•	LISP	-	Local Intra-Service Provider Portability (1)
•	POOL	-	Pooled Block Number Port (2)
	Status		E				Status of the Subscription Version.
	The default value is P for Pending.
	Valid enumerated values are:
•	X	-	Conflict (0)
•	A	-	Active (1)
•	P	-	Pending (2)
•	S	-	Sending (3)
•	F	-	Failed (4)
•	PF	-	Partial Failure (5)
•	DP	-	Disconnect Pending (6)
•	O	-	Old (7)
•	C	-	Canceled (8)
•	CP	-	Cancel Pending (9)
	CLASS DPC		N (9)				DPC for 10-digit GTT for CLASS features.
	CLASS SSN		N (3)				CLASS SSN for the Subscription Version.
	LIDB DPC		N (9)				DPC for 10-digit GTT for LIDB features.
	LIDB SSN		N (3)				LIDB SSN for the Subscription Version.
	CNAM DPC		N (9)				DPC for 10-digit GTT for CNAM features.
	CNAM SSN		N (3)				CNAM SSN for the Subscription Version.
	ISVM DPC		N (9)				DPC for 10-digit GTT for ISVM features.
	ISVM SSN		N (3)				ISVM SSN for the Subscription Version. 
	WSMSC DPC		N (9)				DPC for 10-digit GTT for WSMSC features. This field is only required if the service provider supports WSMSC data.
	WSMSC SSN		N (3)				WSMSC SSN for the Subscription Version. This field is only required if the service provider supports WSMSC data.
	New Service Provider Due Date		T				The due date planned by the new Service Provider for Subscription Version Transfer.  The seconds’ field should always be populated with zeros.
	Old Service Provider Due Date		T				The due date planned by the old Service Provider for Subscription Version Transfer. The seconds’ field should always be populated with zeros.
	Old Service Provider Authorization		B				A Boolean indicator set by the old Service Provider to indicate authorization or denial of Transfer of Service for the Subscription Version to the new Service Provider.
	New Service Provider Create Time Stamp		T				The date and time that the New Service Provider authorized Transfer of Service of the Subscription Version. 
	Old Service Provider Authorization Time Stamp		T				The date and time that the old Service Provider authorized Transfer of Service for the Subscription Version.  
	Activation Request Time Stamp		T				The date and time that the Subscription Version activation request was made by the new Service Provider.
	Activation Broadcast Date		T				The date and time that broadcasting began to all local SMS systems for the activation of the Subscription Version.
	Activation Broadcast Complete Time Stamp		T				The date and time that at least one Local SMS system successfully acknowledged the broadcast for the activate of the Subscription Version.
	Disconnect Request Time Stamp		T				The date and time that the Subscription Version disconnect request was made by the local Service Provider.
	Disconnect Broadcast Time Stamp		T				The date and time that broadcasting began to all local SMS systems for the disconnect of the Subscription Version.
	Disconnect Complete Time Stamp		T				The date and time that at least one Local SMS system successfully acknowledged the broadcast for the disconnect of the Subscription Version.
	Effective Release Date		T				The date that the Subscription Version is to be deleted from all Local SMS systems. 
	Customer Disconnect Date		T				The date that the Customer’s service was disconnected.
	Pre-Cancellation Status		E				Status of the Subscription Version prior to cancellation.  Valid enumerated values are:
•	X	-	Conflict (0)
•	P	-	Pending (2)
•	DP	-	Disconnect Pending (6)
Old Service Provider Cancellation Time Stamp	T		The date and time that the Old Service Provider acknowledged that the Subscription Version be canceled.
New Service Provider Cancellation Time Stamp	T		The date and time that the New Service Provider acknowledged that the Subscription Version be canceled.
Cancellation Time Stamp	T		The date and time that the Subscription Version became canceled. 
Old Time Stamp	T		The date and time that the Subscription Version became old.
Conflict Time Stamp	T		The date and time that the Subscription Version was last placed in conflict.
Conflict Resolution Time Stamp	T		The date and time that the resolution of a Subscription Version in conflict is acknowledged.
Create Time Stamp	T		The date and time that this Subscription Version record was created.
Modified Time Stamp	T		The date and time that this Subscription Version record was last modified.
The default value is the Create Time Stamp.
Porting to Original	B		A Boolean that indicates whether the Subscription Version created is to be ported back to the original Service Provider.
End User Location Value	N (12)		For future use.
End User Location Value Type	N (2)		For future use.
Modify Request Timestamp	T		The date and time that the Subscription Version Modify request was made.
Modify Broadcast Timestamp	T		The date and time that broadcasting began to all local SMS systems for the modification of the Subscription Version.
Modify Broadcast Complete Timestamp	T		The date and time that at least one local SMS system successfully acknowledged the broadcast for the modification of the Subscription Version.
Billing ID	C (4)		For future use.
Status Change Cause Code	N (2)		Used to specify reason for conflict when old Service Provider Authorization is set to False, or to indicate NPAC SMS initiated cancellation. Valid values are: 

0 - No value
1 - NPAC SMS Automatic Cancellation
50 - LSR Not Received
51 - FOC Not Issued
52 - Due Date Mismatch
53 - Vacant Number Port
54 – General Conflict
Timer Type	E		Timer type used for the subscription version.
S – Short Timers  
L – Long Timers  
Business Hour Type	E		Business Hours used for the subscription version.
S – Short Business Hours
L – Long Business Hours
Table 3 6 Subscription Version Data Model

SUBSCRIPTION VERSION FAILED SP LIST DATA MODEL
Attribute Name	Type (Size)	Required	Description
Subscription Version ID (Key)	N		A unique sequential number assigned upon creation of the Subscription Version.
SPID	C(4)		The Service Provider ID of the discrepant SP.
SP Name	C(40)		The NPAC Customer Name of the discrepant SP.
Table 3 7 Subscription Version Failed SP List Data Model

NUMBER POOLING BLOCK HOLDER INFORMATION DATA MODEL
Attribute Name	Type (Size)	Required	Description
Block ID	N		A unique sequential number assigned upon creation of the Block.
Block Holder SPID	C(4)		The Service Provider Id of the block holder.
NPA-NXX-X	N(7)		NPA-NXX-X of the 1K Block.
LRN	TN		The LRN is an identifier for the switch on which the pooled NPA-NXX-X resides for the 1K Block.
CLASS DPC	N (9)		DPC for 10-digit GTT for CLASS features for the 1K Block.
CLASS SSN	N (3)		CLASS SSN for the 1K Block.
LIDB DPC	N (9)		DPC for 10-digit GTT for LIDB features for the 1K Block.
LIDB SSN	N (3)		LIDB SSN for the 1K Block.
CNAM DPC	N (9)		DPC for 10-digit GTT for CNAM features for the 1K Block.
CNAM SSN	N (3)		CNAM SSN for the 1K Block.
ISVM DPC	N (9)		DPC for 10-digit GTT for ISVM features for the 1K Block.
ISVM SSN	N (3)		ISVM SSN for the 1K Block.
WSMSC DPC	N (9)		DPC for 10-digit GTT for WSMSC features for the 1K Block.  This field is only required if the service provider supports WSMSC data, as defined in the NPAC Customer Data Model.
WSMSC SSN	N (3)		WSMSC SSN for the 1K Block.  This field is only required if the service provider supports WSMSC data, as defined in the NPAC Customer Data Model.
Creation Date	T		The date and time (GMT) that this Block Holder record was created.
Activation Start Timestamp	T		Date and time (GMT) of the Start of the Activation.  This field defines the date and time of the start of the activation request (i.e., the date and time the NPAC begins the broadcasts to the LSMSs).
Activation Broadcast Complete Timestamp	T		Date and time (GMT) of the Completion of the Activation.  This field defines the date and time of the completion of the activation request (i.e., the date and time the NPAC receives at least one Local SMS acknowledgment of the broadcast, for the activation of the Block).
Last Modified Timestamp	T		Date and time (GMT) of the Last Modification to the Block. 
The initial value is the Creation Timestamp.
Disconnect Request Time Stamp	T		The date and time that the Block disconnect request was made by the NPAC personnel.
Disconnect Broadcast Time Stamp	T		The date and time that broadcasting began to all local SMS systems for the disconnect  of the Block.
Disconnect Complete Time Stamp	T		The date and time that at least one Local SMS system successfully acknowledged the broadcast, for the disconnect of the Block.
Old Time Stamp	T		The date and time that the Block became old.
Modify Request Timestamp	T		The date and time that the Block Modify request was made.
Modify Broadcast Timestamp	T		The date and time that broadcasting began to all local SMS systems for the modification of the Block.
Modify Broadcast Complete Timestamp	T		The date and time that at least one local SMS system successfully acknowledged the broadcast, for the modification of the Block.
SOA Origination Indicator	B		A Boolean that indicates whether or not the NPA-NXX-X Holder’s SOA initiated the Block over the SOA to NPAC SMS Interface, and whether or not to send notifications to the SOA.
This attribute will be initially set by the NPAC SMS at the time of Block creation.
If originated by SOA, value is TRUE.
If originated by NPAC, value is FALSE.
Status	E		Status of the Block.
The initial value is S for Sending.
Valid enumerated values are:
A	-	Active (1)
S	-	Sending (3)
F	-	Failed (4)
PF	-	Partial Failure (5)
O	-	Old (7)
Download Reason	E		The reason the Block is being downloaded to the SOA or LSMS.  Valid values are:
 0 – new1
 1 – delete1
 2 – modified
 3 – audit-discrepancy
Table 3 8 Number Pooling Block Holder Information Data Model

NUMBER POOLING BLOCK FAILED SP LIST DATA MODEL
Attribute Name	Type (Size)	Required	Description
Block ID (Key)	N		A unique sequential number assigned upon creation of the Block.
SPID	C(4)		The Service Provider ID of the discrepant SP.
SP Name	C(40)		The NPAC Customer Name of the discrepant SP.
Table 3 9 Number Pooling Block Failed SP List Data Model
3.1.4	Network Data
The network data represents the attributes associated with network topology and routing data with respect to local number portability.  This information is used by the respective network elements to route ported numbers to the new termination points.  The data items that need to be administered by Network Data Administration functions are identified in the tables that follow:
PORTABLE NPA-NXX DATA MODEL
Attribute Name	Type (Size)	Required	Description
NPA-NXX Id	N		A unique sequential number assigned upon creation of the NPA-NXX record.
NPA-NXX	C (6)		The NPA-NXX open for porting.
NPAC Customer ID	C (4)		An alphanumeric code which uniquely identifies an NPAC customer.
NPA-NXX Effective Date	T		The date that the NPA-NXX is available for LNP in the NPAC Customer networks.
Split new NPA	C (6)		The new NPA-NXX for an NPA split.
Split Activation Date	T		The date that the new NPA-NXX becomes available for use in an NPA split.  This date represents the beginning of the permissive dialing period.
Split Disconnect Date	T		The data that the old NPA-NXX becomes unavailable for use in an NPA split. This date represents the end of the permissive dialing period.
NPA-NXX has been Ported	T		A timestamp that indicates when the first TN within this NPA-NXX has been ported.
Table 3 10 Portable NPA-NXX Data Model
LRN DATA MODEL
Attribute Name	Type (Size)	Required	Description
LRN ID	N		A unique sequential number assigned upon creation of the LRN record. 
LRN	TN		The LRN is the unique identifier for the switch on which a ported TN or Number Pool Block resides.
NPAC Customer ID	C (4)		An alphanumeric code which uniquely identifies an NPAC Customer.
Table 3 11 LRN Data Model
LSMS FILTERED NPA-NXX DATA MODEL
Attribute Name	Type (Size)	Required	Description
LSMS Filter NPA-NXX ID	N		A unique sequential number assigned upon creation of the LSMS Filtered NPA-NXX record.
NPAC Customer ID	C (4)		An alphanumeric code that uniquely identifies the LSMS NPAC Customer who is filtering subscription version broadcasts.
NPA-NXX	C (6)		The NPA-NXX for which the LSMS is filtering subscription version broadcasts.
Creation Timestamp	T		Date the filtered NPA-NXX was created.
Table 3 12 LSMS Filtered NPA-NXX Data Model

NUMBER POOLING NPA-NXX-X HOLDER INFORMATION DATA MODEL
Attribute Name	Type (Size)	Required	Description
NPA-NXX-X ID	N		A unique sequential number assigned upon creation of the NPA-NXX-X.
NPAC Customer ID-	C(4)		The Service Provider Id of the NPA-NXX-X holder.
NPA-NXX-X	N(7)		NPA-NXX-X of the 1K Block.
NPA-NXX-X Effective Date	T		The effective date of the 1K Block.  The time for this field will be stored in GMT, but equivalent to 00:00:00 network data time CST.
Creation Time Stamp	T		The date and time (GMT) that this NPA-NXX-X Holder record was created.
Last Modified Time Stamp	T		The date and time (GMT) of the Last Modification to this NPA-NXX-X Holder record.
The default value is the Creation Timestamp.
Download Reason	E		The reason the NPA-NXX-X is being downloaded to the SOA or LSMS.  Valid values are:
 0 – new1
 1 – delete1
 2 – modified
 3 – audit-discrepancy
Table 3 13 Number Pooling NPA-NXX-X Holder Information Data Model
3.2	NPAC Personnel Functionality
The following requirements describe the functionality required by the NPAC SMS to support the daily operation of the Regional LNP SMS support staff.  These requirements define the high level functionality required by the system with the specifics of each requirement defined in more detail in sections 4 and 5.
R3-3	Create NPA-NXX data for a Service Provider
NPAC SMS shall allow NPAC personnel to create a new LNP NPA NXX for a Service Provider.
R3-6.2	Mass Update Filter Usage
NPAC SMS shall, for a mass update request, only send updates for subscription versions that are not filtered on the Local SMS.
	R3-7.1	Select Subscription Versions mass changes for one or more Subscription Versions
	NPAC SMS shall allow NPAC personnel to select Subscription Versions for mass update which match a user defined combination of any of the following: SPID, LNP Type (any single LNP Type or none), TN, TN range (NPA-NXX-xxxx through yyyy, where yyyy is greater than xxxx), LRN, DPC values, SSN values, Billing ID, End User Location Type or End User Location Value, on the NPAC Administrative Interface.  (Previously part of B-760 and B-761)
NOTE: If a single LNP Type is selected, then only that LNP Type will be used, otherwise, if no LNP Type is selected, then no restriction is imposed on the LNP Type as a selection criteria.
	R3-7.2 	Administer Mass update on one or more selected Subscription Versions
	NPAC SMS shall allow NPAC personnel to specify a mass update action to be applied against all Subscription Versions selected (except for Subscription Versions with a status of old, partial failure, sending, disconnect pending or canceled) for LRN, DPC values, SSN values, Billing ID, End User Location Type or End User Location Value.
	R3-7.3 	Mass Update Selection Criteria
	NPAC SMS shall require at least one selection criteria to be entered for a mass update.
	R3-7.4 	Mass Update Service Provider Id
	NPAC SMS shall match the Service Provider Id entered as selection criteria with the New or current Service Provider Id in the Subscription Version. 
	R3-7.5	Mass Update - Creation of Old Subscription Version 
	NPAC SMS shall create an old Subscription Version with a new version id for an active Subscription Version involved in a mass update before applying changes.
	R3-7.6	 Mass Update - Old Subscription Version No Broadcast
	NPAC SMS shall broadcast no data to the Local SMSs due to the creation of an old Subscription Version with a new version id for an active Subscription Version involved in a mass update before applying changes.
	R3-7.7	Mass Update Error Processing
	NPAC SMS shall log an exception and proceed with Mass Update processing upon finding a subscription version in sending, disconnect pending, or partial failed status.
	R3-7.8	Mass Update Exception Report
NPAC SMS shall produce an exception report for NPAC Personnel when requested that lists the Subscription Versions that were exceptions not processed during Mass Update processing.  
	R3-7.9	Mass Update Required Entry of Service Provider ID
	NPAC SMS shall require NPAC personnel to specify a Service Provider ID when entering Selection Criteria for a Mass Update.
R3 13	NPAC SMS mass change update capability to the Local SMS
NPAC SMS shall have the capability to identify all Subscription Versions affected by mass changes, (such as NPA splits), and automatically carry out the required updates to modified data in the Local SMSs.
3.2.1	Block Holder, Mass Update
RR3-210	Block Holder Information Mass Update – Update Fields
NPAC SMS shall allow NPAC Personnel, via a mass update, to update the block holder default routing information (LRN, DPC(s), and SSN(s)), for a 1K Block as stored in the NPAC SMS.  (Previously B-762)
RR3-211	Block Holder Information Mass Update – Block Intersection Rejection
NPAC SMS shall reject a mass update request by NPAC Personnel, and issue an error message, if the TN Range and LNP Type of either POOL or none, is entered as Selection Criteria, for the requesting Service Provider, and intersects an existing 1K Block, for that requesting Service Provider, as stored in the NPAC SMS, other than Blocks with a status of old.  (Previously B-763)
RR3-212	Block Holder Information Mass Update – Block Status Validation
NPAC SMS shall reject a mass update request to a Block, if the Block’s status is NOT active, or if the Block Failed SP List contains one or more Service Providers.  (Previously B-764)
RR3-213	Block Holder Information Mass Update – Download to EDR Local SMS
NPAC SMS shall download Number Pooling Block Information, for mass updates, using the Number Pooling Block Object, via the NPAC SMS to Local SMS Interface, when the Service Provider's EDR Indicator is TRUE, at the time of the mass update request.  (Previously B-780)
RR3-214	Block Holder Information Mass Update – Download to non-EDR Local SMS
NPAC SMS shall download Number Pooling Block Information, for mass updates, using Subscription Version(s) with LNP Type of POOL, via the NPAC SMS to Local SMS Interface, when the Service Provider's EDR Indicator is FALSE, at the time of the mass update request.  (Previously B-790)
RR3-215	Block Holder Information Mass Update – Download of SVs of Type POOL to non-EDR Local SMS
NPAC SMS shall NOT break up Subscription Versions of LNP Type POOL in a 1K Block, when downloading Number Pooling Block Information, for mass updates, via the NPAC SMS to Local SMS Interface, to non-EDR Local SMSs.  (Previously B-800)
	RR3-216	Block Holder Information Mass Update - Creation of Old Block
	NPAC SMS shall create an old Block with a new version id for an active Block involved in a mass update before applying changes.  (Previously B-810)
	RR3-217	Block Holder Information Mass Update - Old Block No Broadcast
	NPAC SMS shall broadcast no data to the Local SMSs due to the creation of an old Block with a new version id for an active Block involved in a mass update before applying changes.  (Previously B-820)

3.3	System Functionality
R3 8	Off-line batch updates for Local SMS Disaster Recovery
NPAC SMS shall support an off line batch download (via 4mm DAT tape and FTP file download) to mass update Local SMSs with Subscription Versions, NPA-NXX-X Information, Number Pool Block and Service Provider Network data.
The contents of the batch download are:
•	Subscriber data:
	Version ID
	TN
	LRN
	New Current Service Provider ID
	Activation Request Timestamp
	Version Status
	CLASS DPC
	CLASS SSN
	LIDB DPC
	LIDB SSN
	ISVM DPC
	ISVM SSN
	CNAM DPC
	CNAM SSN
	WSMSC DPC (for Local SMSs that support WSMSC data)
	WSMSC SSN (for Local SMSs that support WSMSC data)
	End User Location - Value
	End User Location - Type
	Billing ID
	LNP Type
	Download Reason
•	Network data:
	NPAC Customer ID
	NPAC Customer name
•	NPA-NXX-Download Data:
	NPA-NXX ID
	NPA-NXX Value
	NPAC Customer ID
	Effective TimeStamp
	Download Reason
•	NPA-NXX-X Data
	Service Provider ID
	NPA-NXX-X ID
	NPA-NXX-X Value
	Creation Timestamp
	Effective Timestamp
	Download Reason
•	Block Data
	Block ID
	NPA-NXX-X
	LRN
	New Current Service Provider ID
	Activation Timestamp
	CLASS DPC
	CLASS SSN
	LIDB DPC
	LIDB SSN
	ISVM DPC
	ISVM SSN
	CNAM DPC
	CNAM SSN
	WSMSC DPC (for Local SMSs that support WSMSC data)
	WSMSC SSN (for Local SMSs that support WSMSC data)
	Download Reason
•	LRN-Download Data:
	LRN ID
	LRN Value
	Download Reason
	R3 9	NPAC SMS download of network data to the Local SMS and SOA
	NPAC SMS shall be able to communicate creation or deletion of NPA NXX data and LRN data for a Service Provider to Local SMSs and SOAs.
	The contents of the network download are:
•	Network data:
	NPAC Customer ID
	NPAC Customer Name
•	NPA-NXX-Download Data:
	NPA-NXX ID
	NPA-NXX Value
	Effective TimeStamp
	Download Reason
•	LRN-Download Data:
	LRN ID
	LRN Value
	Download Reason
RR3-66	Number Pool NPA-NXX-X Holder Information – NPAC SMS download of network data to the SOA or Local SMS
	NPAC SMS shall be able to communicate creation, modification, or deletion of NPA-NXX-X data for a Service Provider to SOAs or Local SMSs.  (Previously N-61)
	The contents of the network download are:
•	Network data:
	NPAC Customer ID
	NPAC Customer Name
•	NPA-NXX X Download Data:
	NPA-NXX-X ID
	NPA-NXX-X
	NPA-NXX-X Effective Date
	Last Modified TimeStamp
	Download Reason
RR3-67.1	Number Pool NPA-NXX-X Holder Information – NPAC SMS download via SOA and/or Local SMS Interface of NPA-NXX-X allocation to the Service Providers
	NPAC SMS shall inform all Service Providers about the allocation of the NPA-NXX-Xs for pooling to the Block Holder via the SOA to NPAC SMS Interface and/or NPAC SMS to Local SMS interface.  The NPA-NXX-X data fields sent via the SOA to NPAC SMS interface and/or NPAC SMS to Local SMS interface are:  (Previously N-62.1)
•	NPAC Customer ID
•	NPAC Customer Name
•	NPA-NXX-X ID
•	NPA-NXX-X
•	NPA-NXX-X Effective Date
•	Creation TimeStamp
•	Last Modified TimeStamp
•	Download Reason

	R3-10	NPAC SMS notification of NPA-NXX availability to the Service Providers
	NPAC SMS shall inform all Service Providers about the availability of the NPA NXXs for porting via the NPAC SMS to Local SMS and SOA to NPAC SMS interfaces or the Web bulletin board.  The NPA NXX data fields sent via the NPAC SMS to Local SMS and SOA to NPAC SMS interfaces interface are:
•	NPAC Customer ID
•	NPAC Customer Name
•	NPA NXX ID
•	NPA  NXX Value
•	Effective Date
•	Download Reason
	The NPA NXX data fields sent to the WEB bulletin board are:
•	NPAC Customer ID
•	NPAC Customer Name
•	NPA NXX Value
•	Effective Date
	R3 11	NPAC SMS notification of LRNs and Service Provider data by Service Provider
	NPAC SMS shall inform all Service Providers about a new Service Provider and the associated LRNs via the NPAC SMS to Local SMS and SOA to NPAC SMS interfaces. NPAC SMS shall post the new Service Providers and/or new LRNs on the Web bulletin board.
	The Service Provider data fields sent to the WEB bulletin board are:
•	NPAC Customer ID
•	NPAC Customer Name
•	NPAC Customer Type
•	Contact Type
•	Contact Name
•	Contact Address 1
•	Contact Address 2
•	Contact City
•	Contact State
•	Contact Zip
•	Contact Province
•	Contact Country
•	Contact Phone
•	Contact Fax
•	Contact Pager
•	Contact Pager PIN
•	Contact Email
	The LRN data fields sent to the WEB bulletin board are:
•	NPAC Customer ID
•	NPAC Customer Name
•	LRN Value
RR3-67.2	Number Pool NPA-NXX-X Holder Information – NPAC SMS download via Web Bulletin Board of NPA-NXX-X allocation to the Service Providers
NPAC SMS shall inform all Service Providers about the allocation of the NPA-NXX-Xs for pooling to the Block Holder via the Web bulletin board.  The NPA-NXX-X data fields sent to the WEB bulletin board are:  (Previously N-62.2)
•	NPAC Customer ID
•	NPAC Customer Name
•	NPA-NXX-X
•	NPA-NXX-X Effective Date
3.4	Additional Requirements
RX3-1.1.1	Service Provider NPA-NXX Data Addition
NPAC SMS shall allow Service Providers to add their NPA-NXX data via the NPAC SMS to Local SMS interface or the SOA to NPAC SMS interface.
RX3-1.1.2	Service Provider NPA-NXX Data Effective Date Validation
NPAC SMS shall allow Service Providers to add their NPA-NXX data with an effective date that is set to a past, present, or future date.
RX3-1.2	Service Provider LRN Data Addition
NPAC SMS shall allow Service Providers to add their LRN data via the NPAC SMS to Local SMS interface or the SOA to NPAC SMS interface.
RX3-3.1	Service Provider NPA-NXX Data Deletion
NPAC SMS shall allow Service Providers to delete their NPA- NXX data via the NPAC SMS to Local SMS interface or the SOA to NPAC SMS interface provided the changes do not cause any updates to the Subscription Versions, Number Pooling NPA-NXX-X or Number Pooling Block Information.
RX3-3.2	Service Provider LRN Data Deletion
NPAC SMS shall allow Service Providers to delete their LRN data via the NPAC SMS to Local SMS interface or the SOA to NPAC SMS interface provided the changes do not cause any updates to the Subscription Versions, or Number Pooling Block Information.
RR3-1	Service Provider Download Indicator 
NPAC SMS shall provide a mechanism for the Service Provider to indicate whether or not they want NPA-NXX data and LRN data downloaded to their Local SMS via the NPAC SMS to Local SMS Interface and/or SOA via the SOA to NPAC SMS interface.
RR3-2	Service Provider Download Indicator 
NPAC SMS shall download NPA-NXX data and LRN data via the NPAC SMS to Local SMS Interface and/or the SOA to NPAC SMS interface if the indicator is ON.
R3-14	Bulk Database Extracts
NPAC SMS shall periodically perform NPAC SMS database extracts of active Subscription Versions on an NPA-NXX basis to an ASCII file.
R3-15	FTP Site for Database Extracts
NPAC SMS shall store database extract files at the NPAC SMS FTP site for Local SMS file retrieval.
R3-16	Database Extract File Creation
NPAC SMS shall allow NPAC personnel to specify database extract file creation on a weekly, monthly, or quarterly basis.
R3-17	Scope of Database Extract File Creation
NPAC SMS shall allow NPAC personnel to specify an NPA-NXX for database extract file creation.
RR3-3	NPAC SMS Input Restrictions 
NPAC SMS shall prevent the entry of pipe characters (|) as part of text strings.
RR3-4	Create LRN data for a Service Provider
NPAC SMS shall allow NPAC personnel to create a new LRN for a service provider.
RR3-15 	NPAC Clock Synchronization
NPAC SMS shall synchronize its system clock using NTP to a Stratum 1 host.

3.5	NPA Splits Requirements
RN3-1	NPA Split Permissive Dialing
NPAC SMS shall support a permissive dialing period, during which dialing of both NPAs is allowed during NPA splits.
RN3-2	NPA split
NPAC SMS shall accept both the old and new NPAs during the permissive dialing period, but will only respond and download with the new NPA-NXX, except for query requests that span NPAs.
RN3-3	NPA Split Permissive Dialing Cleanup
NPAC SMS shall perform an update to remove NPAC SMS mapping of the old NPA-NXX(s) to the new NPA-NXX(s) for Subscription Versions associated with an NPA split after the expiration date of the permissive dialing period.
AN3-4.1	NPA Split Information Source
The service provider responsible for the NPA split communicates NPA Split information to the NPAC.
RN3-4.1	NPA Split – NPA-NXX existence prior to the NPA Split
NPAC SMS shall verify that the new and the old NPA-NXX(s) involved in an NPA Split exist when NPAC personnel enter the split information.
Note: New NPA-NXX(s) will be opened via normal processing prior to the NPA Split.
RN3-4.2	NPA Split - NPA-NXX existence prior to the NPA Split - Error
NPAC SMS shall report an error to NPAC personnel and reject the NPA Split upon determining that the new or old NPA-NXX(s) involved in an NPA Split do not exist when the NPA Split information is entered.
RN3-4.3	NPA Split – NPA-NXX Effective Date Validation
NPAC SMS shall verify that the new NPA-NXX(s) involved in an NPA Split has an effective date equal to the start date of permissive dialing when NPAC personnel enter the NPA Split information.
RN3-4.4	NPA Split – NPA-NXX Effective Date Validation – Error
NPAC SMS shall report an error to NPAC personnel and reject the NPA Split upon determining that a new NPA-NXX involved in an NPA split has an effective date not equal to the start date of permissive dialing.
RN3-4.5	NPA Split – NPA-NXX involved in one NPA Split Validation
NPAC SMS shall verify that the new NPA-NXX(s) involved in an NPA Split are not currently involved in another NPA Split when NPAC personnel enter the NPA split information.
RN3-4.6	NPA Split – NPA-NXX involved in one NPA Split Validation
NPAC SMS shall report an error to NPAC personnel and reject the NPA Split upon determining that a new NPA-NXX involved in an NPA Split is currently involved in another NPA Split.
RN3-4.7	NPA Split – No Active Subscription Versions in the new NPA-NXX
NPA SMS shall verify that only pending, old, conflict, canceled, or cancel pending Subscription Versions exist in the new NPA-NXX involved in an NPA Split upon entering split information.
RN3-4.8	NPA Split – No Active Subscription Versions in the new NPA-NXX – Error
NPA SMS shall report an error and reject the NPA Split upon determining that there are Subscription Versions with a status other than pending, old, conflict, canceled, or cancel pending in the new NPA-NXX involved in an NPA Split.
RN3-4.9	NPA Split - Prevention of NPA-NXX Deletion
NPAC SMS shall prevent an old or new NPA-NXX involved in an NPA split from being deleted from the network data during permissive dialing.
RN3-4.11	NPA Split - No modification of LRN data
NPAC SMS shall leave the LRN information in Subscription Versions involved in the split unchanged during NPA split processing.
Note:  The LRN data if necessary will be changed via mass update.
RN3-4.12	NPA Split – Exception Processing for Subscription Versions that exist in the New and Old NPA-NXX
NPAC SMS shall upon finding a subscription version that exists in the new NPA-NXX that currently exists in the old NPA-NXX during NPA split processing shall do the following and continue processing:
•	log an error
•	the Subscription Version in the new NPA-NXX will be moved to old if active or to canceled if it is in any pending state.
•	the Subscription Version in the old NPA-NXX will  be modified to the new NPA-NXX.
RN3-4.13	NPA Split - No Modification of Filter Data
NPAC SMS shall leave filters for NPA-NXX(s) involved in an NPA split unchanged.
Note: Service Providers are responsible for setting filters appropriately.
RN3-4.14	NPA Split – Audit Processing
NPAC SMS shall query the LSMS systems for the new NPA-NXX(s) when an  audit is run during the NPA split permissive dialing period.  
Note: It is the responsibility of the LSMS to recognize and return the new NPA-NXX in the subscription versions returned.
RN3-4.15	NPA Split – Entering of Split Data
The NPAC SMS shall require the following data for entry of NPA Split information into the NPAC: 
•	the Service Provider Id
•	the old and new NPA
•	the affected NXX(s)
•	the start date of the permissive dialing period
•	the end date of the permissive dialing period
RN3-4.16	NPA Split – Modification of End Date of Permissive Dialing Date
NPAC SMS shall allow the modification of the end of permissive dialing during permissive dialing provided the date is not less than the current date.
RN3-4.17	NPA Split – Removal of NPA-NXX during Permissive Dialing
NPAC SMS shall allow the removal of an NPA-NXX during permissive dialing from the NPA Split information as an NPA-NXX involved in the NPA Split.
RN3-4.18	NPA Split – Removal of NPA-NXX during Permissive Dialing – Subscription Version Processing
NPAC SMS shall upon removal of an NPA-NXX during permissive dialing modify the TN of any subscription versions involved in a split existing in the new NPA-NXX to the old NPA-NXX.  This processing includes subscription versions that did not previously exist prior to the NPA Split. 
RN3-4.19	NPA Split – Addition of NPA-NXX before or during Permissive Dialing
NPAC SMS shall not allow the addition of an NPA-NXX to an NPA Split after the split data is entered.  Additional NPA-NXX(s) may be handled by entering a new NPA split into the NPAC SMS.
RN3-4.20	NPA Split – Removal of NPA Split Information prior to NPA Split
NPAC SMS shall allow the removal of pending NPA Split information prior to the start of the permissive dialing period.
RN3-4.21	NPA Split – Removal of NPA Split Information after Permissive Dialing Period End Date
NPAC SMS shall log and remove NPA Split Information from the NPAC SMS at the end of the permissive dialing period.
RN3-4.22	NPA Split – No Broadcast of Subscription Version Modification
NPAC SMS shall broadcast no information to the SOA(s) or LSMS(s) about the creation, modification, or deletion of Subscription Versions due to NPA Split processing on the NPAC SMS.  
Note: The LSMS and SOA systems are responsible for creating, deleting, or modifying subscription versions due to an NPA Split.
RN3-4.23	NPA Split – Retention of Subscription Version Id
NPAC SMS shall retain the Subscription Version Id of the Subscription Versions involved in an NPA Split.
RN3-4.24	NPA Split - Update of Subscription Versions at the Beginning of Permissive Dialing
NPAC SMS shall update all Subscription Versions with a status other than old or canceled with the new NPA at the beginning of the Permissive Dialing Period.
RN3-4.25	NPA Split - Old NPA-NXX involved in one NPA Split Validation
NPAC SMS shall verify that the old NPA-NXX(s) involved in an NPA Split are not currently involved in another NPA Split when NPAC personnel enter the NPA split information.
RN3-4.26	NPA Split - Old NPA-NXX involved in one NPA Split Validation - Error
NPAC SMS shall report an error to NPAC personnel and reject the NPA Split upon determining that an old NPA-NXX involved in an NPA Split is currently involved in another NPA Split.
RN3-4.27	NPA Split - Validation of the Permissive Dialing Period  
NPAC SMS shall verify that the end date of permissive dialing is greater than the start date except in cases where there is no permissive dialing period. 
RN3-4.28	NPA Split - Old NPA-NXX and New NPA-NXX Ownership Validation
NPAC SMS shall verify that the owner of the old NPA-NXX matches the owner of the new NPA-NXX for each NXX in a NPA split.
RN3-4.29	NPA Split - Old NPA-NXX and New NPA-NXX Ownership Validation - Error
NPAC SMS shall report an error to NPAC personnel and reject the NPA Split upon determining that the owner of the old NPA-NXX does not match the owner of the new NPA-NXX for each NXX in a NPA split.
RN3-4.30	NPA Split - Creation of a Subscription Version during the Permissive Dialing Period
NPAC SMS shall change the old NPA-NXX to the new NPA-NXX when a Subscription Version is created with the old NPA-NXX during the permissive dialing period.
RN3-4.31	NPA Split Current and Pending NPA Split Report
NPAC SMS shall support a Current and Pending NPA Split Report for NPA Splits before or during their permissive dialing period that contains all split data entered as defined in RN3-4.15.
RN3-4.32	NPA Split - NPA Split History Report
NPAC SMS shall support a NPA Split History Report for completed NPA Splits that contains all split data entered as defined in RN3-4.15.
RN3-4.33	DELETED 
RN3-4.34	DELETED 
RN3-4.35	DELETED 
	RN3-4.36 	NPA Split -Creation of Old Subscription Version
NPAC SMS shall create an old Subscription Version with a new version id for an active Subscription Version involved in an NPA split at the start of permissive dialing for the old NPA.
	RN3-4.37	NPA Split - Old Subscription Version No Broadcast
NPAC SMS shall broadcast no data to the Local SMSs due to the creation of an old Subscription Version with a new version id for an NPA split.
RR3-219	NPA Splits – Deletion of Old NPA-NXX at the end of permissive dialing
NPAC SMS shall automatically delete the old NPA-NXX from the Portable NPA-NXX Information in the NPAC, upon reaching the end of the permissive dialing period for the old NPA-NXX involved in an NPA Split.
3.5.1	NPA-NXX-X Holder, NPA Splits

RR3-31	NPA Splits and the Number Pool NPA-NXX-X Holder Information – New NPA Split Automatic Create of New NPA-NXX-X
NPAC SMS shall automatically create a new NPA-NXX-X in the Number Pooling NPA-NXX-X Information, when a valid request is made to add an NPA Split, if the old NPA-NXX-X exists, but the new NPA-NXX-X does NOT exist in the Number Pooling NPA-NXX-X Information.  (Previously N-300)
RR3-32	NPA Splits and the Number Pool NPA-NXX-X Holder Information – New NPA Split Error Message if New NPA-NXX-X Already Exists
NPAC SMS shall reject the request and generate an error message to the NPAC Personnel when a request is made to add an NPA Split, and the new NPA-NXX-X already exists in the Number Pooling NPA-NXX-X Information.  (Previously N-301)
RR3-33	NPA Splits and the Number Pool NPA-NXX-X Holder Information – New NPA Split Field Values for Automatic Add of New NPA-NXX-X
NPAC SMS shall populate the fields for the automatically generated new NPA-NXX-X in the Number Pooling NPA-NXX-X Information, when a request is made to add an NPA Split or an old NPA-NXX-X is created during a split, as follows:  (Previously N-302)
•	NPA-NXX-X ID – value automatically generated by NPAC.
•	NPA-NXX-X Holder SPID – value set to old NPA-NXX-X.
•	NPA-NXX-X – value set to the new NPA-NXX, plus the seventh digit of the old NPA-NXX-X.
•	Effective Date – value set to the latest of, the same field in old NPA-NXX-X, or the start of PDP.
•	Creation Date – value set to current date/time.
•	Last Modified Date – value set to current date/time.
•	Download Reason – value set to “new1”.
RR3-34	NPA Splits and the Number Pool NPA-NXX-X Holder Information – New NPA Split, Skip Block and Subscription Version Create
NPAC SMS shall NOT schedule the Creation of a Block and Subscription Versions with LNP Type of POOL, for an NPA-NXX-X that is automatically generated by the NPAC SMS in the Number Pooling NPA-NXX-X Information, as a result of a request to add an NPA Split.  (Previously N-303)
NOTE:  The Block and SVs will be created at PDP Start based on Block and SV split requirements.
RR3-35	NPA Splits and the Number Pool NPA-NXX-X Holder Information – NXX Removal from NPA Split prior to the end of PDP
NPAC SMS shall upon the removal of an NPA-NXX from an NPA Split prior to the end of permissive dialing, remove the new NPA-NXX-X from the NPA-NXX-X Holder Information.  (Previously N-310)
RR3-36.1	NPA Splits and the Number Pool NPA-NXX-X Holder Information – Addition of an NPA-NXX-X scheduled for an NPA Split
NPAC SMS shall, upon entry of an old NPA-NXX-X in the Number Pooling NPA-NXX-X Holder Information, automatically add an entry for the new NPA-NXX-X for an NPA-NXX scheduled for an NPA Split.  (Previously N-320.1)
RR3-36.2	NPA Splits and the Number Pool NPA-NXX-X Holder Information – New Addition of an NPA-NXX-X scheduled for an NPA Split With an Error Message
NPAC SMS shall reject the request and generate an error message to the NPAC Personnel when a request is made to add a new NPA-NXX-X in the Number Pooling NPA-NXX-X Holder Information, and the NPA-NXX is scheduled for an NPA Split.  (Previously N-320.2)
RR3-36.3	NPA Splits and the Number Pool NPA-NXX-X Holder Information – Addition of an NPA-NXX-X currently in Permissive Dialing in an NPA Split
NPAC SMS shall, upon entry of an NPA-NXX-X in the Number Pooling NPA-NXX-X Holder Information, automatically add an entry for the new/old NPA-NXX-X for an NPA-NXX currently in Permissive Dialing in an NPA Split.  (Previously N-320.3)
NOTE:  Therefore, if entering the new NPA-NXX-X, then the old NPA-NXX-X will be automatically added; and if entering the old NPA-NXX-X, then the new NPA-NXX-X will be automatically added.
RR3-37.1	NPA Splits and the Number Pool NPA-NXX-X Holder Information – Modification of an NPA-NXX-X scheduled for an NPA Split
NPAC SMS shall, upon modification of an old NPA-NXX-X in the Number Pooling NPA-NXX-X Holder Information, automatically modify the corresponding entry for the new NPA-NXX-X for an NPA-NXX scheduled for an NPA Split, if the new Effective Date is Greater Than or Equal To the start of the Permissive Dialing Period.  If the modified Effective Date value is Less Than the start of the Permissive Dialing Period, then the new NPA-NXX-X’s Effective Date is Equal To the start of the Permissive Dialing Period.  (Previously N-321.1)
RR3-37.2	NPA Splits and the Number Pool NPA-NXX-X Holder Information – New Modification of an NPA-NXX-X scheduled for an NPA Split With an Error Message
NPAC SMS shall reject the request and generate an error message to the NPAC Personnel when a request is made to modify a new NPA-NXX-X in the Number Pooling NPA-NXX-X Holder Information, and the NPA-NXX is scheduled for an NPA Split.  (Previously N-321.2)
RR3-37.3	NPA Splits and the Number Pool NPA-NXX-X Holder Information – Modification of an NPA-NXX-X involved in an NPA Split
NPAC SMS shall, upon modification of an NPA-NXX-X in the Number Pooling NPA-NXX-X Holder Information, automatically modify the old/new NPA-NXX-X for an NPA-NXX currently in Permissive Dialing in an NPA Split.
NOTE:  Therefore, if modifying the new NPA-NXX-X, then the old NPA-NXX-X will be automatically modified; and if modifying the old NPA-NXX-X, then the new NPA-NXX-X will be automatically modified.  (Previously N-321.3)
RR3-38.1	NPA Splits and the Number Pool NPA-NXX-X Holder Information – Deletion of an NPA-NXX-X involved in an NPA Split
NPAC SMS shall, upon de-pooling of an old NPA-NXX-X in the Number Pooling NPA-NXX-X Holder Information, prior to the start of the Permissive Dialing Period, automatically de-pool the corresponding entry for the new NPA-NXX-X for an NPA-NXX scheduled for an NPA Split, at the time the requested NPA-NXX-X is de-pooled.  (Previously N-322.1)
RR3-38.2	NPA Splits and the Number Pool NPA-NXX-X Holder Information – New Deletion of an NPA-NXX-X scheduled for an NPA Split With an Error Message
NPAC SMS shall reject the request and generate an error message to the NPAC Personnel when a request is made to de-pool a new NPA-NXX-X in the Number Pooling NPA-NXX-X Holder Information, and the NPA-NXX is scheduled for an NPA Split.  (Previously N-322.2)
RR3-38.3	NPA Splits and the Number Pool NPA-NXX-X Holder Information – Deletion of an NPA-NXX-X involved in an NPA Split
NPAC SMS shall, upon de-pool of an NPA-NXX-X in the Number Pooling NPA-NXX-X Holder Information, automatically de-pool the old/new NPA-NXX-X for an NPA-NXX currently in Permissive Dialing in an NPA Split, at the time the requested NPA-NXX-X is de-pooled.
NOTE:  Therefore, if de-pooling the new NPA-NXX-X, then the old NPA-NXX-X will be automatically de-pooled; and if de-pooling the old NPA-NXX-X, then the new NPA-NXX-X will be automatically de-pooled.  (Previously N-322.3)
RR3-39	NPA Splits and the Number Pool NPA-NXX-X Holder Information – Broadcast of Addition or Deletion of NPA-NXX-X Split Data
NPAC SMS shall broadcast NPA-NXX-X data defined in RR3-31, RR3-35, RR3-36.1, RR3-36.3, RR3-37.1, RR3-37.3, RR3-38.1, and RR3-38.3, that is added or deleted for an NPA Split; this broadcast shall occur as defined in requirements RR3-66, RR3-67.1, RR3-67.2, RR3-68, RR3-69, RR3-70, RR3-71, RR3-72 and RR3-73.  (Previously N-325)
RR3-40	NPA Splits and the Number Pool NPA-NXX-X Holder Information – Deletion of Old NPA-NXX-X at the end of permissive dialing
NPAC SMS shall automatically delete the old NPA-NXX-X from the Number Pooling NPA-NXX-X Holder Information, upon reaching the end of the permissive dialing period for the old NPA-NXX of the NPA-NXX-X.  (Previously N-326)

3.5.2	Block Holder, NPA Splits

RR3-41	NPA Splits and the Number Pooling Block Holder Information –  Recognition of Both Old NPA and New NPA
NPAC SMS shall upon the start of permissive dialing for an NPA Split, convert the old NPA-NXX to the new NPA-NXX in the Number Pooling Block Information.  (Previously B-490)
RR3-42	NPA Splits and the Number Pooling Block Holder Information – NXX Removal from Split
NPAC SMS shall upon the removal of an NPA-NXX from an NPA Split, after the start of permissive dialing, reinstate the original NPA for the NXX-X in the Block Holder Information.  (Previously B-500)
RR3-43	NPA Splits and the Number Pool Block Holder Information – Addition of a Block involved in an NPA Split
NPAC SMS shall convert the old NPA-NXX to the new NPA-NXX for a Block involved in an NPA Split upon creation in the Number Pooling Block Holder Information, if the old NPA-NXX is currently in permissive dialing.  (Previously B-510)
RR3-44	NPA Splits and the Number Pool Block Holder Information – Addition of a Block for an NPA-NXX involved in an NPA Split
NPAC SMS shall accept a Block create request from NPAC personnel, Service Provider via the SOA to NPAC SMS Interface or Service Provider via the NPAC SOA Low-tech Interface, with either the old NPA-NXX or the new NPA-NXX for an NPA-NXX that is currently in permissive dialing.  (Previously B-520)
RR3-45	NPA Splits and the Number Pool Block Holder Information – Broadcast of a Block Create for an NPA-NXX involved in an NPA Split
NPAC SMS shall broadcast a Block create to an EDR Local SMS, via the NPAC SMS to Local SMS Interface, by sending a Block using the new NPA-NXX for an NPA-NXX that is currently in permissive dialing.  (Previously B-530)
RR3-46	NPA Splits and the Number Pool Block Holder Information – Modification of a Block for an NPA-NXX involved in an NPA Split
NPAC SMS shall accept a Block modify active request from NPAC personnel, Service Provider via the SOA to NPAC SMS Interface, or Service Provider via the NPAC SOA Low-tech Interface, with either the old NPA-NXX or the new NPA-NXX for an NPA-NXX that is currently in permissive dialing.  (Previously B-540)
RR3-47	NPA Splits and the Number Pool Block Holder Information – Broadcast of a Block Modify Active for an NPA-NXX involved in an NPA Split
NPAC SMS shall broadcast a Block modify active to an EDR Local SMS, via the NPAC SMS to Local SMS Interface, by sending a Block using the new NPA-NXX for an NPA-NXX that is currently in permissive dialing.  (Previously B-550)
RR3-48	NPA Splits and the Number Pool Block Holder Information – De-pooling of the Block during PDP
NPAC SMS shall broadcast a Block delete request to an EDR Local SMS, via the NPAC SMS to Local SMS Interface, by sending a Block using the new NPA-NXX for an NPA-NXX that is currently in permissive dialing.  (Previously B-551)
RR3-49	NPA Splits and the Number Pool Block Holder Information – Mass Update that includes one or more Blocks for an NPA-NXX involved in an NPA Split
NPAC SMS shall accept a mass update request from NPAC personnel that spans one or more Blocks that are part of an NPA Split that is currently in permissive dialing only when the new NPA-NXX is used.  
RR3-50	NPA Splits and the Number Pool Block Holder Information – Broadcast of a Mass Update that includes one or more Blocks for an NPA-NXX involved in an NPA Split
NPAC SMS shall broadcast a mass update that could span one or more Blocks to an EDR Local SMS, via the NPAC SMS to Local SMS Interface, using the new NPA-NXX for an NPA-NXX that is currently in permissive dialing.  (Previously B-553)
	RR3-51.1	NPA Splits and the Number Pool Block Holder Information – Creation of Old Block
NPAC SMS shall create an old Block with a new version id for an active Block involved in an NPA split at the start of permissive dialing for the old NPA.  (Previously B-554.1)
	RR3-51.2	NPA Splits and the Number Pool Block Holder Information – Old Block No Broadcast
NPAC SMS shall broadcast no data to the Local SMSs due to the creation of an old Block with a new version id for an NPA split.  (Previously B-554.2)
RR3-218	NPA Splits and the Number Pool Block Holder Information – Broadcast of Subscription Versions for an NPA-NXX involved in an NPA Split
NPAC SMS shall broadcast the Subscription Versions with LNP Type of POOL using the new NPA-NXX, for an addition, modification, deletion, re-send, resync, or mass update, to a non-EDR Local SMS, via the NPAC SMS to Local SMS Interface, for an NPA-NXX that is currently in permissive dialing.  (Previously SV-430)
3.6	NPA-NXX Filter Management Requirements
RR3-5	Create Filtered NPA-NXX for a Local SMS
NPAC SMS shall allow a Service Provider to create a filtered NPA-NXX for a given Local SMS, via the NPAC SMS to Local SMS interface and the SOA to NPAC SMS interface, which results in the SMS NOT broadcasting NPA-NXX information, subscription versions, NPA-NXX-X information or Number Pool Blocks with the filtered NPA-NXX to the Local SMS.
RR3-6	Delete Filtered NPA-NXX for a Local SMS
NPAC SMS shall allow a Service Provider to delete a filtered NPA-NXX for a given Local SMS, via the NPAC SMS to Local SMS interface and the SOA to NPAC SMS interface, which results in the SMS broadcasting NPA-NXX information, subscription versions, NPA-NXX-X information and Number Pool Blocks with the filtered NPA-NXX to the given Local SMS.
RR3-7	Query Filtered NPA-NXXs for a Local SMS
NPAC SMS shall allow a Service Provider to query filtered NPA-NXXs for a given Local SMS via the NPAC SMS to Local SMS interface and the SOA to NPAC SMS interface.
RR3-8	Query Filtered NPA-NXXs - NPA-NXX Not Provided
NPAC SMS shall return to the requesting Service Provider all filtered NPA-NXXs for a given Local SMS when the NPA-NXX is NOT input upon a Filter NPA-NXX Query via the NPAC SMS to Local SMS interface and the SOA to NPAC SMS interface.
RR3-9	Query Filtered NPA-NXXs - NPA-NXX Provided
NPAC SMS shall return to the requesting Service Provider a single NPA-NXX for a given Local SMS when the NPA-NXX is input upon a filtered NPA-NXX Query via the NPAC SMS to Local SMS interface and the SOA to NPAC SMS interface.
3.7	Business Hour and Days Requirements
RR3-10	Business Hours and Days
NPAC SMS shall support definition and processing of long and short business hours and days for operations involving business time calculation.
RR3-11	Business Day Definition – Short
NPAC SMS short business days shall be Monday through Friday excluding NPAC operations-defined holidays.
	RR3-30	Business Day Definition -Long
NPAC SMS long business days shall be Monday through Saturday excluding NPAC operations-defined holidays.
RR3-12.1	Business Day Duration - Tunable Parameter
NPAC SMS shall provide long and short Business Day Duration tunable parameters, which are defined as the number of hours from the tunable business day start time.
RR3-12.2	Business Day Duration - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the long and short Business Day Duration tunable parameters.
RR3-12.3	Short Business Day Duration - Tunable Parameter Default
NPAC SMS shall default the short Business Day Duration tunable parameter to 12 hours.
	RR3-12.4	Long Business Day Duration - Tunable Parameter Default 
NPAC SMS shall default the long Business Day Duration tunable parameter to 12 hours.
RR3-13.1	Business Day Start Time - Tunable Parameter
NPAC SMS shall provide long and short Business Day Start Time tunable parameters, which are defined as the start of the business day in Central Time (standard/daylight).
RR3-13.2	Business Day Start Time - Tunable Parameter Modification
NPAC SMS shall set the long and short Business Day Start Time tunable parameters to the value specified by the contracting region.
RR3-13.3	Short Business Day Start Time - Tunable Parameter Default
NPAC SMS shall default the short Business Day Start Time tunable parameter to 7:00 AM, Central Time (standard/daylight).
	RR3-13.4	Long Business Day Start Time - Tunable Parameter Default
NPAC SMS shall default the long Business Day Start Time tunable parameter to 8:00 AM, Central Time (standard/daylight).
RR3-14	Business Holidays
NPAC SMS shall allow NPAC operations personnel to add/delete business holidays.
3.8	Multiple Service Provider Ids Per SOA Association Requirements
RR3-16 	Addition of NPAC Customer Associated Service Provider Information
NPAC SMS shall allow NPAC personnel to store a primary service provider id with the associated service provider id that it will service.
RR3-17	Deletion of NPAC Customer Associated Service Provider Information
NPAC SMS shall allow NPAC personnel to delete an associated service provider id that is serviced by a primary service provider id. 
RR3-18	NPAC Customer Associated Service Provider Information – SPID validation
NPAC SMS shall validate that the primary and associated service provider ids specified in the NPAC Customer Associated Service Provider Information are valid service provider ids defined in the NPAC SMS.
RR3-19 	NPAC Customer Associated Service Provider Information – Associated SPID
NPAC SMS shall validate that the associated service provider id is not already specified as a primary or associated service provider id in the NPAC Customer Associated Service Provider Information.
A3-5 	Associated Service Provider Multiple Service Provider Ids
Associated service providers using services from another primary service provider’s SOA must use another service provider id if they choose to interact with the NPAC independently from the primary service provider.
RR3-20	NPAC Customer Associated Service Provider Information – Validation Error
NPAC SMS shall report an error to the user and reject the addition of NPAC Customer Associated Service Provider Information if validation errors occur.
RR3-21	NPAC Deletion of Service Provider Validation 
NPAC SMS shall prevent a service provider from being deleted in the NPAC SMS if it exists in the NPAC Customer Associated Service Provider Information as a primary or associated service provider id.
RR3-22 	 Association Rejection for Associated Service Provider Id
NPAC SMS shall reject any SOA to NPAC SMS association attempt by a Service Provider Id that is a service provider associated with the primary Service Provider Id in the NPAC Customer Associated Service Provider Information.
RR3-23 	Associated Service Provider Id Use over a Primary Service Provider Id Association 
NPAC SMS shall support the specification of an associated service provider id in the access control field over a SOA to NPAC SMS association for the primary service provider provided the associated service provider id is defined in the NPAC Associated Service Provider Information for the primary service provider id.
RR3-24	Validation of Old and New/Current for Associated Service Provider Id
NPAC SMS shall validate the old and new/current service provider id for a message sent over the SOA to NPAC SMS association for the primary association as is done today using the service provider id specified in the access control for the message.
RR3-25	Use of Primary Service Provider Key List
NPAC SMS shall accept and send keys from the key lists associated with the primary service provider for all SOA to NPAC SMS messages sent over the association for the primary service provider.
RR3-26	 Notifications for Associated Service Providers
NPAC SMS shall send all SOA notifications for an associated Service Provider over the SOA to NPAC SMS interface association for the primary service provider.  
C3-1	Associated Service Provider Notification Aggregation
NPAC SMS aggregation of all messages over the SOA to NPAC SMS interface for primary and associated service provider ids will not be supported by the NPAC SMS.
RR3-27	 Filters for Associated Service Providers
NPAC SMS shall apply NPA-NXX filters for the associated Service Provider Id before sending them over the SOA to NPAC SMS interface association for the primary service provider.
RR3-28	Associated Service Provider and Primary Service Provider messages		
NPAC SMS shall support messages containing primary and associated service provider ids that are interleaved over the SOA to NPAC SMS interface association for the primary service provider.
RR3-29	Recovery for an Associated Service Provider
NPAC SMS shall support the recovery of network data or notifications for an associated Service Provider over a SOA to NPAC SMS association in recovery mode for a primary service provider. 
Note: Recovery of information for associated service providers is the responsibility of the primary service provider.  The primary service provider must establish an association in recovery mode, send the recovery actions for each service provider id, primary and associated, and then as the primary SPID indicate recovery is complete.
3.9	Bulk Data Download Functionality
RR3-220	Bulk Data Download File Creation
NPAC SMS shall provide a mechanism that allows a Service Provider to recover network data and subscription data in file format.
RR3-221	Bulk Data Download – File Naming Convention
NPAC SMS shall follow the file naming convention as described in Appendix E.
RR3-222	Bulk Data Download – File Format
NPAC SMS shall follow the file format as described in Appendix E.
RR3-223	Bulk Data Download – Selection Criteria for File Creation
NPAC SMS shall allow network data only, subscription data only, or both, as selection criteria for bulk data download file generation.
RR3-224	Bulk Data Download – Required Selection Criteria for Network Data File Generation
NPAC SMS shall require, as selection criteria for network bulk data download file generation, a Service Provider filter of either a single Service Provider ID or ‘All Service Providers’.
RR3-225	Bulk Data Download –Required Selection Criteria for Subscription Data File Generation
NPAC SMS shall require, as selection criteria for subscription bulk data download file generation, a Service Provider filter of either a single Service Provider ID or ‘All Service Providers’, and a start NPA-NXX-station (10-digits).
RR3-226	Bulk Data Download – Optional Selection Criteria for Subscription Data File Generation
NPAC SMS shall accept, as optional selection criteria for subscription bulk data download file generation, an end NPA-NXX-station (10 digits), a start activation date and time, and an end activation date and time.
RR3-227	Bulk Data Download – FTP Sub-Directory
NPAC SMS shall automatically put the subscription bulk data download file into the FTP sub-directory of the Service Provider, based on SPID, that requested the creation of the subscription bulk data download file.
3.10	NPA-NXX-X Information
3.10.1	NPA-NXX-X Download Indicator Management
RR3-52	NPAC Customer SOA NPA-NXX-X Indicator
NPAC SMS shall provide a mechanism to indicate whether a Service Provider supports receiving the NPA-NXX-X data, by downloading this data to their SOA via the SOA to NPAC SMS Interface, using the Number Pooling NPA-NXX-X Object.  (Previously NC-1)
RR3-53	NPAC Customer SOA NPA-NXX-X Indicator – Default
NPAC SMS shall default the SOA NPA-NXX-X Indicator to FALSE.  (Previously NC-3)
RR3-54	NPAC Customer SOA NPA-NXX-X Indicator – Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the SOA NPA-NXX-X Indicator on the NPAC Customer record.  (Previously NC-5)
RR3-55	NPAC Customer LSMS NPA-NXX-X Indicator
NPAC SMS shall provide a mechanism to indicate whether a Service Provider supports receiving the NPA-NXX-X data, by downloading this data to their Local SMS via the NPAC SMS to Local SMS Interface, using the Number Pooling NPA-NXX-X Object.  (Previously NC-10)
RR3-56	NPAC Customer LSMS NPA-NXX-X Indicator – Default
NPAC SMS shall default the LSMS NPA-NXX-X Indicator to FALSE.  (Previously NC-20)
RR3-57	NPAC Customer LSMS NPA-NXX-X Indicator – Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the LSMS NPA-NXX-X Indicator on the NPAC Customer record.  (Previously NC-30)
RR3-58	NPAC Customer LSMS EDR Indicator
NPAC SMS shall provide a mechanism to indicate whether a Service Provider supports Efficient Data Representation (EDR), by downloading this data to their Local SMS via the NPAC SMS to Local SMS Interface, using the Number Pooling Block Object.  (Previously NC-50)
RR3-59	NPAC Customer LSMS EDR Indicator – Default
NPAC SMS shall default the EDR Indicator to FALSE.  (Previously NC-60)
RR3-60	NPAC Customer LSMS EDR Indicator – Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the EDR Indicator on the NPAC Customer record. (Previously NC-70)
3.10.2	NPA-NXX-X Holder Information 
RR3-61	Number Pool NPA-NXX-X Holder Information – NPAC Personnel OpGUI
NPAC SMS shall allow NPAC Personnel to add, modify, delete, and query NPA-NXX-X Holder information via the NPAC Administrative Interface.  (Previously N-10)
RR3-62	Number Pool NPA-NXX-X Holder Information – Service Provider Request
NPAC SMS shall reject a request from a Service Provider SOA via the SOA to NPAC SMS Interface, Service Provider via the NPAC SOA Low-tech Interface, or Service Provider via the NPAC SMS to Local SMS Interface, to add, modify, or delete, NPA-NXX-X Holder information as stored in the NPAC SMS.  (Previously N-20) 
RR3-63	Number Pool NPA-NXX-X Holder Information – NPA-NXX Validation
NPAC SMS shall validate that the NPA-NXX specified in the addition of Number Pooling NPA-NXX-X Holder information is a valid NPA-NXX defined in the NPAC SMS.  (Previously N-30)
RR3-64	Number Pool NPA-NXX-X Holder Information – NPA-NXX Effective Date
NPAC SMS shall validate that the effective date of the NPA-NXX-X is equal to, or greater than, the effective date of the NPA-NXX as defined in the NPAC SMS.  (Previously N-40)
RR3-65	Number Pool NPA-NXX-X Holder Information – Duplicate NPA-NXX-X Validation
NPAC SMS shall validate that the NPA-NXX-X specified in the addition of Number Pooling NPA-NXX-X Holder Information is not a duplicate for another entry in the Number Pooling NPA-NXX-X Holder Information.  (Previously N-50)
RR3-68	Number Pool NPA-NXX-X Holder Information – Service Provider Local SMS NPA-NXX-X Indicator Download of NPA-NXX-X Object
NPAC SMS shall download Number Pooling NPA-NXX-X Information, for additions, modifications, and deletions, using the Number Pooling NPA-NXX-X Object, via the NPAC SMS to Local SMS Interface if the Service Provider's Local SMS NPA-NXX-X indicator is TRUE.  (Previously N-63)
RR3-69	Number Pool NPA-NXX-X Holder Information – Service Provider Local SMS NPA-NXX-X Indicator Suppression of Download of NPA-NXX-X Object
NPAC SMS shall suppress the download of Number Pooling NPA-NXX-X Information, for additions, modifications, and deletions, via the NPAC SMS to Local SMS Interface if the Service Provider's Local SMS NPA-NXX-X indicator is FALSE.  (Previously N-64)
RR3-70	Number Pool NPA-NXX-X Holder Information – Filters for NPA-NXX-X Download to the Local SMS
NPAC SMS shall apply NPA-NXX Filters to NPA-NXX-X downloads to the Local SMS(s).  (Previously N-65)
RR3-71	Number Pool NPA-NXX-X Holder Information – Service Provider SOA NPA-NXX-X Indicator Download of NPA-NXX-X Object
NPAC SMS shall download Number Pooling NPA-NXX-X Information, for additions, modifications, and deletions, using the Number Pooling NPA-NXX-X Object, via the SOA to NPAC SMS Interface if the Service Provider's SOA NPA-NXX-X indicator is TRUE.  (Previously N-66)
RR3-72	Number Pool NPA-NXX-X Holder Information – Service Provider SOA NPA-NXX-X Indicator Suppression of Download of NPA-NXX-X Object
NPAC SMS shall suppress the download of Number Pooling NPA-NXX-X Information, for additions, modifications, and deletions, via the SOA to NPAC SMS Interface if the Service Provider's SOA NPA-NXX-X indicator is FALSE.  (Previously N-67)
RR3-73	Number Pool NPA-NXX-X Holder Information – Filters for NPA-NXX-X Download to the SOA
NPAC SMS shall apply NPA-NXX Filters to NPA-NXX-X downloads to the SOA(s).  (Previously N-68)
RR3-74	Number Pool NPA-NXX-X Holder Information – Validation Error
NPAC SMS shall report an error to the NPAC Personnel and reject the addition or modification of Number Pooling NPA-NXX-X Holder information, or the addition of an NPA Split, if validation errors occur as defined in Requirements RR3-63, RR3-64, RR3-65, RR3-85, RR3-92, RR3-96, RR3-99, RR3-100 and RR3-32.  (Previously N-70)

3.10.3	NPA-NXX-X Holder, NPAC Scheduling/Re-Scheduling of Block Creation

RR3-75.1	Number Pool NPA-NXX-X Holder Information –OpGUI Entry Field for NPAC or SOA Origination
NPAC SMS shall provide a mechanism for NPAC Personnel to select NPAC Origination or SOA Origination for the Block data, when creating NPA-NXX-X Holder information, via the NPAC Administrative Interface.  (Previously N-71.1)
RR3-75.2	Number Pool NPA-NXX-X Holder Information –OpGUI Entry Mechanism for Immediate or Scheduled Block Creation
NPAC SMS shall provide a mechanism for NPAC Personnel to request NPAC Block Creation for either immediate execution, once the Effective Date has been reached, or at a future date/time, via the NPAC Administrative Interface.  (Previously N-71.2)
RR3-75.3	Number Pool NPA-NXX-X Holder Information –OpGUI Entry Field for Scheduled Date/Time
NPAC SMS shall include the "Scheduled Date/Time for Block Activation" as an entry field in the format of MM/DD/YYYY and HH:MM, for the NPA-NXX-X Holder information via the NPAC Administrative Interface.  (Previously N-71.3)
RR3-76.1	Number Pool NPA-NXX-X Holder Information –Default for Scheduled Date/Time Entry Field
NPAC SMS shall default the value in the "Scheduled Date/Time for Block Activation" field in the NPAC Administrative Interface, to the greater of, the Effective Date and 00:01 (HH:MM) Central Time, or, the current date and time.  (Previously N-72.1)
RR3-76.2	Number Pool NPA-NXX-X Holder Information –Scheduled Date/Time Entry Field Validation
NPAC SMS shall validate that the "Scheduled Date/Time for Block Activation" field in the NPAC Administrative Interface, is a valid date and time, and is greater than or equal to the NPA-NXX-X Effective Date.  (Previously N-72.2)
RR3-77	Number Pool NPA-NXX-X Holder Information –Use of Scheduled Date/Time and NPAC Origination Entry Fields
NPAC SMS shall use the value in the "Scheduled Date/Time for Block Activation" field as the date and time, in Central Time, that the Block Creation scheduled event will occur, when the NPAC Origination has been selected by NPAC Personnel while creating NPA-NXX-X Holder information, or when re-scheduling a Block Create Event.  (Previously N-73)
RR3-78	Number Pool NPA-NXX-X Holder Information – Routing Data for NPAC Origination
NPAC SMS shall require NPAC Personnel to enter applicable Block routing data, via the NPAC Administrative Interface, when the NPAC Origination has been selected by NPAC Personnel while creating NPA-NXX-X Holder information, or when re-scheduling a Block Create Event.  (Previously N-74)
RR3-79.1	Number Pool NPA-NXX-X Holder Information – Routing Data Field Level Validation
NPAC SMS shall perform field-level data validations to ensure that the value formats for the following input data, are valid according to the formats specified in the Block Data Model upon Block creation scheduling for a Number Pool, or when re-scheduling a Block Create Event:  (Previously N-75.1)
NPA-NXX-X Holder SPID
NPA-NXX-X
LRN
Class DPC
Class SSN
LIDB DPC
LIDB SSN
CNAM DPC
CNAM SSN
ISVM DPC
ISVM SSN
WSMSC DPC (if supported by the Block Holder SOA)
WSMSC SSN (if supported by the Block Holder SOA)
RR3-79.2	Number Pool NPA-NXX-X Holder Information – Routing Data LRN Validation
NPAC SMS shall validate that the LRN specified in the scheduling/re-scheduling of Number Pooling Block Holder information is a valid LRN defined in the NPAC SMS for the Block Holder.  (Previously N-75.2)
RR3-80.1	Number Pool NPA-NXX-X Holder Information – Modification of Block Create Event
NPAC SMS shall provide a mechanism for NPAC Personnel to modify a Block Create Event, that has been previously entered, but not yet executed, via the NPAC Administrative Interface.  (Previously N-76.1)
RR3-80.2	Number Pool NPA-NXX-X Holder Information – Modification of Scheduled Date/Time for Block Create Event
NPAC SMS shall allow NPAC Personnel to modify the scheduled date/time for an NPAC initiated Block Create Event, to a different date/time, that is on or after the NPA-NXX-X effective date.  (Previously N-76.2)
RR3-80.3	Number Pool NPA-NXX-X Holder Information – Modification of Routing Data for Block Create Event
NPAC SMS shall allow NPAC Personnel to modify the routing data for an NPAC initiated Block Create Event.  (Previously N-76.3)
RR3-81.1	Number Pool NPA-NXX-X Holder Information – Re-schedule of NPAC Initiated Block Create
NPAC SMS shall provide a mechanism for NPAC Personnel to re-schedule a Block Create, for an existing NPA-NXX-X, via the NPAC Administrative Interface.  (Previously N-77.1)
RR3-81.2	Number Pool NPA-NXX-X Holder Information – Re-schedule of Block Create Scheduling Options
NPAC SMS shall provide a mechanism where the re-schedule of a Block Create, can be immediately executed or scheduled for a future date/time.  (Previously N-77.2)
RR3-81.3	Number Pool NPA-NXX-X Holder Information – Re-schedule of Block Create Immediate Execution Edit Check
NPAC SMS shall reject the re-schedule of a Block Create for immediate execution, prior to the effective date of the NPA-NXX-X.  (Previously N-77.3)
RR3-82.1	Number Pool NPA-NXX-X Holder Information – Reject Re-schedule Based on Status
NPAC SMS shall allow the re-schedule of a Block Create, if the Block does NOT exist in the NPAC SMS, or if the Block exists with a status of Old without a Failed SP List.  (Previously N-78.1)
RR3-82.2	Number Pool NPA-NXX-X Holder Information – Reject Re-schedule Based on Existing Block Create Event
NPAC SMS shall only allow a single Block Create Event, that has not been previously executed for this Block, to exist in the NPAC SMS.  (Previously N-78.2)
RR3-82.3	Number Pool NPA-NXX-X Holder Information – Validation Error for Schedule/Re-Schedule of Block Create Event
NPAC SMS shall report an error to the NPAC Personnel and reject the addition or modification of a Number Pooling Block Create Event, if validation errors occur as defined in Requirements RR3-76.2, RR3-78, RR3-79.1, RR3-79.2, RR3-81.3, RR3-82.1, and RR3-82.2.  (Previously N-78.3)
RR3-83.1	Number Pool NPA-NXX-X Holder Information – Error Message for Pending-Like No-Active SVs during Block Create
NPAC SMS shall provide an error dialog that displays the unique error message described in RR3-147, and provides an option for the NPAC Personnel to either, exit the Block Create request, or generate the Pending-Like No-Active Subscription Version(s) report, in the report format listed in RR9-11, RR9-12, RR9-13, and RR9-14, to the screen on the NPAC Administrative Interface, when NPAC Personnel are re-scheduling a Block Creation request for immediate execution.  (Previously N-79.1)
RR3-83.2	Number Pool NPA-NXX-X Holder Information – Pending-Like No-Active SVs Report Output Destinations
NPAC SMS shall, after displaying the Pending-Like No-Active Subscription Version(s) report to the screen, allow the NPAC Personnel to choose an output destination for the report, when NPAC Personnel are re-scheduling a Block Creation request for immediate execution.  (Previously N-79.2)
RR3-83.3	Number Pool NPA-NXX-X Holder Information – Pending-Like No-Active SVs Report Output Destinations for Multiple Destinations
NPAC SMS shall, continue to display the Pending-Like No-Active Subscription Version(s) report, to the screen, and allow the NPAC Personnel to choose additional output destinations one at a time, for the report, until the NPAC Personnel requests the closure of the report window, when NPAC Personnel are re-scheduling a Block Creation request for immediate execution.  (Previously N-79.3)
RR3-83.4	Number Pool NPA-NXX-X Holder Information – Output Destination for Pending-Like No-Active SVs
NPAC SMS shall provide output destination options for the Pending-Like No-Active Subscription Version(s) Report, based on the error message in RR3-83.1, that include print, fax, e-mail, stored to a file, when NPAC Personnel are re-scheduling a Block Creation request for immediate execution.  (Previously N-79.4)
3.10.4	NPA-NXX-X Holder, Addition
RR3-84	Addition of Number Pooling NPA-NXX-X Holder Information – Required Fields
NPAC SMS shall require NPAC personnel to specify the NPA-NXX-X Holder SPID, the NPA-NXX-X, and the Effective Date, as defined in the Number Pooling NPA-NXX-X Holder Information data model.  (Previously N-80)
RR3-85	Addition of Number Pooling NPA-NXX-X Holder Information – SPID Validation
NPAC SMS shall validate that the NPA-NXX-X Holder SPID is a valid Service Provider in the NPAC SMS.  (Previously N-90)
RR3-86	Addition of Number Pooling NPA-NXX-X Holder Information – Check for Pending-Like No-Active SVs
NPAC SMS shall reject the request and issue an error message to the NPAC personnel at the time of NPA-NXX-X Creation, if there are any TNs within the 1K Block of that NPA-NXX-X, or in a 1K Block of the corresponding old/new NPA-NXX-X belonging to an NPA-NXX scheduled for or currently in an NPA split, that contain an SV, with a status of pending/conflict/cancel-pending/failed, and where a currently active SV does NOT exist, for the given TN.  (Previously N-100)
RR3-87	Addition of Number Pooling NPA-NXX-X Holder Information – Check for Pending-Like Port-To-Original SVs
NPAC SMS shall reject the request and issue an error message to the NPAC personnel at the time of NPA-NXX-X Creation, if there are any TNs within the 1K Block, that contain an SV, with a status of pending/conflict/cancel-pending/failed, and where the SV is a Port-To-Original port, for the given TN.  (Previously N-110)
RR3-88.1	Addition of Number Pooling NPA-NXX-X Holder Information – Error Message for Pending-Like No-Active SVs and Pending-Like Port-To-Original SVs
NPAC SMS shall provide an error dialog that displays the unique error message described in RR3-86 and RR3-87, and provides an option for the NPAC Personnel to either, exit the NPA-NXX-X Create request, or generate the Pending-Like No-Active Subscription Version(s) and Pending-Like Port-to-Original Subscription Version(s) Report, in the report format listed in RR9-11, RR9-12, RR9-13, and RR9-14, to the screen on the NPAC Administrative Interface.  (Previously N-130.1)
RR3-88.2	Addition of Number Pooling NPA-NXX-X Holder Information –Pending-Like No-Active SVs and Pending-Like Port-To-Original SVs Report Selection of Output Destinations
NPAC SMS shall, after displaying the Pending-Like No-Active Subscription Version(s) and Pending-Like Port-to-Original Subscription Version(s) Report, to the screen, allow the NPAC Personnel to choose an output destination for the report.  (Previously N-130.2)
RR3-88.3	Addition of Number Pooling NPA-NXX-X Holder Information –Pending-Like No-Active SVs and Pending-Like Port-To-Original SVs Report Output Destinations for Multiple Destinations
NPAC SMS shall, continue to display the Pending-Like No-Active Subscription Version(s) and Pending-Like Port-to-Original Subscription Version(s) Report, to the screen, and allow the NPAC Personnel to choose additional output destinations one at a time, for the report, until the NPAC Personnel requests the closure of the report window.  (Previously N-130.3)
RR3-89	Addition of Number Pooling NPA-NXX-X Holder Information – Output Destination for Pending-Like No-Active SVs and Pending-Like Port-To-Original SVs
NPAC SMS shall provide output destination options, as listed in R9-2, for the Pending-Like No-Active Subscription Version(s) and Pending-Like Port-to-Original Subscription Version(s) Report, based on the error condition in RR3-88.1.  (Previously N-131)
RR3-90	Addition of Number Pooling NPA-NXX-X Holder Information Effective Date Window– Tunable Parameter
NPAC SMS shall provide a NPA-NXX-X Holder Effective Date Window tunable parameter which is defined as the minimum length of time between the current date (exclusive) and the effective date (inclusive), when Creating a NPA-NXX-X in the NPAC SMS.  (Previously N-140)
NOTE:  If the current date is Tuesday the 2nd, the tunable is set to 5 business days, and the port is using short business days (i.e., Monday-Friday), then the minimum effective date for the NPA-NXX-X would be Tuesday the 9th.
RR3-91	Addition of Number Pooling NPA-NXX-X Holder Information Effective Date Window – Tunable Parameter Default
NPAC SMS shall default the NPA-NXX-X Holder Effective Date Window tunable parameter to five (5) business days.
NOTE:  The value of five (5) business days is selected because of the first port notifier, and this would affect SPs operationally if this value is set to less than five business days. (Previously N-150)
RR3-92	Addition of Number Pooling NPA-NXX-X Holder Information Effective Date – Validation
NPAC SMS shall verify that the Effective Date for the NPA-NXX-X Holder data is equal to, or greater than, the current date plus the value of the NPA-NXX-X Holder Effective Date Window tunable parameter, excluding those automatically created by NPA Split processing.  (Previously N-160)
RR3-93	Addition of Number Pooling NPA-NXX-X Holder Information Effective Date – OpGUI Default
NPAC SMS shall set the time portion of the Effective Date Timestamp to 00:00 Central Time, and not allow the NPAC Personnel to modify the Time portion of the Effective Date, on the NPAC Administrative Interface.  (Previously N-170)
RR3-94	Addition of Number Pooling NPA-NXX-X Holder Information – Successful Validation
NPAC SMS shall, upon successful validation, store the NPA-NXX-X in the NPAC SMS, and broadcast the NPA-NXX-X to the Service Providers.  (Previously N-180)
3.10.5	NPA-NXX-X Holder, Modification

RR3-95	Modification of Number Pool NPA-NXX-X Holder Information – Effective Date Modification from OpGUI
NPAC SMS shall allow NPAC personnel to modify the effective date for an NPA-NXX-X as stored in the NPAC SMS via the NPAC Administrative Interface.  (Previously N-190)
RR3-96	Modification of Number Pool NPA-NXX-X Holder Information - Effective Date versus Current Date
NPAC SMS shall allow the NPAC personnel to modify the effective date for an NPA-NXX-X if the current date is less than the effective date for the NPA-NXX-X.  (Previously N-200)
RR3-97	Modification of Number Pool NPA-NXX-X Holder Information - Effective Date Update to Scheduled Block Create
NPAC SMS shall, upon modifying the effective date for an NPA-NXX-X, and where the Block Creation was a scheduled event within the NPAC SMS, also modify the corresponding date for that Block Create scheduled event.  (Previously N-210)
RR3-98	Modification of Number Pool NPA-NXX-X Holder Information Effective Date Window – Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the NPA-NXX-X Holder Effective Date Window tunable parameter.  (Previously N-220)
RR3-99	Modification of Number Pool NPA-NXX-X Holder Information Effective Date – Validation for Current Date
NPAC SMS shall verify that the modification of the Effective Date for the NPA-NXX-X Holder data is equal to, or greater than, the current date.  (Previously N-225)
RR3-100	Modification of Number Pool NPA-NXX-X Holder Information Effective Date – Validation for Tunable
NPAC SMS shall verify that the modification of the Effective Date for the NPA-NXX-X Holder data is equal to, or greater than, the NPA-NXX-X Holder creation date plus the value of the NPA-NXX-X Holder Effective Date Window tunable parameter.  (Previously N-230)
RR3-101	Modification of Number Pooling NPA-NXX-X Holder Information – Successful Validation
NPAC SMS shall, upon successful validation, store the updates to the NPA-NXX-X in the NPAC SMS, and broadcast the updated NPA-NXX-X to the Service Providers.  (Previously N-235)
3.10.6	NPA-NXX-X Holder, Deletion

RR3-102	Deletion of Number Pool NPA-NXX-X Holder Information – NPA-NXX-X Data
NPAC SMS shall allow NPAC personnel to delete the NPA-NXX-X holder information for an NPA-NXX-X as stored in the NPAC SMS.  (Previously N-240)
RR3-103	Deletion of Number Pool NPA-NXX-X Holder Information – Single NPA-NXX-X at a time from OpGUI
NPAC SMS shall allow NPAC personnel to delete the NPA-NXX-X holder information for a single NPA-NXX-X at a time, via the NPAC Administrative Interface.  (Previously N-245)
RR3-104	Deletion of Number Pooling NPA-NXX-X Holder Information – Check for Pending-Like With Active POOL SVs
NPAC SMS shall reject the request and issue an error message to the NPAC personnel at the time of NPA-NXX-X Deletion, if there are any TNs within the 1K Block, that contain an SV with a status of pending/conflict/cancel-pending/failed where the Old SP is equal to the NPA-NXX-X Holder SPID, and the current active SV is LNP Type of POOL.  (Previously N-250)
RR3-105	Deletion of Number Pooling NPA-NXX-X Holder Information – Check for Port-to-Original SVs
NPAC SMS shall reject the request and issue an error message to the NPAC personnel at the time of NPA-NXX-X Deletion, if there are any TNs within the 1K Block, that contain an SV, where the SV is a Port-To-Original port.  (Previously N-260)
RR3-106	Deletion of Number Pooling NPA-NXX-X Holder Information – Check for non-Active Block
NPAC SMS shall reject the request and issue an error message to the NPAC personnel at the time of NPA-NXX-X Deletion, if the associated Block, contains a status other than Active, or the Failed SP List contains any SPIDs.  (Previously N-265)
RR3-107	Deletion of Number Pooling NPA-NXX-X Holder Information – Check for Sending SVs
NPAC SMS shall reject the request and issue an error message to the NPAC personnel at the time of NPA-NXX-X Deletion, if there are any Subscription Versions with a status of sending, as a result of a disconnect request for that given Subscription Version.  (Previously N-270)
RR3-108.1	Deletion of Number Pooling NPA-NXX-X Holder Information – Error Message for Pending-Like With Active POOL SVs and Pending-Like Port-To-Original SVs
NPAC SMS shall provide an error dialog that displays the unique error message described in RR3-104 and RR3-105, and provides an option for the NPAC Personnel to either, exit the NPA-NXX-X Delete request, or generate the Pending-Like With Active POOL Subscription Version(s) and Pending-Like Port-to-Original Subscription Version(s) Report, in the report format listed in RR9-15, RR9-16, RR9-17, and RR9-18, to the screen on the NPAC Administrative Interface.  (Previously N-280.1)
RR3-108.2	Deletion of Number Pooling NPA-NXX-X Holder Information –Pending-Like With Active POOL SVs and Pending-Like Port-To-Original SVs Report Selection of Output Destinations
NPAC SMS shall, after displaying the Pending-Like With Active POOL Subscription Version(s) and Pending-Like Port-to-Original Subscription Version(s) Report, to the screen, allow the NPAC Personnel to choose an output destination for the report.  (Previously N-280.2)
RR3-108.3	Deletion of Number Pooling NPA-NXX-X Holder Information –Pending-Like With Active POOL SVs and Pending-Like Port-To-Original SVs Report Output Destinations for Multiple Destinations
NPAC SMS shall, continue to display the Pending-Like With Active POOL Subscription Version(s) and Pending-Like Port-to-Original Subscription Version(s) Report, to the screen, and allow the NPAC Personnel to choose additional output destinations one at a time, for the report, until the NPAC Personnel requests the closure of the report window.  (Previously N-280.3)
RR3-109	Deletion of Number Pooling NPA-NXX-X Holder Information – Output Destination for Pending-Like and Active POOL SVs and Pending-Like Port-To-Original SVs
NPAC SMS shall provide output destination options, as listed in R9-2, for the Pending-Like With Active POOL Subscription Version(s) and Pending-Like Port-to-Original Subscription Version(s) Report, based on the error condition in RR3-108.1.  (Previously N-281)
RR3-110	Deletion of Number Pool NPA-NXX-X Holder Information – Block and Subscription Version Data Dependency
NPAC SMS shall delete the NPA-NXX-X Holder Information for a 1K Block, through a multi-step process that includes:  (Previously N-290)
 - Broadcasting the delete of SVs to non-EDR Local SMSs.
 - Broadcasting the delete of Blocks to the EDR Local SMSs.
 - Receiving a successful response from all EDR and non-EDR Local SMSs.
 - Updating all SVs and Blocks on the NPAC SMS.
 - Deleting the NPA-NXX-X Holder information from the NPAC SMS.
 - Broadcasting the delete of NPA-NXX-X to the NPA-NXX-X enabled SOAs and Local SMSs.
RR3-111	Deletion of Number Pool NPA-NXX-X Holder Information – NPA-NXX-X Dependency
NPAC SMS shall only delete the NPA-NXX-X Holder Information after successfully updating all associated SVs and Blocks to a status of Old with NO Failed SP List.  (Previously N-295)
RR3-112	Deletion of Number Pool NPA-NXX-X Holder Information – NPA-NXX-X With an Associated Block Create Scheduled Event
NPAC SMS shall delete an associated Block Create Scheduled Event, that has not been executed, when deleting the NPA-NXX-X Holder Information.  (Previously N-297)
3.10.7	NPA-NXX-X Holder, First Port Notification

RR3-228	Number Pool NPA-NXX-X Holder information notification of First Port
NPAC SMS shall notify all accepting Local SMSs and SOAs of the NPA-NXX, effective date, and owning Service Provider when no porting activity has occurred in the NPA-NXX, immediately after creation of a Number Pooling NPA-NXX-X, including those automatically created by NPA Split processing.  (Previously N-330)
 
3.10.8	NPA-NXX-X Holder, Query

RR3-113	Query of Number Pool NPA-NXX-X Holder Information – NPAC Personnel and Service Provider Personnel
NPAC SMS shall allow NPAC personnel, Service Provider SOA via the SOA to NPAC SMS Interface, Local SMS via the NPAC SMS to Local SMS Interface, or Service Provider SOA via the NPAC SOA Low-tech Interface, to query the NPA-NXX-X holder information for all data as listed in the NPA-NXX-X Holder Information Data Model, for an NPA-NXX-X as stored in the NPAC SMS.  (Previously N-340)
RR3-114	Query of Number Pool NPA-NXX-X Holder Information – Return of Queried Data
NPAC SMS shall return to the NPAC Personnel or requesting Service Provider all NPA-NXX-Xs that match the query selection criteria, as listed in the NPA-NXX-X Holder Information Data Model, for an NPA-NXX-X as stored in the NPAC SMS.  (Previously N-360)
RR3-115	Query of Number Pool NPA-NXX-X Holder Information – Return of Queried Data to NPAC Personnel Only
NPAC SMS shall provide to NPAC Personnel only, an indicator on the NPAC Administrative Interface, only after completing a query, if an associated Block Create Scheduled Event, that has not been executed, exists in the NPAC SMS.  (Previously N-365)
3.10.9	NPA-NXX-X Holder, Bulk Data Download

RR3-116	Number Pool NPA-NXX-X Holder Information Bulk Download File – Separate File containing all NPA-NXX-X Data
NPAC SMS shall provide a separate bulk data download file that contains all NPA-NXX-Xs in the NPAC SMS, when generating bulk data download files for Network Data. (Previously N-373)
RR3-117	Number Pool NPA-NXX-X Holder Information Bulk Download File – Filters for NPA-NXX-X Data
NPAC SMS shall apply NPA-NXX Filters to NPA-NXX-Xs in the creation of a bulk data download file.  (Previously N-374)
RR3-118	Number Pool NPA-NXX-X Holder Information Bulk Download File – FTP Sub-Directory
NPAC SMS shall automatically put the NPA-NXX-X bulk data download file into the FTP sub-directory of the Service Provider, based on SPID, that requested the creation of the bulk data download file for Network Data.  (Previously N-375)
3.11	Block Information
3.11.1.1	Version Status

 

Figure 3 2 -- Number Pool Block Version Status Interaction Diagram
In the following table, the reference to “Number Pool Block” data when broadcasting to an LSMS is based on that Service Provider’s EDR Indicator (i.e., Number Pool Block object or Subscription Versions with LNP Type of POOL).
Number Pool Block Version Status Interaction Descriptions
#	Interaction Name	Type	Description
1	Creation -
Set to Sending	NPAC SMS Internal	NPAC SMS creates a Number Pool Block for the Block Holder Service Provider.
		NPAC Operations Interface - NPAC Personnel	User sends a Number Pool Block creation request for the Block Holder Service Provider.
		SOA to NPAC SMS Interface - Block Holder Service Provider	The Service Provider User sends a Number Pool Block creation request for itself (the Block Holder Service Provider).
2	Sending to
Partial Failure	NPAC SMS Internal	NPAC SMS automatically sets a Number Pool Block from sending to partial failure after one or more, but not all, of the Local SMSs fail the Number Pool Block activation after the tunable retry period expires.
3	Partial Failure to Sending	NPAC Operations Interface - NPAC Personnel	User re-sends a partial failure Number Pool Block.
4	Sending to
Failed	NPAC SMS Internal	NPAC SMS automatically sets a Number Pool Block from sending to failed after all Local SMSs fail Number Pool Block activation after the tunable retry period expires.
5	Failed to
Sending	NPAC Operations Interface - NPAC Personnel	User re-sends a failed Number Pool Block.
6	Sending to
Active	NPAC SMS Internal	1.	NPAC SMS automatically sets a sending Number Pool Block to active after the Number Pool Block activation is successful in all of the Local SMSs.
2.	NPAC SMS automatically sets a sending Number Pool Block to active after the Number Pool Block modification is broadcast to all of the Local SMSs and either all have responded or retries have been exhausted.
3.	NPAC SMS automatically sets a sending Number Pool Block to active after a failure to all Local SMSs on a de-pool.
7	Active to
Sending	NPAC Operations Interface - NPAC Personnel	1.	User de-pools an active Number Pool Block.
2.	User modifies an active Number Pool Block.
3.	User resends a failed de-pool or modify Number Pool Block.
		SOA to NPAC SMS Interface - Block Holder Service Provider	User modifies an active Number Pool Block.
8	Sending to
Old	NPAC SMS Internal	1.	NPAC SMS automatically sets a sending Number Pool Block to old after a de-pool to all Local SMSs successfully completes.
2.	NPAC SMS automatically sets a sending Number Pool Block to old after a de-pool that fails on one or more, but not all Local SMSs.
9	Old to Sending	NPA Operations Interface – NPAC Personnel	User re-sends a partial failure of a de-pool.
10	Partial Failure to Partial Failure	NPAC SMS Internal 	NPAC SMS automatically sets a Number Pool Block from partial failure to partial failure after one or more, but not all previously failed Local SMSs successfully activate a Number Pool Block, as a result of an audit or LSMS recovery.  The Failed_SP_List is updated to reflect the updates to the previously failed SPs.
11	Partial Failure to Active	NPAC SMS Internal 	NPAC SMS automatically sets a Number Pool Block from partial failure to active after all previously failed Local SMSs successfully activate a Number Pool Block, as a result of an audit or LSMS recovery.  The Failed_SP_List is updated to reflect the updates to the previously failed SPs.
12	Old to Old	NPAC SMS Internal 	NPAC SMS automatically sets a Number Pool Block from old to old after one or more previously failed Local SMSs successfully de-pools a Number Pool Block, as a result of an audit or LSMS recovery.  The Failed_SP_List is updated to reflect the updates to the previously failed SPs.

Table 3 14 Number Pool Block Version Status Interaction Descriptions

3.11.2	Block Holder, General

RR3-119	Number Pool Block Holder Information – NPAC Personnel OpGUI
NPAC SMS shall allow NPAC Personnel to add, modify, or query Block Holder information via the NPAC Administrative Interface.  (Previously B-10)
RR3-120	Number Pool Block Holder Information – NPAC Customer EDR Indicator Download of Block Object
NPAC SMS shall download Number Pooling Block Information, for additions, modifications, deletions, re-sends, and resync using the Number Pooling Block Object, via the NPAC SMS to Local SMS Interface if the EDR indicator is TRUE, at the time a request is processed by the NPAC SMS.  (Previously B-20)
RR3-121	Number Pool Block Holder Information – NPAC Customer EDR Indicator Download of SVs
NPAC SMS shall download Number Pooling Block Information, for additions, modifications, deletions, re-sends, and resyncs, using individual subscription versions with LNP Type of POOL, for the TNs within the range of the 1K Block, via the NPAC SMS to Local SMS Interface if the EDR indicator is FALSE, at the time a request is processed by the NPAC SMS.  (Previously B-30)
RR3-122	Number Pool Block Holder Information – NPAC Customer EDR Indicator For Requests But Not Retries
NPAC SMS shall use the EDR Indicator when processing a request for Number Pooling Block Information, but not during the retry functionality (“x by y” [where “x” is the number of attempts, and “y” is the interval in number of minutes in between attempts]).  (Previously B-32)
RR3-123	Number Pool Block Holder Information – Data Integrity for Block and Pooled Subscription Versions
NPAC SMS shall maintain data integrity for LRN and GTT data, between a Number Pooling Block and the corresponding Subscription Versions with LNP Type of POOL in that 1K Block, in the NPAC SMS.  (Previously B-34)
RR3-124	Number Pool Block Holder Information – Service Provider Validation
NPAC SMS shall verify the Block Holder SPID attribute of the Block object matches the SPID in the accessControl for SOA Block Activation.  (Previously B-40)
RR3-125	Number Pool Block Holder Information – SPID Validation
NPAC SMS shall verify the SPID of the accessControl matches the owner of the association or one of its secondary providers.  (Previously B-50)
RR3-126	Number Pool Block Holder Information – NPA-NXX-X Data Validation 
NPAC SMS shall, upon receiving a block activate request, validate that the SPID and the NPA-NXX-X attributes in the request are the same as the SPID and the NPA-NXX-X in a single entry in the NPA-NXX-X Holder Information.  (Previously B-60)
RR3-127	Number Pool Block Holder Information – NPA-NXX-X Effective Date
NPAC SMS shall reject a request to create a Block if the current date is prior to the effective date of the Number Pooling NPA-NXX-X as defined in the NPAC SMS.  (Previously B-70)
RR3-128	Number Pool Block Holder Information – LRN Validation
NPAC SMS shall validate that the LRN specified in the addition or modification of Number Pooling Block Holder information is a valid LRN defined in the NPAC SMS for the Block Holder.  (Previously B-80)
RR3-129	Number Pool Block Holder Information – Duplicate Block Validation
NPAC SMS shall validate that the NPA-NXX-X specified in the addition of Number Pooling Block Holder Information does not already exist in the Number Pooling Block Holder Information, except for a status of Old where the Block’s Failed SP List is empty.  (Previously B-90)
RR3-130	Number Pool Block Holder Information – SOA Origination Values
NPAC SMS shall set the SOA Origination to TRUE for Blocks sent over the SOA to NPAC SMS Interface or for Blocks sent over the NPAC SOA Low-tech Interface, and to FALSE for Blocks that were created by NPAC personnel, except where the value will be maintained from the Old Block, as a result of an NPA Split.  (Previously B-100)
RR3-131	Number Pool Block Holder Information – Validation Error
NPAC SMS shall report an error to the user and reject the addition or modification of Number Pooling Block Holder information if validation errors occur as defined in RR3-124, RR3-125, RR3-126, RR3-127, RR3-128, RR3-129, RR3-146, and RR3-149.  (Previously B-110)
RR3-132	Number Pooling Block Holder Information –Update Notification
NPAC SMS shall send all SOA notifications to the current SP (the block holder) for updates on Blocks, when the Block SOA Origination is TRUE.  (Previously B-120)
RR3-133	Number Pooling Block Holder Information –Update Notification Suppression
NPAC SMS shall suppress all SOA notifications to the current SP (the block holder) for updates on Blocks, when the Block SOA Origination is FALSE.  (Previously B-130)
RR3-134	Number Pooling Block Holder Information – Failed SP List Update for Block for EDR Local SMS
NPAC SMS shall consider an EDR Local SMS to be discrepant and shall update the Block Failed SP List, based on an EDR Local SMS failing to process the Block Object, for an addition, modification, deletion, re-send, resync, or mass update.  (Previously B-140)
RR3-135	Number Pooling Block Holder Information – Failed SP List Update for Subscription Versions for non-EDR Local SMS
NPAC SMS shall consider a non-EDR Local SMS to be discrepant and shall update the Block Failed SP List, based on a non-EDR Local SMS failing to process one or more Subscription Versions, with LNP Type of POOL, within the Block, for an addition, modification, deletion, re-send, resync, or mass update.  (Previously B-150)
RR3-136	Number Pooling Block Holder Information – Failed SP List Sent to Block Holder
NPAC SMS shall send the Block Failed SP List, to the current SP (the block holder) via the SOA to NPAC SMS Interface, along with the SOA notification for status update of the Block, when the Block SOA Origination is TRUE, and the broadcast to one or more Local SMSs fail.  (Previously B-160)
 
RR3-137.1	Number Pooling Block Holder Information – Synchronization of Block Status and Subscription Version Status
NPAC SMS shall ensure that the status for Block broadcasts to EDR Local SMSs and Subscription Versions with LNP Type of POOL broadcasts to non-EDR Local SMSs, are synchronized, by performing the following:  (Previously B-165.1)
•	The status for the Block and Subscription Versions shall cross-reference one another and contain the results of the broadcast of the Block to the EDR Local SMSs, and the broadcast of the Subscription Versions to the non-EDR Local SMSs.
•	The status for each Subscription Version shall only be set, once the broadcasts of the Block to all EDR and Subscription Versions to non-EDR Local SMSs has been completed, and a response has been received by all EDR and non-EDR Local SMSs or retries have been exhausted.
•	The status for the Block shall only be set, once the broadcasts of the Block to all EDR and Subscription Versions to non-EDR Local SMSs has been completed, and a response has been received by all EDR and non-EDR Local SMSs or retries have been exhausted.
•	The status for the Block shall reflect the information contained in Tables RR3-137.2, RR3-137.3, and RR3-137.4.
Key for Tables RR3-137.2, RR3-137.3, and RR3-137.4
Act = Active status
Act/Part = a mix of both Active status and Partial Failure status
Part = Partial Failure status
Part/Fail = a mix of both Partial Failure status and Failed status
Fail = Failed status
Old = Old status
Act/Old = a mix of both Active status and Old status
 
RR3-137.2	Number Pooling Block Holder Information – Synchronization of Block Status and Subscription Version Status for Block Creation
NPAC SMS shall set the status of a Block for Block Creation, based on the data contained in Table RR3-137.2.  (Previously B-165.2)

Table RR3-137.2 -- Block Creation
	EDR Local SMS	Non-EDR Local SMS	

All Pooled SVs in the Block	



Block
	all EDR Local SMSs respond successfully	some but not all EDR Local SMSs respond successfully	none of the EDR Local SMSs respond successfully	all non-EDR Local SMSs respond successfully to all SVs	some but not all non-EDR Local SMSs respond successfully to a given SV, but all respond successfully to another SV	all non-EDR Local SMSs fail a given SV, but respond successfully to another SV	some but not all non-EDR Local SMSs fail all Pooled SVs	none of the non-EDR Local SMSs respond successfully		
1									Act	Act
2									Act/Part	Part
3									Part	Part
4									Part	Part
5									Part	Part
6									Part	Part
7									Part	Part
8									Part	Part
9									Part	Part
10									Part	Part
11									Part	Part
12									Part	Part
13									Part/Fail	Part
14									Part	Part
15									Fail	Fail
Requirement Table 3 1, RR3-137.2 -- Block Creation
As a summary of the table, the Block’s status will be set on Creation to:
•	Active, if ALL EDR and non-EDR Local SMSs respond successfully.
•	Failed, if ALL EDR and non-EDR Local SMSs respond unsuccessfully, or retries are exhausted.
•	Partial Failure, for all other cases.
 
RR3-137.3	Number Pooling Block Holder Information – Synchronization of Block Status and Subscription Version Status for Block Modification
NPAC SMS shall set the status of a Block for Block Modification, based on the data contained in Table RR3-137.3.  (Previously B-165.3)

Table RR3-137.3 -- Block Modification
	EDR Local SMS	Non-EDR Local SMS	

All Pooled SVs in the Block	



Block
	all EDR Local SMSs respond successfully	some but not all EDR Local SMSs respond successfully	none of the EDR Local SMSs respond successfully	all non-EDR Local SMSs respond successfully to all SVs	some but not all non-EDR Local SMSs respond successfully to a given SV, but all respond successfully to another SV	all non-EDR Local SMSs fail a given SV, but respond successfully to another SV	some but not all non-EDR Local SMSs fail all Pooled SVs	none of the non-EDR Local SMSs respond successfully		
1									Act	Act
2									Act	Act
3									Act	Act
4									Act	Act
5									Act	Act
6									Act	Act
7									Act	Act
8									Act	Act
9									Act	Act
10									Act	Act
11									Act	Act
12									Act	Act
13									Act	Act
14									Act	Act
15									Act	Act
Requirement Table 3 2, RR3-137.3 -- Block Modification
As a summary of the table, the Block’s status will be set on Modification to:
•	Active, for all cases.
 
RR3-137.4	Number Pooling Block Holder Information – Synchronization of Block Status and Subscription Version Status for Block Deletion
NPAC SMS shall set the status of a Block for Block Deletion, based on the data contained in Table RR3-137.4.  (Previously B-165.4)

Table RR3-137.4 -- Block Deletion
	EDR Local SMS	Non-EDR Local SMS	

All Pooled SVs in the Block	



Block
	all EDR Local SMSs respond successfully	some but not all EDR Local SMSs respond successfully	none of the EDR Local SMSs respond successfully	all non-EDR Local SMSs respond successfully to all SVs	some but not all non-EDR Local SMSs respond successfully to a given SV, but all respond successfully to another SV	all non-EDR Local SMSs fail a given SV, but respond successfully to another SV	some but not all non-EDR Local SMSs fail all Pooled SVs	none of the non-EDR Local SMSs respond successfully		
1									Old	Old
2									Old	Old
3									Old	Old
4									Old	Old
5									Old	Old
6									Old	Old
7									Old	Old
8									Old	Old
9									Old	Old
10									Old	Old
11									Old	Old
12									Old	Old
13									Act/Old	Old
14									Old	Old
15									Act	Act
Requirement Table 3 3, RR3-137.4 -- Block Deletion
As a summary of the table, the Block’s status will be set on Deletion to:
•	Active, if ALL EDR and non-EDR Local SMSs respond unsuccessfully, or retries are exhausted.
•	Old, for all other cases.
RR3-138.1	Number Pooling Block Holder Information – Synchronization of Block Failed SP List and Subscription Version Failed SP List
NPAC SMS shall ensure that the Block Failed SP List and the Subscription Versions Failed SP Lists for Block broadcasts to EDR Local SMSs and Subscription Versions broadcasts to non-EDR Local SMSs, are synchronized, by performing the following:  (Previously B-166.1)
•	The Block Failed SP List for the Block and Subscription Versions Failed SP Lists for the Subscription Versions shall cross-reference one another and contain the results of the broadcast of the Block to the EDR Local SMSs, and the broadcast of the Subscription Versions to the non-EDR Local SMSs.
•	The Subscription Versions Failed SP Lists for the Subscription Versions shall be set, based on the results of the Block broadcasts to all EDR Local SMSs and the Subscription Version broadcasts to all non-EDR Local SMSs, and a response has been received by all EDR and non-EDR Local SMSs or retries have been exhausted, for Activations, Modifications, and Deletions.
•	The Block Failed SP List for the Block shall be set, based on the results of the Block broadcasts to all EDR Local SMSs and the Subscription Version broadcasts to all non-EDR Local SMSs, and a response has been received by all EDR and non-EDR Local SMSs or retries have been exhausted.
•	The Block Failed SP List for the Block shall be based on the summary of all Subscription Versions with LNP Type of POOL within the 1K Block.
•	The Block Failed SP List for the Block shall reflect the information contained in Table RR3-138.2.
 
RR3-138.2	Number Pooling Block Holder Information – Synchronization of Block Failed SP List and Subscription Version Failed SP List for Block Creation, Modification, or Deletion
NPAC SMS shall set the Block Failed SP List of a Block for updates, based on the data contained in Table RR3-138.2.  (Previously B-166.2)

Table RR3-138.2 – Failed SP List
	EDR Local SMS	Non-EDR Local SMS	

All Pooled SVs in the Block	



Block
	all EDR Local SMSs respond successfully	some but not all EDR Local SMSs respond successfully	none of the EDR Local SMSs respond successfully	all non-EDR Local SMSs respond successfully to all SVs	some but not all non-EDR Local SMSs respond successfully to a given SV, but all respond successfully to another SV	all non-EDR Local SMSs fail a given SV, but respond successfully to another SV	some but not all non-EDR Local SMSs fail all Pooled SVs	none of the non-EDR Local SMSs respond successfully		
1									ZFSL	ZFSL
2									Z/S FSL	SFSL
3									SFSL	SFSL
4									SFSL	SFSL
5									SFSL	SFSL
6									SFSL	SFSL
7									SFSL	SFSL
8									SFSL	SFSL
9									SFSL	SFSL
10									SFSL	SFSL
11									SFSL	SFSL
12									SFSL	SFSL
13									S/A FSL	SFSL
14									SFSL	SFSL
15									AFSL	AFSL
Requirement Table 3 4, RR3-138.2 – Failed SP List
Key for Table RR3-138.2
ZFSL = Zero Failed SP List (no SPs in the list)
Z/S FSL = Zero/Some Failed SP List (mix of both Zero Failed SP List and Some Failed SP List)
SFSL = Some but not all Failed SP List (some but not all SPs in the list)
S/A FSL = Some/All Failed SP List (mix of both Some Failed SP List and All Failed SP List)
AFSL = All Failed SP List (all SPs in the list)
RR3-139	Number Pooling Block Holder Information – Synchronization of Block Failed SP List and Subscription Version Failed SP List for the last failed Subscription Version in the 1K Block
NPAC SMS shall remove a non-EDR Service Provider from the Block Failed SP List when the Service Provider is no longer on the Subscription Version Failed SP List for ALL subscription versions in the 1K Block.  (Previously B-167)
RR3-140	Number Pooling Block Holder Information – Synchronization of Block Failed SP List and Subscription Version Failed SP List for the Block
NPAC SMS shall remove an EDR Service Provider from ALL subscription version's Failed SP List when the Service Provider is no longer on the Block Failed SP List.  (Previously B-168)
RR3-141.1	Number Pooling Block Holder Information – Unique Error Message for Partial Failure or Failed Status Update to a Block for Block Activation Requests Initiated by NPAC Personnel
NPAC SMS shall generate a unique alarmable error message when a Block’s status is initially set to either Partial Failure or Failed, for Block Activation requests initiated by NPAC Personnel.  (Previously B-169.1.1)
RR3-141.3	Number Pooling Block Holder Information – Unique Error Message for Active Status With a Failed SP List Update to a Block
NPAC SMS shall generate a unique alarmable error message when a Block’s status is updated to Active with a Failed SP List, for each occurrence, for Block Modification requests initiated by NPAC Personnel.  (Previously B-169.2)
RR3-141.4	Number Pooling Block Holder Information – Unique Error Message for Old Status With a Failed SP List Update to a Block
NPAC SMS shall generate a unique alarmable error message when a Block’s status is updated to Old with a Failed SP List, for Block Deletion requests that were initiated through the NPA-NXX-X deletion by NPAC Personnel.  (Previously B-169.3)
RR3-142.1	Number Pooling Block Holder Information – Block Broadcast Monitoring Mechanism
NPAC SMS shall provide a mechanism to send a recurring page to NPAC Personnel, based on a configurable interval, when a unique alarmable error message is generated as defined in RR3-141.1, RR3-141.3, or RR3-141.4.  (Previously B-169.6)
NOTE:  The configurable interval will be set by M&P.
RR3-142.2	Number Pooling Block Holder Information – Block Broadcast Monitoring Mechanism Completion
NPAC SMS shall provide a mechanism to stop the recurring page to NPAC Personnel, whenever the Block’s status is set to Active AND the Block Failed SP List is empty, or, the Block’s status is set to Old AND the Block Failed SP List is empty.  (Previously B-169.7)
RR3-143	Number Pool Block Holder Information – Filters for Blocks
NPAC SMS shall apply NPA-NXX Filters to Block broadcasts to the Local SMS(s).  (Previously B-560)
3.11.3	Block Holder, Addition
RR3-144	Addition of Number Pooling Block Holder Information
NPAC SMS shall allow NPAC personnel, Service Provider via the SOA to NPAC SMS Interface, or Service Provider via the NPAC SOA Low-tech Interface, to request the creation of a Number Pooling Block.  (Previously B-170)
RR3-145	Addition of Number Pool Block Holder Information – Rejected from LSMS
NPAC SMS shall reject a request to create a Block by a Service Provider via the NPAC SMS to Local SMS Interface, and will return an error message to the LSMS.  (Previously B-175)
RR3-146	Addition of Number Pooling Block Holder Information – Required Data
NPAC SMS shall require NPAC personnel or Service Provider via the SOA to NPAC SMS Interface to specify the Block Holder SPID, the NPA-NXX-X, and the initial routing information, as defined in the Number Pooling Block Holder Information.  (Previously B-180)
RR3-147	Addition of Number Pooling Block Holder Information – Check for pending-like SVs for NPAC Personnel
NPAC SMS shall reject the request and issue a unique alarmable error message to the NPAC personnel at the time of Block Creation for an NPAC initiated request, from the NPAC Administrative Interface, if there are any TNs within the 1K Block, that contain an SV, with a status of pending/conflict/cancel-pending/failed, and where a currently active SV does NOT exist, for the given TN.  (Previously B-190)
RR3-148	Addition of Number Pooling Block Holder Information – Error Message to SOA for pending-like SVs
NPAC SMS shall reject the request and issue an error message to the SOA at the time of Block Creation from the SOA via the SOA to NPAC SMS Interface, if there are any TNs within the 1K Block, that contain an SV, for a given TN in the 1K Block, with a status of pending/conflict/cancel-pending/failed, and where a currently active SV does NOT exist, for the given TN.  (Previously B-210)
RR3-149	 Addition of Number Pooling Block Holder Information – Field-level Data Validation
NPAC SMS shall perform field-level data validations to ensure that the value formats for the following input data, is valid according to the formats specified in the Subscription Version Data Model upon Block creation for a Number Pool:  (Previously B-250)
NPA-NXX-X Holder SPID
NPA-NXX-X
LRN
Class DPC
Class SSN
LIDB DPC
LIDB SSN
CNAM DPC
CNAM SSN
ISVM DPC
ISVM SSN
WSMSC DPC  (if supported by the Block Holder SOA)
WSMSC SSN  (if supported by the Block Holder SOA)
RR3-150	Addition of Number Pooling Block Holder Information – Broadcast of Block Data
NPAC SMS shall, upon successfully creating a Block, set the Block’s status to sending, and broadcast an addition of a Block, to EDR Local SMSs, via the NPAC SMS to Local SMS Interface.  (Previously B-260)
RR3-151	Addition of Number Pooling Block Holder Information – Activation Broadcast Complete Timestamp Update
NPAC SMS shall update the Activation Broadcast Complete Timestamp of the Block upon completion of the broadcast, and the FIRST successful response, for either an EDR or non-EDR Local SMS.  (Previously B-265)
RR3-152	Addition of Number Pooling Block Holder Information – Status Update
NPAC SMS shall update the status of the Block upon completion of the Activation broadcast, and a response from ALL EDR and non-EDR Local SMSs, or retries are exhausted, as defined in RR3-137.1 and RR3-137.2.  (Previously B-270)
RR3-153	Addition of Number Pooling Block Holder Information – Failed SP List Update
NPAC SMS shall update the Block Failed SP List upon completion of the Activation broadcast, and a response from ALL EDR and non-EDR Local SMSs, or retries are exhausted, as defined in RR3-138.1, and RR3-138.2.  (Previously B-275)
3.11.4	Block Holder, Modification
RR3-154	Block's SOA Origination Indicator – NPAC Personnel OpGUI
NPAC SMS shall allow NPAC Personnel to modify the SOA Origination Indicator on the NPAC Block record, via the NPAC Administrative Interface.  (Previously B-315)
RR3-155	Block's SOA Origination Indicator – Suppress Broadcast
NPAC SMS shall suppress the broadcast to a Local SMS, of a modification to a Block’s SOA Origination Indicator.  (Previously B-317)
RR3-156	Block's SOA Origination Indicator – Suppress Creation When False
NPAC SMS shall suppress the creation of a Block modification notification, when the Block’s SOA Origination Indicator is modified to FALSE.  (Previously B-318)
RR3-157	Modification of Number Pooling Block Holder Information – Routing Data
NPAC SMS shall allow NPAC personnel, Service Provider via the SOA to NPAC SMS Interface, or Service Provider via the NPAC SOA Low-tech Interface, to modify the block holder default routing information (LRN, DPC(s), and SSN(s)), for a 1K Block as stored in the NPAC SMS.  (Previously B-320)
RR3-158	Modification of Number Pool Block Holder Information – Rejected from LSMS
NPAC SMS shall reject a request to modify a Block by a Service Provider via the NPAC SMS to Local SMS Interface, and will return an error message to the LSMS.  (Previously B-325)
RR3-159	Modification of Number Pooling Block Holder Information – SPID Validation
NPAC SMS shall allow a Service Provider via the SOA to NPAC SMS Interface or Service Provider via the NPAC SOA Low-tech Interface, to modify Block data for Blocks where the Block Holder SPID matches the Service Provider making the request.  (Previously B-330)
RR3-160	Modification of Number Pooling Block Holder Information – Selection Criteria
NPAC SMS shall allow a Service Provider via the SOA to NPAC SMS Interface, to modify Block data by specifying either Block ID, or NPA-NXX-X value and status, in the request.  (Previously B-332)
RR3-161	Modification of Number Pooling Block Holder Information – Current status and Failed SP List
NPAC SMS shall reject and issue an error message to NPAC personnel, Service Provider via the SOA to NPAC SMS Interface, or Service Provider via the NPAC SOA Low-tech Interface, when modifying block holder data, for a 1K Block as stored in the NPAC SMS, and the Block’s current status is not active, or the Block has at least one Service Provider in the Failed SP List.  (Previously B-335)
RR3-162	Modification of Number Pooling Block Holder Information – Sending Status Update
NPAC SMS shall, upon processing a valid request to modify a Block, update the status of the Block, at the start of the broadcast of a Block modification to the Local SMSs, from an active status to a sending status.  (Previously B-340)
RR3-163	Modification of Number Pooling Block Holder Information – Broadcast of Block Data
NPAC SMS shall, upon successfully modifying a Block and setting the Block’s status to sending, broadcast a modification of a Block to EDR Local SMSs, via the NPAC SMS to Local SMS Interface.  (Previously B-350)
RR3-164	Modification of Number Pooling Block Holder Information – Modify Broadcast Complete Timestamp Update
NPAC SMS shall update the Modify Broadcast Complete Timestamp of the Block upon completion of the broadcast, and the FIRST successful response, for either an EDR or non-EDR Local SMS.  (Previously B-355)
RR3-165	Modification of Number Pooling Block Holder Information –Status Update
NPAC SMS shall update the status of the Block upon completion of the Modification broadcast, and a response from ALL EDR and non-EDR Local SMSs, or retries are exhausted, as defined in RR3-137.1 and RR3-137.3.  (Previously B-360)
RR3-166	Modification of Number Pooling Block Holder Information – Failed SP List Update
NPAC SMS shall update the Block Failed SP List upon completion of the broadcast, and a response from ALL EDR and non-EDR Local SMSs, or retries are exhausted, as defined in RR3-138.1, and 3-138.2.  (Previously B-370)
	RR3-167	Modification of Number Pooling Block Holder Information – Creation of Old Block
	NPAC SMS shall create an old Block with a new version id for an active Block prior to modification.  (Previously B-380)
	RR3-168	Modification of Number Pooling Block Holder Information – Old Block No Broadcast
	NPAC SMS shall broadcast no data to the Local SMSs due to the creation of an old Block with a new version id for an active Block prior to modification.  (Previously B-390)
3.11.5	Block Holder, Deletion
RR3-169	Deletion of Number Pool Block Holder Information – NPAC
NPAC SMS shall not allow NPAC Personnel to request a delete of a Block in the NPAC SMS.NOTE:  This is initiated at the NPA-NXX-X level, and is part of a multi-step “cascading delete” process.  (Previously B-400)
RR3-170	Deletion of Number Pool Block Holder Information – SOA
NPAC SMS shall reject a request to delete a Block by a Service Provider via the SOA to NPAC SMS interface, and will return an error message to the SOA.  (Previously B-410)
RR3-171	Deletion of Number Pool Block Holder Information – Rejected from LSMS
NPAC SMS shall reject a request to delete a Block by a Service Provider via the NPAC SMS to Local SMS Interface, and will return an error message to the LSMS.  (Previously B-412)
RR3-172	Deletion of Number Pool Block Holder Information – LTI
NPAC SMS shall not allow Service Provider Personnel to request a delete of a Block in the NPAC SMS via the NPAC SOA Low-tech Interface.  (Previously B-415)
RR3-173	Deletion of Number Pooling NPA-NXX-X Holder Information – Sending Status Update to Block
NPAC SMS shall, upon processing a valid request to delete an NPA-NXX-X, update the status of the Block at the start of the broadcast to the Local SMSs, from an active status to a sending status.  (Previously B-430)
RR3-174	Deletion of Number Pool NPA-NXX-X Holder Information – Broadcast of Block Data
NPAC SMS shall, upon setting the Block’s status to sending, broadcast a delete of a Block, to EDR LSMSs, via the NPAC SMS to Local SMS Interface.  (Previously B-440)
RR3-175	Deletion of Number Pooling Block Holder Information – Disconnect Complete Timestamp Update
NPAC SMS shall update the Disconnect Complete Timestamp of the Block upon completion of the broadcast, and the FIRST successful response, for either an EDR or non-EDR Local SMS.  (Previously B-445)
RR3-176	Deletion of Number Pooling NPA-NXX-X Holder Information – Status Update to Block
NPAC SMS shall update the status of the Block upon completion of the Deletion broadcast, and a response from ALL EDR and non-EDR Local SMSs, or retries are exhausted, as defined in RR3-137.1 and RR3-137.4.  (Previously B-450)
RR3-177	Deletion of Number Pooling NPA-NXX-X Holder Information – Failed SP List Update
NPAC SMS shall update the Block Failed SP List upon completion of the broadcast, and a response from ALL EDR and non-EDR Local SMSs, or retries are exhausted, as defined in RR3-138.1, and RR3-138.2.  (Previously B-480)
	RR3-178	Deletion of Number Pooling NPA-NXX-X Holder Information – Creation of Old Block
	NPAC SMS shall create an old Block with a new version id for a disconnected Block when the NPA-NXX-X Holder Information de-pool request is received.  (Previously B-482)
	RR3-179	Deletion of Number Pooling NPA-NXX-X Holder Information – Old Block No Broadcast
NPAC SMS shall broadcast no data to the Local SMSs due to the creation of an old Block with a new version id for a disconnected Block when the NPA-NXX-X Holder Information de-pool request is received.  (Previously B-484)
3.11.6	Block Holder, Query
RR3-180	Query of Number Pool Block Holder Information – NPAC Personnel
NPAC SMS shall allow NPAC Personnel to query the block holder information for all data as listed in the Block Holder Information Data Model, for a 1K Block as stored in the NPAC SMS.  (Previously B-555)
RR3-181	Query of Number Pool Block Holder Information – Service Provider Personnel
NPAC SMS shall allow a Service Provider SOA via the SOA to NPAC SMS Interface, Service Provider Local SMS via the NPAC SMS to Local SMS Interface, or Service Provider via the NPAC SOA Low-tech Interface, to query Block Holder Information, regardless of the value in the requesting Service Provider’s EDR Indicator.  (Previously B-556)
RR3-182	Query of Number Pool Filtered Block Holder Information – Query Block
NPAC SMS shall return, to the NPAC Personnel or requesting Service Provider, all Block data that match the query selection criteria.  (Previously B-557)
3.11.7	Block Holder, Default Routing Restoration
RR3-183	Number Pool Block Holder Information Use of Number Pool Default Routing Information – Existing Block
The NPAC SMS shall use the default routing restoration information in the Number Pooling Block Holder Information as the block holder default routing, when a ported pooled number is disconnected or port to original port is activated, and returns the TN(s) to the block, once the Block exists, except for Old with or without a Failed SP List.  (Previously B-570)
RR3-184	Number Pool Block Holder Information Use of Number Pool Notification of TN Re-assignment – During De-Pooling
The NPAC SMS shall send a notification to the Code Holder, and suppress the notification to the Block Holder, when a ported pooled number is disconnected, for TN(s) in the block, when the Block is being de-pooled, and the most recent block contains a status of Old, with a Failed SP List.  (Previously B-571)
NOTE:  The notifications characteristics for a disconnect of a ported pooled number, during de-pooling of a Block, with a Block that contains a status of Old with a Failed SP List, is additional functionality that defines Code Holder responsibility and notification messages.  In essence, even though the de-pooled Block (i.e., contains a status of Old with a Failed SP List) is post-effective date, it has the behavior of a Block that has NOT been pooled and is in a pre-effective date stage.  Also, the customer disconnect date notification is going to the Code Holder, but the TN cannot be re-assigned in their inventory.
3.11.8	Block Holder, Re-Send
RR3-185	Re-Send of Number Pool Block Holder Information – Filters for Blocks
NPAC SMS shall apply NPA-NXX Filters to Block re-sends to the Local SMS(s).  (Previously B-574)
RR3-186.1	Re-Send of Number Pooling Block Holder Information – NPAC Personnel OpGUI Single Block
NPAC SMS shall allow NPAC Personnel to re-send Block Information, one Block at a time, via the NPAC Administrative Interface.  (B-575.1)
RR3-186.2	Re-Send of Number Pooling Block Holder Information – NPAC Personnel OpGUI One or All Service Providers
NPAC SMS shall allow NPAC Personnel to re-send Block Information, to a single Service Provider or all Service Providers in the Block Failed SP List, via the NPAC Administrative Interface.  (Previously B-575.2)
RR3-187	Re-Send of Number Pooling Block Holder Information – Use of EDR Indicator for Re-Send data
NPAC SMS shall use the value in the Service Provider's EDR Indicator to determine the type of data to re-send to the Service Provider, when a re-send request is initiated.  (Previously B-576)
RR3-188	Re-Send of Number Pooling Block Holder Information – Re-Send to EDR Local SMS
NPAC SMS shall re-send Block Information to an EDR Local SMS, by re-sending the previously failed Block Object, via the NPAC SMS to Local SMS Interface.  (Previously B-577)
RR3-189	Re-Send of Number Pooling Block Holder Information – Re-Send to non-EDR Local SMS
NPAC SMS shall re-send Block Information to a non-EDR Local SMS, by re-sending the previously failed Subscription Version(s), via the NPAC SMS to Local SMS Interface.  (Previously B-578)
RR3-190	Re-Send of Number Pooling Block Holder Information – Failed Block Status Set to Sending
NPAC SMS shall update the status of the failed Block, specified in the re-send request, at the start of the re-send to the Local SMSs, from a failed status to a sending status.  (Previously B-580)
RR3-191	Re-Send of Number Pooling Block Holder Information – Partial Failure Block Status Set to Sending
NPAC SMS shall update the status of the partial failure Block, specified in the re-send request, at the start of the re-send to the Local SMSs, from a partial failure status to a sending status.  (Previously B-590)
RR3-192	Re-Send of Number Pooling Block Holder Information – Sending Status Update to Active Block
NPAC SMS shall update the status of the active Block, with a Failed SP List, specified in the re-send request, at the start of the re-send to the Local SMSs, from an active status to a sending status.  (Previously B-600)
RR3-193	Re-Send of Number Pooling Block Holder Information – Sending Status Update to Old Block
NPAC SMS shall update the status of the old Block, with a Failed SP List, specified in the re-send request, at the start of the re-send to the Local SMSs, from an old status to a sending status.  (Previously B-610)
RR3-194	Re-Send of Number Pool Block Holder Information – Broadcast of Block Data
NPAC SMS shall, upon setting the Block’s status to sending, broadcast a re-send of a Block, to EDR LSMSs, via the NPAC SMS to Local SMS Interface.  (Previously B-620)
RR3-195	Re-Send of Number Pooling Block Holder Information – Update to Failed SP List
NPAC SMS shall update the Block Failed SP List of the Block and the Subscription Version Failed SP List of each Subscription Version with LNP Type of POOL, by removing the previously failed Local SMS, upon a successful re-send to a previously failed Local SMS.  (Previously B-630)
RR3-196	Re-Send of Number Pooling Block Holder Information –Status Update to Block after Re-Send
NPAC SMS shall update the status of the Block, specified in the re-send request for a Block Creation, Modification, or Deletion, at the completion of the re-send to the Local SMS, and a response from the Local SMS or if retries have been exhausted, from a sending status, as defined in RR3-137.1, RR3-137.2, RR3-137.3, and RR3-137.4.  (Previously B-635)
RR3-197	Re-Send of Number Pooling Block Holder Information – Failed SP List Update
NPAC SMS shall update the Block Failed SP List, specified in the re-send request for a Block Creation, Modification, or Deletion, at the completion of the re-send to the Local SMS, and a response from the Local SMS or if retries have been exhausted, as defined in RR3-138.1, and RR3-138.2.  (Previously B-636)
3.11.9	Block Holder, Bulk Data Downloads
RR3-198	Number Pool Block Holder Information Bulk Download File Creation – Blocks
NPAC SMS shall allow NPAC personnel to request a bulk data download file for Block data via the NPAC Administrative Interface.  (Previously B-640)
RR3-199	Number Pool Block Holder Information Bulk Download File Creation – Selection Criteria
NPAC SMS shall include the Requesting Service Provider, Active and Partial Failure Blocks Only or Latest View of Block Activity Choice, Time Range in Central Time (daylight/standard), and Block Range as Selection Criteria fields for the Block bulk data download file via the NPAC Administrative Interface.  (Previously B-650)
RR3-200.1	Number Pool Block Holder Information Bulk Download File Creation – Active and Partial Failure Blocks Only or Latest View of Block Activity Choice
NPAC SMS shall allow NPAC Personnel to select either Active and Partial Failure Blocks Only or Latest View of Block Activity, and shall use the selected choice, for Block data.  (Previously B-652.1)
RR3-200.2	Number Pool Block Holder Information Bulk Download File Creation – Data in Active Blocks Only Choice
NPAC SMS shall use the Active and Partial Failure Blocks Only selection to only include Blocks with a status of either Active or Partial Failure in the Block Bulk Data Download file.  (Previously B-652.2)
RR3-200.3	Number Pool Block Holder Information Bulk Download File Creation – Data in Latest View of Block Activity Choice
NPAC SMS shall use the Latest View of Block Activity selection to include all Blocks, regardless of status, in order to capture activation, modification, and deletion transactions for Block data, but only include the latest instance of the Block in the Block Bulk Data Download file, for a given NPA-NXX-X, when a Block has more than one activity (e.g., addition, then modification) within the specified time range.  (Previously B-652.3)
RR3-201.1	Number Pool Block Holder Information Bulk Download File Creation – Time Range Fields
NPAC SMS shall use the Start Time Range entry field as an inclusive start range in GMT, and the End Time Range entry field as an inclusive ending range in GMT, for Block data that were broadcast during the specified Time Range.  (Previously B-654.1)
RR3-201.2	Number Pool Block Holder Information Bulk Download File Creation – Time Range Fields and Block Data Model
NPAC SMS shall use the Start and End Time Range entry fields to include Block data, based on the Activation Broadcast Timestamp, Modify Broadcast Timestamp, and Disconnect Broadcast Timestamp, in the NPAC’s Block Data Model, when generating the file for the Latest View of Block Activity selection.  (Previously B-654.2)
RR3-202	Number Pool Block Holder Information Bulk Download File Creation – Block Range Fields
NPAC SMS shall use the first Block Range entry field as an inclusive start range, and the second Block Range entry field as an inclusive ending range, for Block data.  (Previously B-655)
NOTE:  If the Block Range was 303-242-2 through 303-355-6, the inclusive range would contain all Blocks within the TN Range of 303-242-2000 through 303-355-6999.
RR3-203	Number Pool Block Holder Information Bulk Download File Creation – Selection Criteria Combinations
NPAC SMS shall edit the selection criteria combination as shown in the table below:  (Previously B-657)
	Time Range	Block Range
Active and Partial Failure Blocks Only	Rejected	Optional
Latest View of Block Activity	Required	Optional

Such that a combination of:
•	Active with a Time Range shall be rejected.
•	Latest View shall require a Time Range.
•	Block Range shall be optional for both Active and Latest View.
RR3-204	Number Pool Block Holder Information Bulk Data Download – Block Results
NPAC SMS shall provide a bulk data download file, based on the selection criteria, that contains all Blocks in the NPAC SMS, regardless of the value in the Service Provider’s EDR Indicator.  (Previously B-660)
RR3-205	Number Pool Block Holder Information Bulk Data Download – Block Results Sort Order
NPAC SMS shall sort the Block Bulk Data Download file, in ascending order based on the value in the NPA-NXX-X attribute.  (Previously B-662)
RR3-206	Number Pool Block Holder Information Bulk Data Download – Filters for Blocks
NPAC SMS shall apply NPA-NXX Filters to Blocks in the creation of bulk data download files.  (Previously B-670)
RR3-207	Number Pool Block Holder Information Bulk Data Download – FTP Sub-Directory
NPAC SMS shall automatically put the bulk data download file into the FTP sub-directory of the Service Provider, based on SPID, that requested the creation of the bulk data download file.  (Previously B-680)

 
4.	Service Provider Data Administration
4.1	Service Provider Data Administration and Management
Service Provider Data Administration functions allow NPAC personnel to receive and record data needed to identify authorized LNP Service Providers.  The Service Provider data indicates the LNP Service Providers and includes location, contact name, security, routing, and network interface information.
Service Provider Administration supports functionality to manage Service Provider data.  There can be only one instance of Service Provider data for a specific LNP Service Provider.
AR1-1	Service Provider ID
All NPAC Customers will obtain a unique Service Provider ID from a proper source.
4.1.1	User Functionality
R4 1	Create Service Providers
The NPAC SMS shall allow NPAC Personnel to add a Service Provider.
R4 2	Modify Service Providers
NPAC SMS shall allow modification of Service Provider data via the NPAC SMS to Local SMS interface or the SOA to NPAC SMS interface.  Service Providers can only modify their own data.
R4 3	Delete Service Providers
NPAC SMS shall allow NPAC personnel to delete a Service Provider.
R4 4	View of Service Provider Data
NPAC SMS shall allow NPAC personnel to view Service Provider data.
R4-5.1	View List of Service Provider Subscriptions
NPAC SMS shall allow NPAC personnel to view a list of Subscription Versions associated with the Service Provider.
R4-5.2	Authorized Service Providers View Their Own Data
NPAC SMS shall allow authorized Service Provider personnel to view their own Service Provider data via the SOA to NPAC SMS interface, the NPAC SMS to Local SMS interface, and the NPAC SOA Low-tech Interface.
RX4-2	Authorized Service Providers Modify Their Own Data
NPAC SMS shall allow authorized Service Provider personnel to modify their own Service Provider data.
RR4-4.1	Broadcast NPAC Customer Names
NPAC SMS shall broadcast all additions, modifications, and deletions of NPAC Customer names via the NPAC SMS to Local SMS interface and/or SOA to NPAC SMS interface.
4.1.2	System Functionality
This section describes NPAC SMS functionality required to support the NPAC personnel requests described in the above section. The following specifies user requests and lists the NPAC SMS functionality needed to support those requests.
4.1.2.1	Service Provider Data Creation
NPAC personnel can request that Service Provider data be created in the NPAC SMS. The functionality described below enables a new instance of Service Provider data for a Service Provider to be created, provided that no other Service Provider data exists for the Service Provider.
R4 6	New Service Provider ID
NPAC SMS shall require the following to be entered to identify the Service Provider, when NPAC personnel are creating a new Service Provider:
Service Provider ID   the alphanumeric identifier of the Service Provider. This ID must be unique.
R4 7.1	Examine for Duplicate Service Provider ID
NPAC SMS shall check to see if there is an existing Service Provider with the same Service Provider ID.
R4-7.2	Error notification of Duplicate Service Provider
NPAC SMS shall inform the user that the Service Provider data already exists for the Service Provider, if it does exist, and that the new Service Provider data cannot be created.
R4 8	Service Provider Data Elements
NPAC SMS shall require the following data if there is no existing Service Provider data:
1.	Service Provider name, address, phone number, and contact organization.
2.	NPAC customer type.
3.	Service Provider allowable functions.
4.	Service Provider Network Address of NPAC SMS to Local SMS interface.
5.	Service Provider Network Address of SOA to NPAC SMS interface.
6.	Service Provider Security Contact. Contact data is security data when Contact Type is “SE.”
7.	Service Provider Repair contact name and phone number. The default Service Provider Repair Contact and phone number shall be the same as the Service Provider contact and phone number, if the Service Provider Repair Contact information is left blank.
8.	Service Provider billing name, address, phone number, and billing contact for NPAC SMS billing. The default for the Service Provider Billing data shall be the same as the Service Provider data, if the Service Provider Billing information is left blank.
9.	Service Provider Download Indicator
10.	Service Provider Maximum Query
11.	NPAC New Functionality Support
12.	Port In Timer Type
13.	Port Out Timer Type
14.	Business Hour/Days
15.	NPAC Customer SOA NPA-NXX-X Indicator
16.	NPAC Customer LSMS NPA-NXX-X Indicator
17.	LSMS EDR Indicator
The following data is optional:
•	Service Provider Contact Type: SOA Contact, Local SMS, Web, Network Communications, Conflict Resolution, Operations, and User Administration Contact Address Information.
•	NPAC Customer Associated Service Provider Information
R4 9	Service Provider data validation
NPAC SMS shall validate that all required Service Provider data has been received, after the Service Provider data has been collected.
R4 10	Notification of successful add for new Service Provider
NPAC SMS shall notify NPAC personnel upon successful creation of the new Service Provider.
R4 11	Failure notification of Service Provider creation
NPAC SMS shall issue an appropriate error message upon unsuccessful creation of the new Service Provider.
4.1.2.2	Service Provider Data Modification
NPAC personnel and the SOA to NPAC SMS interface and the NPAC to Local SMS interface can request that Service Provider data be modified in the NPAC SMS. The functionality described below enables the user to modify data for the Service Provider.

R4 13	Service Provider Key selection for modifying Service Provider data
NPAC SMS shall require one of the following data items to identify the Service Provider data to be modified:
Service Provider ID
or
Service Provider Name
The Service Provider ID is required over the SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface.
R4 14	Error notification of invalid Service Provider ID or Name during Modify
NPAC SMS shall issue an appropriate error message to the user if the Service Provider data to be modified does not exist.
R4 15.1	Modify restrictions on Service Provider data - Service Providers
NPAC SMS shall allow Service Provider data to be modified or added to the Service Provider data with the exception of the data listed in Table 3 2 NPAC Customer Data Model.
R4 15.2	Modify restrictions on Service Provider data - NPAC Operations Personnel
NPAC SMS shall allow NPAC Operations personnel to modify the data in Table 3 2 NPAC Customer Data Model, with the exception of the NPAC Customer ID.
R4 16	Re-validation of Service Provider data after Modify
NPAC SMS shall revalidate that all required Service Provider data is present when a user attempts to submit modified Service Provider data.
R4 17	Modify Validation Error Message
NPAC SMS shall issue an appropriate error message to the user if the Service Provider data fails validation on a modify.
4.1.2.3	Delete Service Provider Data
NPAC personnel can request that the Service Provider data be deleted. Deleted Service Provider data will be written to a history file. The functionality described below enables a user to delete data for the Service Provider.
R4 20	Service Provider key for delete
NPAC SMS shall require the Service Provider ID and/or Service Provider name from the user to identify the Service Provider data to be deleted.
R4 21	Error Message for Delete key search
NPAC SMS shall generate an error message and send it to the request originator, if the Service Provider data does not exist, or if is has already been deleted and exists only in a history file. NPAC SMS will not proceed further with the deletion request.
R4-22.1	No Subscription Versions during Service Provider Delete
NPAC SMS shall perform the deletion of the Service Provider data, notify the user that the deletion request was successful, if there are no affected Subscription Versions, and write the Service Provider data to a history file.
R4-22.2	Subscription during Service Provider Delete
NPAC SMS shall notify the user that the request to delete the Service Provider data cannot be completed until the affected individual Subscription Versions are modified, if affected Subscription Versions are found.
R4-22.3	Service Provider subscription restrictions during Network Data Delete.
NPAC SMS shall determine if there are any Subscription Versions being affected by the NPA-NXX and/or LRN data being deleted.
4.1.3	Service Provider Queries
The query functionality discussed in this section will give users the ability to view Service Provider and Subscription data. A user may not be able to modify a particular data item because they do not have the proper security permissions, therefore the data is made available via NPAC SMS for read only purposes.
4.1.3.1	User Functionality
R4 24.1	Display of Service Provider ID and related subscription data
NPAC SMS shall allow NPAC personnel to view all Subscription Versions associated with a Service Provider ID and/or Service Provider Name.
R4-24.2	Display of LRN and related subscription data
NPAC SMS shall allow NPAC personnel to view all Subscription Versions associated with an LRN.
R4-24.3	Display of NPA-NXX and related subscription data
NPAC SMS shall allow NPAC personnel to view all Subscription Versions associated with an NPA-NXX.
4.1.3.2	System Functionality
The following specifies NPAC SMS functionality needed to support the user requests described above.
4.1.3.2.1	Service Provider Query
R4 25	Service Provider as Key for queries
NPAC SMS shall require the Service Provider ID and/or the Service Provider Name for queries regarding Service Provider data.
R4 26.1	Error message for unknown Service Provider during a query
NPAC SMS shall provide the request originator with a message indicating that there was no data in the NPAC SMS that matched the search keys for a Service Provider query, if no match was found.
R4 26.2	Results returned to Service Provider during a query
NPAC SMS shall return all Service Provider data associated with the Service Provider ID and/or Service Provider Name, as listed in Tables 3-2, 3-3, 3-4, and 3-5, if the Service Provider data matches the query criteria.  Service Providers are only allowed to query their own data.
R4 27	Service Provider Query Types
NPAC SMS shall receive the Service Provider ID, a request to view subscription data, and optionally the subscription data status types to be returned (e.g., active only, active or pending) for queries regarding subscription data for a specific Service Provider. 
R4 28	Service Provider Information Message during query
NPAC SMS shall provide the request originator with a message indicating that there was no data in NPAC SMS that matched the search keys, if NPAC SMS does not have subscription data as specified by the request originator.
4.1.3.2.2	Subscription List Query
R4 29	Service Provider subscription query options
NPAC SMS shall receive the attributes to be searched on for queries regarding Subscription Versions associated with the Service Provider. Allowable attributes are the following data elements from Table 3 6 Subscription Version Data Model:
•	Subscription Version ID
•	Subscription Version Status
•	Local Number Portability Type
•	Ported Telephone Number
•	Old facilities-based Service Provider Due Date
•	New facilities-based Service Provider Due Date
•	New facilities-based Service Provider ID
•	Authorization from old facilities-based Service Provider
•	Local Routing Number (LRN)
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC
•	WSMSC SSN
•	Billing Service Provider ID
•	End User Location Value
•	End User Location Type
•	Customer Disconnect Date
•	Effective Release Date
•	Disconnect Complete Time Stamp
•	Conflict Time Stamp
•	Activation Time Stamp
•	Cancellation Time Stamp (Status Modified to Cancel Time Stamp)
•	New Service Provider Creation Time Stamp
•	Old Service Provider Authorization Time Stamp
•	Pre-cancellation Status
•	Old Service Provider Cancellation Time Stamp
•	New Service Provider Cancellation Time Stamp
•	Old Time Stamp (Status Modified to Old Time Stamp)
•	New Service Provider Conflict Resolution Time Stamp
•	Create Time Stamp
•	Modify Time Stamp
•	Porting To Original
•	Status Change Cause Code
•	Timer Type
•	Business Hour Type
R4 30.1	Service Provider subscription query
NPAC SMS shall return all active Subscription Versions associated with the Service Provider which satisfy the selection criteria, up to a tunable parameter number of Subscription Versions for queries initiated via the NPAC SMS to Local SMS interface.
R4-30.2	NPAC SMS shall return all Subscription Versions
NPAC SMS shall return all Subscription Versions regardless of Subscription Version status for queries initiated via the NPAC SOA Low-tech Interface.
R4-30.6	Count of subscription information during a query
NPAC SMS shall return an “out of range” error and the count of subscription records returned by a query, if more than a tunable parameter number of Subscription Versions are found.
R4-30.8	Error Message for Service Provider subscription query
NPAC SMS shall provide the request originator with a message indicating that there was no data in NPAC SMS that matched the search keys, if NPAC SMS does not have Subscription Versions as specified by the request originator.
4.2	Additional Requirements
RN4-1	Service Provider Network Data Addition/Deletion
NPAC SMS shall allow Service Providers to add/delete the NPA-NXX and/or LRN data via the NPAC SMS to Local SMS interface and SOA to NPAC SMS interface provided the changes do not cause mass updates to the Subscription Versions.
RR4-1	Removal of Service Provider with Respect to LRNs
NPAC SMS shall allow removal of a Service Provider by NPAC personnel only if all associated LRNs are removed, and no Subscription Versions are associated with the LRN.
RR4-2	Removal of Service Provider with Respect to NPA-NXXs
NPAC SMS shall allow removal of a Service Provider by NPAC personnel only if all associated NPA-NXXs are removed, and no Subscription Versions are associated with the NPA-NXX.
RR4-3.1	Removal of NPA-NXX – Subscription Version Check
NPAC SMS shall allow removal of an NPA-NXX by NPAC personnel only if no Subscription Versions, except for Old without a Failed SP List or Canceled Subscription Versions, exist for the NPA-NXX.
RR4-3.2	Removal of NPA-NXX – NPA-NXX-X Check 
NPAC SMS shall allow the removal of an NPA-NXX by NPAC personnel only if Number Pooling NPA-NXX-X Information, does not exist for the NPA-NXX.
RR4-4.2.1	Removal of LRN – Subscription Version Check
NPAC SMS shall allow the removal of an LRN by NPAC personnel only if no Subscription Versions, except for Old without a Failed SP List or Canceled Subscription Versions, exist and use the LRN.
RR4-4.2.2	Removal of LRN – Block Check
NPAC SMS shall allow the removal of an LRN by NPAC personnel only if Number Pooling Block Information, except for Old with NO Failed SP List, do not exist and do not use the LRN.
RR4-5	Duplicate NPA-NXX Validation
NPAC SMS shall validate upon request to add an NPA-NXX for a service provider, that the NPA-NXX does not exist for any service provider in the region.
RR4-6	Duplicate NPA-NXX Validation – Error Processing
NPAC SMS shall upon finding that an NPA-NXX already exists for a service provider in a region, reject a request to add an NPA-NXX for a service provider and report an error to the user.
RR4-7	Duplicate LRN Validation
NPAC SMS shall validate upon request to add an LRN for a service provider, that the LRN does not exist for any service provider in the region.
RR4-8	Duplicate LRN Validation – Error Processing
NPAC SMS shall upon finding that an LRN already exists for a service provider in a region, reject a request to add an LRN for a service provider and report an error to the user.
 
5.	Subscription Management
5.1	Subscription Version Management
Subscription Management functions allow NPAC personnel and SOA to NPAC SMS interface users to specify data needed for ported numbers. The subscription data indicates how local number portability should operate to meet subscribers' needs. These functions will be accessible to authorized service providers via an interface (i.e., the SOA to NPAC SMS interface) from their operations systems to the NPAC SMS and will also be accessible to (and performed by) NPAC personnel.
Subscription Management supports functionality to manage multiple versions of subscription data. See Section 5.1.1, Subscription Version Management, for more details on the different states of a version.
RN5-1	Subscription Version Status - Only One Per Subscription
NPAC SMS shall allow only one pending, cancel pending, conflict, disconnect pending, failed or partial failure Subscription Version per subscription. 
RN5-2	Subscription Version Status - Only One Active Version
NPAC SMS shall allow only one active Subscription Version per subscription.
RN5-3	Subscription Version Status - Multiple Old/Canceled
NPAC SMS shall allow multiple old and/or canceled Subscription Versions per subscription.
5.1.1	Subscription Version Management
Subscription Version management provides functionality to manage multiple time sensitive views of subscription data. This section addresses version management for LNP and the user and system functionality needed for subscription administration. In this context a version may be defined as time sensitive subscription data.
At any given time, a Subscription Version in the SMS can have one of several statuses (e.g., active, old) and may change status depending on results of different SMS processes (e.g., modification, activation). This section describes the different statuses that a version can have and the SMS processes that can change the status. This section also discusses functionality and data that is needed for Subscription Management.
5.1.1.1	Version Status
 
Figure 5 1 -- Subscription Version Status Interaction Diagram
Subscription Version Status Interaction Descriptions
#	Interaction Name	Type	Description
1	Conflict to
Cancel	NPAC SMS Internal	NPAC SMS automatically sets a Subscription Version in conflict directly to canceled after it has been in conflict for a tunable number of calendar days.
		SOA to NPAC SMS Interface or NPAC SOA Low-tech or Administrative Interface 	The old Service Provider User (or NPAC personnel acting on behalf of the Service Provider) sends a cancellation request for a Subscription Version created by that Service Provider with a status of conflict that has not been concurred by the other new Service Provider.
2	Conflict to
Cancel Pending	NPAC SOA Low-tech or Administrative Interface 	User cancels a Subscription Version in conflict or cancels a Subscription Version that was created by or concurred to by both Service Providers.
		SOA to NPAC SMS Interface	User sends a cancellation request for a Subscription Version that was created by or concurred to by both Service Providers.
3	Cancel Pending to
Conflict	NPAC SOA Low-tech or Administrative Interface 	User sets a Subscription Version with a status of cancel pending to conflict.
		NPAC SMS Internal	NPAC SMS automatically sets a Subscription Version with a status of cancel pending to conflict if cancel pending acknowledgment has not been received from the new Service Provider within a tunable timeframe.
4	Conflict to
Pending	NPAC Administrative Interface – NPAC Personnel and SOA to NPAC SMS Interface or NPAC SOA Low-tech Interface – Old Service Provider	User removes a Subscription Version from conflict.
		SOA to NPAC SMS Interface or NPAC SOA Low-tech Interface - New Service Provider	New Service Provider User removes a Subscription Version from conflict.  This action can only occur if a tunable number of hours have elapsed since the Subscription Version was placed in conflict.
5	Pending to
Conflict	NPAC Administrative Interface – NPAC Personnel	1.	User sets a Subscription Version with a status of pending to conflict.
2.	User creates a Subscription Version for an existing pending Subscription Version for the old Service Provider and does not provide authorization for the transfer of service.

		SOA to NPAC SMS Interface or NPAC SOA Low-tech Interface – Old Service Provider	Old Service Provider sends a Subscription Version creation or modification request for a Subscription Version with a status of pending, which revokes the old Service Provider’s authorization for transfer of service.  This action can only be taken once, and must be taken a tunable number of hours prior to the new Service Provider due date.
6	Pending to
Cancel	NPAC Administrative Interface – NPAC Personnel	User cancels a Subscription Version with a status of pending that has not been concurred by both service providers.
		SOA to NPAC SMS Interface or NPAC SOA Low-tech Interface	Service Provider User sends a cancellation request for a Subscription Version created by that Service Provider with a status of pending that has not been concurred by the other Service Provider.
		NPAC SMS Internal	1.	NPAC SMS automatically sets a pending Subscription Version to cancel after authorization for the transfer of service has not been received from the new Service Provider within a tunable timeframe.
2.	NPAC SMS automatically sets a pending Subscription Version to cancel if an activation request is not received a tunable amount of time after new Service Provider due date.
7	Pending to
Cancel Pending	NPAC Administrative Interface - NPAC Personnel	User cancels a Subscription Version with a status of pending that has been created/concurred by both Service Providers.
		SOA to NPAC SMS Interface or NPAC SOA Low-tech Interface	Service Provider User sends a cancellation request for a Subscription Version with a status of pending that has been concurred by the other Service Provider.
8	Cancel Pending to Cancel
	NPAC SMS Internal	NPAC SMS automatically sets a cancel pending Subscription Version to canceled after receiving cancel pending acknowledgment from the concurring Service Provider, or the final cancellation concurrence window has expired without cancel concurrence from the old Service Provider.
9	Creation -
Set to Conflict	NPAC Administrative Interface – NPAC Personnel	User creates a Subscription Version for the old Service Provider and does not provide authorization for the transfer of service.
		SOA to NPAC SMS Interface and NPAC SOA Low-tech Interface – Old Service Provider	User sends an old Service Provider Subscription Version creation request and does not provide authorization for the transfer of service.
10	Creation -
Set to Pending	NPAC Administrative Interface – NPAC Personnel	User creates a Subscription Version for either the new or old Service Provider. If the create is for the old Service Provider and authorization for the transfer of service is not provided, refer to # 9, Creation - Set to Conflict, NPAC SOA Low-tech Interface.
		SOA to NPAC SMS Interface and NPAC SOA Low-tech Interface	User sends a Subscription Version creation request for either the new or old Service Provider. If the create is for the old Service Provider, and authorization for the transfer of service is not provided, refer to # 9, Creation - Set to Conflict, SOA to NPAC SMS LOW-TECH INTERFACE.
11	Disconnect Pending to Sending	NPAC SMS Internal	NPAC SMS automatically sets a deferred disconnect pending Subscription Version to sending after the effective release date is reached.
13	Pending to
Sending	NPAC Administrative Interface - NPAC Personnel	User activates a pending Subscription Version for a Subscription Version with a new Service Provider due date less than or equal to today.
		SOA to NPAC SMS Interface and NPAC SOA Low-tech Interface - New Service Provider	New Service Provider User sends an activation message for a pending Subscription Version for a Subscription Version with a new Service Provider due date less than or equal to today.
14	Sending to
Failed	NPAC SMS Internal	NPAC SMS automatically sets a Subscription Version from sending to failed after all Local SMSs fail Subscription Version activation after the tunable retry period expires.
15	Failed to
Sending	NPAC Administrative Interface – NPAC Personnel	User re-sends a failed Subscription Version.
16	Partially Failed to Sending	NPAC Administrative Interface – NPAC Personnel	User re-sends a partial failure Subscription Version.
17	Sending to
Partially Failed	NPAC SMS Internal	NPAC SMS automatically sets a Subscription Version from sending to partial failure after one or more, but not all, of the Local SMSs fail the Subscription Version activation after the tunable retry period expires.
18	Sending to
Old	NPAC SMS Internal	NPAC SMS automatically sets a sending Subscription Version to old after a disconnect or “porting to original” port to all Local SMSs successfully completes.  Disconnects that fail on one or more, but not all, Local SMSs will also be set to old.
19	Sending to
Active	NPAC SMS Internal	1.	NPAC SMS automatically sets a sending Subscription Version to active after the Subscription Version activation is successful in all of the Local SMSs.
2.	NPAC SMS automatically sets a sending Subscription Version to active after the Subscription Version modification is successfully broadcast to any of the Local SMSs after all have responded.
3.	NPAC SMS automatically sets a sending Subscription Version to active after a failure to all Local SMSs on a disconnect.

20	Active to
Sending	NPAC Administrative Interface – NPAC Personnel	User disconnects an active Subscription Version and does not supply an effective release date, User modifies an active Subscription Version or resends a failed disconnect or modify.
		SOA to NPAC SMS Interface to NPAC SOA Low-tech Interface - Current Service Provider	User sends a disconnect request for an active Subscription Version and does not supply an effective release date, or User modifies an active Subscription Version.
21	Active to
Old	NPAC SMS Internal	NPAC SMS automatically sets the currently active Subscription Version to old once a currently active subscription version is superseded by a pending subscription version, due to the fact that the current version is set to old when an activate occurs.  The new pending version is set to sending and then to active, partially failed, or old.  On a disconnect the sending state occurs before the old.
22	Disconnect Pending to Active	NPAC Administrative Interface – NPAC Personnel	User cancels a Subscription Version with a disconnect pending status.
		SOA to NPAC SMS Interface and NPAC SOA Low-tech Interface – New Service Provider	User sends a cancellation request for a disconnect pending Subscription Version.
23	Active to
Disconnect Pending	NPAC Administrative Interface - NPAC Personnel	User disconnects an active Subscription Version and supplies a future effective release date.
		SOA to NPAC SMS Interface and NPAC SOA Low-tech Interface- Current Service Provider	User sends a disconnect request for an active Subscription Version and supplies a future effective release date.
24	Old to Sending	NPA Operations Interface – NPAC Personnel	User re-sends a partial failure of a disconnect or partial failure or failure of a port-to-original Subscription Version.
25	Old to Old	NPAC SMS Internal	NPAC SMS automatically sets a Subscription Version from old to old after one or more previously failed Local SMSs successfully disconnect a Subscription Version, as a result of an audit or LSMS resync.  The Failed_SP_List is updated to reflect the updates to the previously failed SPs.
26	Partially Failed to Active	NPAC SMS Internal 	NPAC SMS automatically sets a Subscription Version from partial failure to active after all previously failed Local SMSs successfully activate a Subscription Version, as a result of an audit or LSMS resync.  The Failed_SP_List is updated to reflect the updates to the previously failed SPs.
27	Partially Failed to Partially Failed	NPAC SMS Internal 	NPAC SMS automatically sets a Subscription Version from partial failure to partial failure after one or more, but not all previously failed Local SMSs successfully activate a Subscription Version, as a result of an audit or LSMS resync.  The Failed_SP_List is updated to reflect the updates to the previously failed SPs.
Table 5 1 Subscription Version Status Interaction Descriptions
R5 1.1	Subscription Version Statuses
NPAC SMS Subscription Version instances shall at any given time have one of the following statuses:
•	Active   Version is currently active in the network.
NOTE:	There may be another pre- active version in the system that will eventually supersede this version.
Examples: 1) Pending version for the active subscription exists 2) Sending version for the active subscription exists.
•	Canceled   A pending or conflict version was canceled prior to activation in the network.
•	Cancel Pending - Version is awaiting cancellation acknowledgment from the concurring Service Providers, at which time the version will be set to canceled.
•	Conflict   Version is in conflict (i.e., a dispute exists between the two Service Providers), awaiting resolution.
•	Disconnect Pending - Version is awaiting the effective release date, at which time the version will be set to sending and the disconnect request will be sent to all Local SMSs.
•	Failed   Version failed activation in ALL of the Local SMSs in the network.
•	Old   Version was previously active in the network and either was superseded by another active version or was disconnected.
•	Partial Failure - Version failed activation in one or more, but not all, Local SMSs in the network.
•	Pending   Version is either pending activation (approval had been received from both Service Providers) or pending creation/approval from one or the other Service Provider.
•	Sending   Version is currently being sent to all of the Local SMSs in the network.
	
	R5-2.1	Old Subscription Retention - Tunable Parameter
	NPAC SMS shall provide an Old Subscription Retention tunable parameter which is defined as the length of time that old Subscription Versions shall be retained and accessible through a query request.
	R5-2.2	Old Subscription Retention - Tunable Parameter Modification
	NPAC SMS shall allow the NPAC SMS Administrator to modify the Old Subscription Retention tunable.
	R5-2.3	Old Subscription Retention - Tunable Parameter Default
	NPAC SMS shall default the Old Subscription Retention tunable parameter to 18 calendar months.
	R5-3.1	Cancel-Pending Subscription Retention - Tunable Parameter
	NPAC SMS shall provide a Cancel-Pending Subscription Retention tunable parameter which is defined as the length of time that canceled Subscription Versions with a pre-cancellation status of pending shall be retained and accessible through a query request.
	R5-3.2	Cancel-Pending Subscription Retention - Tunable Parameter Modification
	NPAC SMS shall allow the NPAC SMS Administrator to modify the Cancel-Pending Subscription Retention tunable parameter.
	R5-3.3	Cancel-Pending Subscription Retention - Tunable Parameter Default
	NPAC SMS shall default the Cancel-Pending Subscription Retention tunable parameter to 90 calendar days.
	R5-3.4	Cancel-Conflict Subscription Retention - Tunable Parameter
	NPAC SMS shall provide a Cancel-Conflict Subscription Retention tunable parameter which is defined as the length of time that canceled Subscription Versions with a pre-cancellation status of conflict shall be retained and accessible through a query request.
	R5-3.5	Cancel-Conflict Subscription Retention - Tunable Parameter Modification
	NPAC SMS shall allow the NPAC SMS Administrator to modify the Cancel-Conflict Subscription Retention tunable parameter.
	R5-3.6	Cancel-Conflict Subscription Retention - Tunable Parameter Default
	NPAC SMS shall default the Cancel-Conflict Subscription Retention tunable parameter to 30 calendar days.
	RR5-1.1	Pending Subscription Retention - Tunable Parameter
	NPAC SMS shall provide a Pending Subscription Retention tunable parameter, which is defined as the length of time that a pending Subscription Version shall remain in the system prior to cancellation.
	RR5-1.2	Pending Subscription Retention - Tunable Parameter Modification
	NPAC SMS shall allow the NPAC SMS Administrator to modify the Pending Subscription Retention tunable parameter.
	RR5-1.3	Pending Subscription Retention - Tunable Parameter Default
	NPAC SMS shall default the Pending Subscription Retention tunable parameter to 90 calendar days.
	RR5-1.4	Pending Subscription Retention - Tunable Parameter Expiration
	NPAC SMS shall cancel a Subscription Version by setting the subscription version to cancel after a pending Subscription Version has existed in the system for a Pending Subscription Retention number of calendar days subsequent to new Service Provider Due Date, or old Service Provider Due Date if the new Service Provider Due Date has not been received by the NPAC SMS.
	R5 5	Subscription Versions Creation for TN Ranges
	NPAC SMS shall create individual Subscription Versions when a Subscription Version creation request is received for a TN range.
	R5 6	Subscription Administration Transaction Logging
	NPAC SMS shall log all subscription administration transactions. The log entries shall include: 
•	Activity Type: create, modify, activate, query, all status types, and all acknowledgments.
•	Service Provider ID
•	Initial Version Status
•	New Version Status (if applicable)
•	User ID and/or Login 
•	Local Number Portability Type 
•	Date 
•	Time 
•	Ported Telephone Number
•	Status Flag   successful or failed
•	Subscription Version ID (when assigned)

5.1.2	Subscription Administration Requirements
5.1.2.1	User Functionality
Authorized users can invoke the following functionality in the NPAC SMS to administer subscription data:
R5 7	Creating a Subscription Version
NPAC SMS shall allow NPAC personnel and the SOA to NPAC SMS interface to create a Subscription Version.
RR5-55	Create Pending Provider Port – NPAC Personnel or Service Provider After Block Activation
NPAC SMS shall allow NPAC personnel, a Service Provider SOA via the SOA to NPAC SMS Interface, or Service Provider via the NPAC SOA Low-tech Interface, to create inter-service provider ports or intra-service provider ports for a TN within the 1K Block, when the currently active Subscription Version(s) is LNP Type POOL, and the Block’s status is active, with an empty Failed SP List.  (Previously SV-195)
R5 8.1	Modifying a Subscription Version
NPAC SMS shall allow NPAC personnel and the SOA to NPAC SMS interface to modify a Subscription Version.

R5 9	Activating a Subscription version
NPAC SMS shall allow NPAC personnel and the SOA to NPAC SMS interface to activate a Subscription Version.
R5 10.1	Setting a Subscription Version to Conflict
NPAC SMS shall allow NPAC personnel to set a Subscription Version to conflict.
R5-10.2	Subscription Version Conflict Status Rule
NPAC SMS shall prohibit a Subscription Version in conflict from being activated.
R5 11	Disconnecting a Subscription Version
NPAC SMS shall allow NPAC personnel and the SOA to NPAC SMS interface to disconnect a Subscription Version.
R5 12	Canceling a Subscription Version
NPAC SMS shall allow NPAC personnel and the SOA to NPAC SMS interface to cancel a Subscription Version.
R5 13	Querying a Subscription Version
NPAC SMS shall allow NPAC personnel, Local SMS/ SOA to NPAC SMS interface to query for a Subscription Version.
5.1.2.2	System Functionality
This section describes NPAC SMS functionality required to support NPAC personnel and SOA to NPAC SMS interface user requests defined in the above section.
Additionally, NPAC SMS functionality will perform operations which are not invoked by a direct user request. Some examples of this are: monitor a Subscription Version to determine whether the old and the new facilities based Service Providers have authorized the transfer of service for a ported number, issue appropriate notifications to Service Providers, and change the status of a Subscription Version based on tunable parameters.
5.1.2.2.1	Subscription Version Creation
This section provides the requirements for the Subscription Version Create functionality, which is executed upon the user requesting to create a Subscription Version.
RR5-3	Create Subscription Version - Notify NPA-NXX First Usage
NPAC SMS shall notify all accepting Local SMSs and SOAs of the NPA-NXX, effective date, and owning Service Provider when an NPA-NXX is being ported for the first time immediately after creation validation of a Subscription Version.
RR5-53	Create Subscription Version - Notify NPA-NXX First Usage of a New NPA-NXX involved in an NPA Split
NPAC SMS shall notify all accepting Local SMSs and SOAs of the NPA-NXX, effective date, and owning Service Provider when a new NPA-NXX involved in an NPA Split, is being ported for the first time, after the start of permissive dialing, immediately after creation validation of a Subscription Version.
5.1.2.2.1.1	Subscription Version Creation - Inter-Service Provider Ports
This section provides the Subscription Version Creation requirements for performing an Inter-Service Provider port of a TN.  There are two types of Inter-Service Provider ports: A port of a TN to a new Service Provider from the Old, or a “porting to original” port.  A “porting to original” port implies that all porting data will be removed from the Local SMSs and the TN will revert to the default routing, which ultimately results in the TN returning to the original “donor” Service Provider.
The primary differences in functionality between these two types of Inter-Service Provider ports is that for a “porting to original” port, the routing data is not supplied and upon activation, a delete request is broadcast to the Local SMSs instead of a create request.
Both port types of Inter-Service Provider ports require authorization for the transfer of service from the new Service Provider.
R5 14	Create Subscription Version - Old Service Provider Input Data
NPAC SMS shall accept the following data from the NPAC personnel or old Service Provider upon Subscription Version creation for an Inter-Service Provider port:
•	Local Number Portability Type  Port Type.
•	Ported Telephone Number(s)   this entry can be a single TN or a continuous range of TNs that identifies a subscription or a group of Subscription Versions that share the same attributes.
•	Due Date   date on which transfer of service from old facilities based Service Provider to new facilities based Service Provider is initially planned to occur.
•	New facilities based Service Provider ID   the identifier of the new facilities based Service Provider.
•	Old facilities based Service Provider ID   the identifier of the old facilities based Service Provider.
•	Authorization from old facilities based Service Provider   indication that the transfer of service is authorized by the ported from Service Provider.
•	Status Change Cause Code - indication of reason for denial of authorized by the Old Service Provider.
	R5 15.1	Create “Inter-Service Provider Port” Subscription Version - New Service Provider Input Data
	NPAC SMS shall require the following data from NPAC personnel or the new Service Provider upon Subscription Version creation for an Inter-Service Provider port when NOT “porting to original”:
•	Local Number Portability Type   Port Type.  This field must be set to “LSPP” for Inter-Service Provider ports.
•	Ported Telephone Number(s)   this entry can be a single TN or a continuous range of TNs that identifies a subscription or a group of Subscription Versions that share the same attributes.
•	Due Date   date on which transfer of service from old facilities based Service Provider to new facilities based Service Provider is initially planned to occur.
•	New Facilities based Service Provider ID   the identifier of the new facilities based Service Provider.
•	Old Facilities based Service Provider ID   the identifier of the old facilities based Service Provider.
•	Location Routing Number (LRN)   the identifier of the ported to switch.
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC (if supported by the Service Provider SOA)
•	WSMSC SSN (if supported by the Service Provider SOA)
•	Porting to Original - flag indicating whether or not this is a “porting to original” port.  This flag must be set to “FALSE” for this type of Inter-Service Provider port.
	R5-15.2	Create “porting to original” Subscription Version - New Service Provider Input Data
	NPAC SMS shall require the following data from NPAC personnel or the new Service Provider upon Subscription Version creation for an Inter-Service Provider “porting to original” port:
•	Local Number Portability Type   Port Type.  This field must be set to “LSPP” for “porting to original” ports.
•	Ported Telephone Number(s)   this entry can be a single TN or a continuous range of TNs that identifies a subscription or a group of Subscription Versions that share the same attributes.
•	Due Date   date on which transfer of service from old facilities based Service Provider to new facilities based Service Provider is initially planned to occur.
•	New Facilities based Service Provider ID   the identifier of the new facilities based Service Provider.
•	Old Facilities based Service Provider ID   the identifier of the old facilities based Service Provider.
•	Porting to original   flag indicating whether or not this is a “porting to original” port.  This flag must be set to “TRUE” for “porting to original” port.
	R5 16	Create Subscription Version - New Service Provider Optional input data
	NPAC SMS shall accept the following optional fields from NPAC personnel or the new Service Provider upon Subscription Version creation for an Inter-Service Provider port:
•	Billing Service Provider ID
•	End User Location   Value
•	End User Location   Type
	
	R5 18.1	Create Subscription Version - Field-level Data Validation
	NPAC SMS shall perform field-level data validations to ensure that the value formats for the following input data, if supplied, is valid according to the formats specified in Table 3-6 upon Subscription Version creation for an Inter-Service Provider port:
•	LNP Type
•	Ported TN(s)
•	Old Service Provider Due Date
•	New Service Provider Due Date
•	Old Service Provider ID
•	New Service Provider ID
•	Authorization from old facilities-based Service Provider
•	Status Change Cause Code
•	LRN
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC 
•	WSMSC SSN
•	Porting to Original
•	Billing Service Provider ID
•	End-User Location - Value
•	End-User Location - Type
R5-18.2	Create Subscription Version - Due Date Consistency Validation
NPAC SMS shall verify the old and new Service Provider due dates are the same upon initial Subscription Version creation for an Inter-Service Provider port.
R5-18.3	Create Subscription Version - Due Date Validation
NPAC SMS shall verify that the due date is the current or a future date upon Subscription Version creation for an Inter-Service Provider port.
R5-18.4	Create Subscription Version - Ported TN NPA-NXX Validation
NPAC SMS shall verify that the NPA-NXX to be ported exists as an NPA-NXX in the NPAC SMS system upon Subscription Version creation for an Inter-Service Provider port.
RR5-44	Create Subscription Version – Due Date Validation for NPA-NXX effective date
NPAC SMS shall verify that the due date is greater than, or equal to, the NPA-NXX effective date upon Subscription Version creation for an Inter-Service Provider Port.
R5-18.5	Create Subscription Version - Service Provider ID Validation
NPAC SMS shall verify that the old and new Service Provider IDs exist in the NPAC SMS system upon Subscription Version creation for an Inter-Service Provider port.
R5-18.6	Create Subscription Version - LRN Validation
NPAC SMS shall verify that an input LRN is associated with the new Service Provider in the NPAC SMS system upon Subscription Version creation for an Inter-Service Provider port.
R5-18.7	Create Subscription Version - Originating Service Provider Validation
NPAC SMS shall verify that the originating user is identified as the new or old Service Provider on the incoming Subscription Version upon Subscription Version creation for an Inter-Service Provider port.
R5-18.8	Create Subscription Version - Duplicate Authorization Validation
NPAC SMS shall verify that authorization for transfer of service for a given Service Provider does not already exist when a Service Provider creates a Subscription Version for an Inter-Service Provider port.
R5-18.9	Create Subscription Version - Service Provider ID Validation
NPAC SMS shall verify that the incoming New and Old Service Provider IDs match the IDs in the current pending version, if one exists, upon Subscription Version creation for an Inter-Service Provider port.
R5-18.10	Create Subscription Version - Status Change Cause Code Validation
NPAC SMS shall require and only allow the Status Change Cause Code to be set when the Old Service Provider authorization is set to false.
R5 19.1	Create Subscription Version - Old Service Provider ID Validation
NPAC SMS shall verify that the old Service Provider ID on the version being created is equal to the new Service Provider ID on the active Subscription Version, if an active version exists upon Subscription Version creation for an Inter-Service Provider port.
R5-19.2	Create Subscription Version - Old Service Provider ID Validation - No Active Subscription Version
NPAC SMS shall validate that the old Service Provider in the create message is the Service Provider to which the TN’s NPA-NXX is assigned (as stored in the NPAC SMS service provider data tables) if there is currently no active Subscription Version for the TN in the NPAC SMS.
	R5-19.3	Create Subscription Version – Timer Type Selection 
NPAC SMS shall if the old and new service provider timer types match set the subscription version timer type to that timer type.
R5-19.4	Create Subscription Version – Timer Type Selection - Mismatch
NPAC SMS shall if the old and new service provider timer types do not match set the subscription version timer type to the longer timer type of the port out type for the old service provider and the port in type of the new service provider.
R5-19.5	Create Subscription Version – Business Hours and Days Selection 
NPAC SMS shall if the old and new service provider business hours and days match set the subscription version business type to the business type for the business hours and days supported.
R5-19.6	Create Subscription Version – Business Hours and Days Selection - Mismatch
NPAC SMS shall if the old and new service provider business hours and days do not match set the subscription version business type to the shorter business hours and days.
R5 20.1	Create Subscription Version - Validation Failure Notification
NPAC SMS shall send an appropriate error message to the originating NPAC personnel or SOA to NPAC SMS interface user if any of the validations fail upon Subscription Version creation for an Inter-Service Provider port.
R5 20.2	Create Subscription Version - Validation Failure - No Update
NPAC SMS shall not apply the incoming data to an existing subscription if any of the validations fail upon Subscription Version creation for an Inter-Service Provider port.
R5 20.3	Create Subscription Version - Validation Failure - No Create
NPAC SMS shall not create a new Subscription Version, if a version does not exist, if any of the validations fail upon Subscription Version creation for an Inter-Service Provider port.
R5-20.4	Create Subscription Version - Validation Success - Update Existing
NPAC SMS shall apply the incoming data to an existing Subscription Version if all validations pass upon Subscription Version creation for an Inter-Service Provider or port.
R5-20.5	Create Subscription Version - Validation Success - Create New
NPAC SMS shall create a new Subscription Version, if a version does not already exist, if all validations pass at the time of Subscription Version creation for an Inter-Service Provider port.
R5 21.1	Initial Concurrence Window - Tunable Parameter
NPAC SMS shall provide long and short Initial Concurrence Window tunable parameters which are defined as the number of business hours subsequent to the time the Subscription Version was initially created by which both Service Providers can authorize transfer of service if this is an Inter-Service Provider port. 
R5-21.2	Initial Concurrence Window - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the long and short Initial Concurrence Window tunable parameters.
R5-21.3	Long Initial Concurrence Window - Tunable Parameter Default
NPAC SMS shall default the long Initial Concurrence Window tunable parameter to 9 business hours.
	R5-21.4	Short Initial Concurrence Window - Tunable Parameter Default
NPAC SMS shall default the short Initial Concurrence Window tunable parameter to 1 business hour.
R5-21.6	Create Subscription Version - Set to Pending
NPAC SMS shall set a Subscription Version to pending upon successful subscription creation and the Old Service Provider has authorized transfer of service if this is an Old Service Provider create request for an Inter-Service Provider port.
R5-21.7	Create Subscription Version - Notify User Success
NPAC SMS shall notify the old and new Service Providers when a Subscription Version is set to pending upon successful subscription creation for an Inter-Service Provider port. 
RR5-2.1	Create Subscription Version - Set to Conflict
NPAC SMS shall set a Subscription Version directly to conflict and set the cause code, if the Subscription Version passed validations, but this is a create request from the Old Service Provider and the Old Service Provider did not authorize transfer of service for an Inter-Service Provider port and specified a cause code.
RR5-2.2	Create Subscription Version - Set Conflict Timestamp
NPAC SMS shall set the conflict timestamp to the current time when a Subscription Version is set to conflict at the time of subscription version creation for an Inter-Service Provider port.
RR5-2.3	Create Subscription Version - Conflict Notification
NPAC SMS shall notify the Old and New Service Provider when a Subscription Version is set to conflict at the time of Subscription Version creation for an Inter-Service Provider or port.
RR5-2.4 	Cause Code in Conflict Notification - Creation
NPAC SMS shall include the cause code in the conflict notification to the Old and New Service Provider when the Old Service Provider did not authorize transfer of service for an Inter-Service Provider port on creation.
R5-22	Create Subscription Version - Initial Concurrence Window Tunable Parameter Expiration
NPAC SMS shall send a notification to the Service Provider (old or new) who has not yet authorized the transfer of service, when the Initial Concurrence Window tunable parameter for a pending Subscription Version has expired.
R5-23.1	Final Concurrence Window - Tunable Parameter
NPAC SMS shall provide long and short Final Concurrence Window tunable parameters which are defined as the number of business hours after the concurrence request is sent by the NPAC SMS by which time both Service Providers can authorize transfer of subscription service for an Inter-Service Provider port.
R5-23.2	Final Concurrence Window Tunable - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the long and short Final Concurrence Window tunable parameters.
R5-23.3	Long Final Concurrence Window Tunable - Tunable Parameter Default
NPAC SMS shall default the long Final Concurrence Window tunable parameter to 9 business hours.
	RR5-52	Short Final Concurrence Window Tunable - Tunable Parameter Default
NPAC SMS shall default the short Final Concurrence Window tunable parameter to 1 business hour.
R5 23.4	New Service Provider Fails to Authorize Transfer of Service
NPAC SMS shall set the Subscription Version status to cancel when the Final Concurrence Window tunable parameter expires and a new Service Provider has not sent authorization for the transfer of service.
RR5-56	Create Inter-Service Provider Port-to-Original Port – NPAC and SOA After NPA-NXX-X Creation
NPAC SMS shall reject an inter-service provider Subscription Version Create message where there is no active subscription version for the TN in the NPAC SMS, or inter-service provider Port-to-Original Subscription Version Create message for a TN within the 1K Block, from NPAC Personnel, a Service Provider SOA via the SOA to NPAC SMS Interface, or Service Provider via the NPAC SOA Low-tech Interface, after the Creation of the NPA-NXX-X, and prior to the existence of the Block in the NPAC SMS.  (Previously SV-180)
RR5-57	Create Inter-Service Provider Port-to-Original Subscription Version – After Block Activation
NPAC SMS shall validate that the New Service Provider is the Block Holder, in an inter-service provider port-to-original port for a TN within the 1K Block, once the Block exists in the NPAC SMS.  (Previously SV-190)
R5 23.5	Activation without Old Service Provider Authorization 
NPAC SMS shall allow a pending Subscription Version to be activated without an old Service Provider authorization for transfer of service.
R5-23.6	Activation without Old Service Provider Authorization - Time restriction 
NPAC SMS shall allow activation without Old Service Provider concurrence only after the final concurrence window timer has expired.
 RR5-23.3	Old Service Provider Final Concurrence Timer Expiration Notification
NPAC SMS shall upon expiration of the Final Concurrence Timer send a notification to the old service provider via the SOA to NPAC SMS interface to inform them of the timer expiration.
5.1.2.2.1.2	Subscription Version Creation - Intra-Service Provider Port
This section provides the Subscription Version Creation requirements for performing an Intra-Service Provider port of a TN. An Intra-Service Provider port of a TN is when a TN is ported to a new location within the current Service Provider network (i.e., the routing data is modified, but the Service Provider remains the same).  A “port to original” port for an Intra-Service Provider port should be handled by a requesting user via submission of a Disconnect request to the NPAC SMS.
RR5-4	Create “Intra-Service Provider Port” Subscription Version - Current Service Provider Input Data
NPAC SMS shall require the following data from the NPAC personnel or the Current (New) Service Provider at the time of Subscription Version Creation for an Intra-Service Provider port:
•	LNP Type - port type This field must be set to “LISP for Intra-Service Provider support”.
•	Ported Telephone Number(s) - this entry can be a single TN or a continuous range of TNs that identifies a subscription or group of Subscription Versions that share the same attributes.
•	Due Date - date on which Intra-Service Provider port is planned to occur.
•	New facilities-based Service Provider ID - current Service Provider within which the Intra-Service Provider port will occur.
•	Old facilities-based Service Provider ID - current Service Provider within which the Intra-Service Provider port will occur.
•	Location Routing Number (LRN) - identifier of the ported-to switch 
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC (if supported by the Service Provider SOA)
•	WSMSC SSN (if supported by the Service Provider SOA)
	RR5-5	Create “Intra-Service Provider Port” Subscription Version - Current Service Provider Optional Input Data
	NPAC SMS shall accept the following optional fields from the NPAC personnel or the Current Service Provider upon a Subscription Version Creation for an Intra-Service Provider port:
•	Billing Service Provider ID
•	End-User Location - Value
•	End-User Location - Type
	RR5-6.1	Create “Intra-Service Provider Port” Subscription Version - Field-level Data Validation
	NPAC SMS shall perform field-level data validations to ensure that the value formats for the following input data, if supplied, is valid according to the formats specified in Table 3-6 upon Subscription Version creation for an Intra-Service Provider port:
•	LNP Type
•	Ported TN(s)
•	Current Service Provider Due Date
•	Old Service Provider ID
•	New Service Provider ID
•	LRN
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC (if supported by the Service Provider SOA)
•	WSMSC SSN (if supported by the Service Provider SOA)
•	Billing Service Provider ID
•	End-User Location - Value
•	End-User Location - Type
RR5-6.2	Create “Intra-Service Provider Port” Subscription Version - New and Old Service Provider ID Match
NPAC SMS shall validate that the new and old Service Provider IDs are identical to the ID of the requesting user at the time of Subscription Version creation for an Intra-Service Provider port.
RR5-6.3	Create “Intra-Service Provider Port” Subscription Version - Due Date Validation
NPAC SMS shall verify that the input due date is the current or a future due date upon Subscription Version creation for an Intra-Service Provider port.
RR5-6.4	Create “Intra-Service Provider Port” Subscription Version - Ported TN NPA-NXX Validation
NPAC SMS shall verify that the NPA-NXX for the TN to be ported exists as an NPA-NXX in the NPAC SMS system upon Subscription Version creation for an Intra-Service Provider port.
RR5-45	Create “Intra-Service Provider Port” Subscription Version – Due Date Validation for NPA-NXX effective date
NPAC SMS shall verify that the due date is greater than, or equal to, the NPA-NXX effective date upon Subscription Version creation for an Intra-Service Provider port.
RR5-6.5	Create “Intra-Service Provider Port” Subscription Version - LRN Validation
NPAC SMS shall verify that the LRN is associated with the new Service Provider in the NPAC SMS system upon Subscription Version creation for an Intra-Service Provider port.
RR5-6.6	Create “Intra-Service Provider Port” Subscription Version - Duplicate Authorization Validation
NPAC SMS shall verify that the authorization for transfer of service for a given Service Provider does not already exist when a Service Provider creates a Subscription Version for an Intra-Service Provider port.
RR5-6.7	Create “Intra-Service Provider Port” Subscription Version - Old Service Provider ID Validation
NPAC SMS shall verify that the old Service Provider ID on the version being created is equal to the new Service Provider ID on the active Subscription Version, if an active version exists, upon Subscription Version creation for an Intra-Service Provider port.
RR5-6.8	Create “Intra-Service Provider Port” Subscription Version - No Active Version
NPAC SMS shall allow an Intra-Service Provider port to occur for a telephone number not associated with a current active version.
RR5-6.9	Create “Intra-Service Provider Port” Subscription Version - Old Service 			Provider ID Validation - No Active Subscription Version
NPAC SMS shall validate that the old Service Provider in the create message is the Service Provider to which the TN’s NPA-NXX is assigned (as stored in the NPAC SMS service provider data tables) if there is currently no active Subscription Version for the TN in the NPAC SMS.
RR5-7.1	Create “Intra-Service Provider Port” Subscription Version - Validation Failure Notification
NPAC SMS shall send an appropriate error message to the originating NPAC personnel or SOA to NPAC SMS Interface if any of the validations fail at the time of Subscription Version creation for an Intra-Service Provider port.
RR5-7.2	Create “Intra-Service Provider Port” Subscription version - Validation Failure - No Create
NPAC SMS shall not create a new Subscription Version if any of the validations fail at the time of Subscription Version creation for an Intra-Service Provider port.
RR5-8	Create “Intra-Service Provider Port” Subscription version - Set to Pending
NPAC SMS shall set a Subscription Version to pending upon successful creation of a Subscription Version for an Intra-Service Provider port.
RR5-9	Create “Intra-Service Provider Port” Subscription version - Notify User of Creation
NPAC SMS shall notify the current Service Provider when a Subscription Version is set to pending upon a successful creation of a Subscription Version for an Intra-Service Provider port.
RR5-58	Create Intra-Service Provider Port – NPAC Personnel After NPA-NXX-X Creation
NPAC SMS shall allow NPAC personnel to create intra-service provider ports for a TN within the 1K Block, after the Creation of the NPA-NXX-X and up to the NPA-NXX-X's Effective Date, only where the new/old Service Provider is the Code Holder SPID, and a previously active SV does NOT exist in the NPAC SMS.  (Previously SV-160)
RR5-59	Create Intra-Service Provider Port – SOA After NPA-NXX-X Creation
NPAC SMS shall reject an intra-service provider Subscription Version Create message for a TN within the 1K Block, from a Service Provider SOA via the SOA to NPAC SMS Interface, or Service Provider via the NPAC SOA Low-tech Interface, after the Creation of the NPA-NXX-X Holder Information, and a previously active SV does NOT exist in the NPAC SMS.  (Previously SV-170)

5.1.2.2.2	Subscription Version Modification
This section provides the requirements for the Subscription Version Modification functionality, which is executed upon the user requesting modify Subscription Version.
5.1.2.2.2.1	Modification of a Pending or Conflict Subscription Version

R5 25	Modify Subscription Version - Invalid Version Status Notification
NPAC SMS shall return an error to the originating NPAC personnel or SOA to NPAC SMS interface user if the version status is sending, failed, partial failure, canceled, cancel pending, old or disconnect pending upon Subscription Version modification.
R5 26	Modify Subscription Version - Version Identification
NPAC SMS shall receive the following data from the originating NPAC personnel or SOA to NPAC SMS interface user to identify a pending or conflict Subscription Version to be modified:
Ported Telephone Number (or a specified range of numbers) and status
or
Subscription Version ID
R5 27.1	Modify Subscription Version - New Service Provider Data Values
NPAC SMS shall allow the following data to be modified in a pending or conflict Subscription Version for an Inter-Service Provider or Intra-Service Provider port by the new/current Service Provider or NPAC personnel:
•	Location Routing Number (LRN)   the identifier of the ported to switch.
•	Due Date   date on which transfer of service from old facilities based Service Provider to new facilities-based Service Provider is planned to occur.
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC (if supported by the Service Provider SOA)
•	WSMSC SSN (if supported by the Service Provider SOA)
	R5-27.2	Modify “porting to original” Subscription Version - New Service Provider Data Values
	NPAC SMS shall allow the following data to be modified in a pending, or conflict Subscription Version for a “porting to original” port by the new Service Provider or NPAC personnel:
•	Due Date - New Service Provider date on which “port to original” is planned to occur.
	R5 27.3	Modify Subscription Version - Old Service Provider Data Values
	NPAC SMS shall allow the following data to be modified in a pending or conflict Subscription Version for an Inter-Service Provider port by the old Service Provider or NPAC personnel:
•	Due Date   date on which transfer of service from old facilities based Service Provider to new Service Provider is planned to occur.
•	Old Service Provider Authorization
•	Status Change Cause Code
	R5-27.4	Old Service Provider authorization Flag Modification to False 
	NPAC SMS shall allow the old Service Provider to modify the old Service Provider authorization flag to false and set the cause code.  As a result the NPAC SMS will set the Subscription Version status to conflict provided the version has not previously been set into conflict by the Old Service Provider for reasons other than cancellation.
	R5 28	Modify Subscription Version - New Service Provider Optional input data.
	NPAC SMS shall accept the following optional fields from the NPAC personnel or the new Service Provider upon modification of a pending or conflict Subscription version:
•	Billing Service Provider ID
•	End User Location   Value
•	End User Location   Type
	R5 29.1	Modify Subscription Version - Field-level Data Validation
	NPAC SMS shall perform field-level data validations to ensure that the value formats for the following input data, if supplied, is valid according to the formats specified in Table 3-6 upon Subscription Version modification.
•	LNP Type
•	Ported TN(s)
•	Old Service Provider Due Date
•	New Service Provider Due Date
•	Old Service Provider Authorization
•	Status Change Cause Code
•	Old Service Provider ID
•	New Service Provider ID
•	LRN
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC
•	WSMSC SSN
•	Billing Service Provider ID
•	End-User Location - Value
•	End-User Location - Type
R5-29.2	Modify Subscription Version - Due Date Validation
NPAC SMS shall verify that an input due date is the current or future date upon Subscription Version modification.
RR5-54	Modify Subscription Version - Due Date Validation for NPA-NXX Effective Date
NPAC SMS shall allow a request to modify the due date of a Subscription Version, when the new value is equal to, or greater than, the corresponding NPA-NXX effective date.
R5-29.3	Modify Subscription Version - LRN Validation
NPAC SMS shall verify that an input LRN is associated with the new Service Provider in the NPAC SMS system upon Subscription Version modification.
R5-29.4	Modify Subscription Version - Originating Service Provider Validation
NPAC SMS shall verify that the originating user is identified as the new or old Service Provider on the current Subscription Version, if one exists, upon Subscription Version modification.
R5-29.5	Modify Subscription Version - Status Change Cause Code Validation
NPAC SMS shall require and only allow the Status Change Cause Code to be set when the Old Service Provider authorization is set to false.
R5 30.1	Modify Subscription Version - Validation Failure Notification
NPAC SMS shall send an error message to the originating user if the modified pending or conflict Subscription Version fails validations.
R5-30.2	Modify Subscription Version - Validation Error Processing
NPAC SMS shall leave the original version intact upon validation failure of a modified pending or conflict Subscription Version.
R5 31.3	Modify Subscription Version - Successful Modification Notification
NPAC SMS shall send an appropriate message to the old and new Service Providers upon successful modification of a Subscription Version.
RR5-10.1	Modify Subscription Version - Set Conflict Timestamp
NPAC SMS shall set the conflict timestamp to the current time when a Subscription Version is set to conflict upon Subscription Version modification.
RR5-10.2	Modify Subscription Version - Conflict Notification
NPAC SMS shall notify the Old and New Service Provider when a Subscription Version is set to conflict upon Subscription Version modification.
RR5-10.3 Modify Subscription Version - Cause Code in Notification
NPAC SMS shall include the cause code for conflict in the conflict notification to the Old and New Service Provider when a Subscription Version is set to conflict upon Subscription Version modification.
5.1.2.2.2.2	Modification of an Active Subscription Version

RR5-11	Modify Active Subscription Version - Service Provider Owned
NPAC SMS shall allow only NPAC personnel and the current Service Provider to modify their own active Subscription Versions.
R5 35	Modify Active Subscription Version - Version Identification
NPAC SMS shall require the following data from NPAC personnel or SOA to NPAC SMS interface users to identify the active Subscription Version to be modified:
Ported Telephone Numbers (or a specified range of numbers) and status of Active
or
Subscription Version ID
R5 36	Modify Active Subscription Version - Input Data
NPAC SMS shall allow the following data to be modified for an active Subscription Version:
•	Location Routing Number (LRN)   the identifier of the ported to switch
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC (if supported by the Service Provider SOA)
•	WSMSC SSN (if supported by the Service Provider SOA)
	R5 37	Active Subscription Version - New Service Provider Optional input data.
	NPAC SMS shall accept the following optional fields from the new Service Provider or NPAC personnel for an active Subscription Version to be modified:
•	Billing Service Provider ID
•	End User Location   Value
•	End User Location   Type
	R5 38.1	Modify Active Subscription Version - Field-level Data Validation
	NPAC SMS shall perform field-level data validations to ensure that the value formats for the following input data, if supplied, is valid according to the formats specified in Table 3-6 upon Subscription Version modification of an active version:
•	LRN
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC (if supported by the Service Provider SOA)
•	WSMSC SSN (if supported by the Service Provider SOA)
•	Billing Service Provider ID
•	End-User Location - Value
•	End-User Location - Type
R5-38.2	Modify Active Subscription Version - LRN Validation
NPAC SMS shall verify that an input LRN is associated with the new Service Provider in the NPAC SMS system upon Subscription Version modification of an active version.
R5 39.1	Modify Active Subscription Version - Validation Failure Notification
NPAC SMS shall send an appropriate error message to the originating user if the modified active Subscription Version fails validations. 
R5-39.2	Modify Active Subscription Version - Validation Error Processing
NPAC SMS shall leave the original version intact upon validation failure of a modified active Subscription Version.
	RR5-46	Modify Active Subscription Version- Creation of Old Subscription Version
	NPAC SMS shall create an old Subscription Version with a new version id for an active Subscription Version prior to modification.
	RR5-47	Modify Active Subscription Version- Old Subscription Version No Broadcast
	NPAC SMS shall broadcast no data to the Local SMSs due to the creation of an old Subscription Version with a new version id for an active Subscription Version prior to modification.
R5 40.1	Modify Active Subscription Version - Broadcast Date/Time Stamp
NPAC SMS shall record the current date and time as the broadcast date and time stamp upon initiation of broadcasting of the modified active Subscription Version.
R5-40.3	Modify Active Subscription Version - Modification Success User Notification
NPAC SMS shall notify the originating user indicating successful modification of an active Subscription Version.
R5-40.4	Modify Active Subscription Version - Broadcast complete Time Stamp
NPAC SMS shall record the current date and time as the Broadcast Complete Date and Time Stamp, after one Local SMS has successfully acknowledged modifying the new Subscription Version.
R5 41	Activation Of A Modified Subscription Version
NPAC SMS shall proceed with the broadcast modified active subscription process upon successful modification of an active Subscription Version.
RR5-41.1	Broadcast Modified Active Subscription - Local SMS Identification
NPAC SMS shall determine which Local SMSs to send the Subscription Version to by identifying all Local SMSs that are accepting Subscription version data downloads for the given NPA-NXX.
RR5-41.2	Broadcast Modified Active Subscription - Send to Local SMSs
NPAC SMS shall send the modified Subscription version via the NPAC SMS to Local SMS Interface to the Local SMSs 
RR5-41.3	Broadcast Modified Active Subscription - Set to Sending
NPAC SMS shall set the Subscription Version status to sending upon sending the Subscription version to the Local SMSs.
RR5-41.4	Modify Active Subscription Version - Return Status
NPAC SMS shall upon completion of the broadcast (failed or successful) return the status of the modified active subscription to its previous state.
RR5 41.5	Modify Active Subscription Activation Retry Attempts - Tunable Parameter
NPAC SMS shall use the Subscription Modification Retry Attempts tunable parameter which defines the number of times a new Subscription Version will be sent to a Local SMS which has not acknowledged receipt of the modify request.
RR5-41.6	Modify Active Subscription Activation Retry Interval - Tunable Parameter
NPAC SMS shall use the Subscription Modification Retry Interval tunable parameter, which defines the delay between sending new Subscription Versions to a Local SMS that has not acknowledged receipt of the modify request.
RR5-41.7	Modify Active Subscription Version Failure Retry
NPAC SMS shall resend the modified Subscription Version a Subscription Modification Retry Attempts tunable parameter number of times to a Local SMS that has not acknowledged the receipt of the modification request once the Subscription Activation Retry Interval tunable parameter expires. 
RR5-41.8	Modify Active Subscription Version Failure - Status Sending
NPAC SMS shall retain the status for the Subscription Version being modified as sending until the earlier of the Subscription Version retry period has expired for all Local SMSs, or until all Local SMSs have acknowledged the modification.
RR5-41.9	Modify Active Subscription Version Failure - Local SMS Identification
NPAC SMS shall notify the NPAC SMS Administrator of all Local SMSs where a modify has failed, once each Local SMS has successfully responded or failed to respond during the modification retry period.
RR5-41.10	Subscription Version Activation - Resend to Failed Local SMSs
NPAC SMS shall provide NPAC SMS personnel with the functionality to re-send modify active Subscription Version requests to all failed Local SMSs.
RR5-41.11	Modify Active Subscription Version - Failed Local SMS Notification Current Service Provider
NPAC SMS shall send a list to the Current Service Provider of all Local SMSs that failed modification when a Subscription Version modify active fails.
5.1.2.2.3	Subscription Version Conflict
This section provides the requirements for the functionality to place a Subscription Version in to conflict and remove it from conflict.
NOTE:	An old Service Provider can place a subscription version in conflict by setting the authorization flag to “False”, as noted in requirement R5-27.4
5.1.2.2.3.1	Placing a Subscription Version in Conflict
R5 42	Conflict Subscription Version - Version Identification
NPAC SMS shall require the following data from NPAC personnel to identify the Subscription Version to be placed in conflict: 
Ported Telephone Number
or
Subscription Version ID
R5 43.1	Conflict Subscription Version - Invalid Status Notification
NPAC SMS shall send an error message to the NPAC personnel or old Service Provider if the version status is not pending or cancel pending upon attempting to set the Subscription Version to conflict.
R5-43.2	Conflict Subscription Version - No Cause Code Notification
NPAC SMS shall send an error message to the SOA if the cause code is not specified upon setting the Subscription Version to conflict.
RR5 42.1	Conflict Subscription Version - Old Service Provider Number Restriction
NPAC SMS shall only allow a subscription version to be placed into conflict by the Old Service provider one time.
RR5 42.2	Conflict Subscription Version - Conflict Restriction Window
NPAC SMS shall provide a Conflict Restriction Tunable which is defined as the time on the business day prior to the New Service Provider due date that a pending Subscription Version can no longer be placed into conflict state by the old Service Provider.
RR5 50	Conflict Subscription Version - Conflict Restriction Window- Old Service Provider
NPAC SMS shall provide a Conflict Restriction Window that restricts an Old Service Provider from putting a Subscription Version into Conflict.
RR5-51	Conflict Subscription Version – Conflict Restriction Rules for Old Service Provider
NPAC SMS shall restrict a Subscription Version from being placed into Conflict by the Old Service Provider, when the Conflict Restriction Window Tunable Time is reached AND the Final Concurrence Timer (T2) has expired.
AR5-2	Conflict Restriction Window Tunable due date value
The date used for the Conflict Restriction Window Tunable calculation relies on the date value specified in the New Service Provider due date.
RR5 42.3	Conflict Subscription Version - Conflict Restriction Window Tunable
NPAC SMS shall allow the NPAC SMS Administrator to modify the Conflict Restriction Window Tunable parameter.
RR5 42.4	Conflict Subscription Version - Conflict Restriction Window Tunable Default
NPAC SMS shall default the Conflict Restriction Window Tunable parameter to 12 noon.
	RR5 42.5	Conflict Subscription Version – Short Timer Usage
NPAC SMS shall not apply the Conflict Restriction Window Tunable to subscription versions being ported using short timers.
R5 44.1	Conflict Subscription Version - Set Status to Conflict
NPAC SMS shall, upon placing a Subscription Version into conflict, set the version status to conflict.
R5-44.2	Conflict Subscription Version - Set Conflict Date and Time
NPAC SMS shall, upon placing a Subscription Version into conflict, record the current date and time as the conflict date and time stamp.
R5-44.3	Conflict Subscription Version - Successful Completion Message
NPAC SMS shall issue an appropriate message to the originating user and the Old and New Service Providers indicating successful completion of the process to place a subscription in conflict.
R5 45.1	Conflict Expiration Window - Tunable Parameter
NPAC SMS shall provide a Conflict Expiration Window tunable parameter which is defined as a number of calendar days a Subscription Version will remain in conflict prior to cancellation.
R5-45.2	Conflict Expiration Window - Tunable Parameter Default
NPAC SMS shall default the Conflict Expiration Window tunable parameter to 30 calendar days.
R5-45.3	Conflict Expiration Window - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administration to modify the Conflict Expiration Window tunable parameter.
R5-45.4	Conflict Subscription Version - Set to Cancel
NPAC SMS shall set the status of the Subscription Version to cancel after a Subscription Version has been in conflict for a Conflict Expiration Window tunable parameter number of calendar days.
R5-45.5	Conflict Subscription Version - Set Cancellation Date Timestamp
NPAC SMS shall set a Subscription Version cancellation date timestamp to the current time upon setting a conflict Subscription Version to cancel.
R5-45.6	Conflict Subscription Version - Inform Service Providers of Cancel Status
NPAC SMS shall notify both Service Providers after a Subscription Version status is set to cancel from conflict.
5.1.2.2.3.2	Removing a Subscription Version from Conflict
R5 46	Conflict Resolution Subscription Version - Version Identification
NPAC SMS shall require the following data from the NPAC personnel user, new, or old Service Provider to identify the Subscription Version to be set from conflict to pending: 
Ported Telephone Number
or
Subscription Version ID
R5 47	Conflict Resolution Subscription Version - Invalid Status Notification
NPAC SMS shall send an error message to the originating user if the Subscription Version status is not in conflict upon attempting to set the Subscription Version to pending.
R5 50.1	Conflict Resolution Subscription Version - Set Status
NPAC SMS shall set the version status to pending if the Subscription Version is in conflict upon a request from NPAC personnel, new, or old service providers to set a Subscription Version to pending.
R5-50.2	Conflict Resolution Subscription Version - Status Message
NPAC SMS shall send an appropriate message to the originating user indicating successful completion of the process to set a subscription to pending.
RR5-12.1	Conflict Resolution Subscription Version - Inform Both Service Providers of Pending Status
NPAC SMS shall inform both Service Providers when the status of a Subscription Version is set to pending for an Inter-Service Provider port.
RR5 12.3	Conflict Resolution New Service Provider Restriction Tunable Parameter
NPAC SMS shall provide long and short Conflict Resolution New Service Provider Restriction tunable parameters which are defined as a number of business hours after the subscription version is put into conflict that the NPAC SMS will prevent it from being removed from conflict by the New Service Provider.
RR5-12.4	Long Conflict Resolution New Service Provider Restriction - Tunable Parameter Default
NPAC SMS shall default the long Conflict Resolution New Service Provider Restriction tunable parameter to 6 business hours.
RR5-12.5	Conflict Resolution New Service Provider Restriction Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administration to modify the long and short Conflict Resolution New Service Provider Restriction tunable parameters.
	RR5-12.6	Short Conflict Resolution New Service Provider Restriction - Tunable Parameter Default
NPAC SMS shall default the short Conflict Resolution New Service Provider Restriction tunable parameter to 6 business hours.
RR5-14 	Conflict Resolution Acknowledgment - Update Conflict Resolution Date and Time Stamp
NPAC SMS shall update the conflict resolution date and time stamp with the current date and time and set the old Service Provider Authorization flag to true when conflict is resolved.
5.1.2.2.4	Subscription Version Activation
This section provides the requirements for the Subscription Version Activation functionality, which is executed upon the NPAC personnel or SOA to NPAC SMS interface user requesting to activate a Subscription Version.  Requirements related to activation are contained in requirement R5-23.
R5 51.1	Activate Subscription Version - Version Identification
NPAC SMS shall require the following data from the NPAC personnel or new service provider to identify the Subscription Version to be activated:
Ported Telephone Number
or
Subscription Version ID
R5-51.2	Activate Subscription Version - Broadcast Complete Date and Time Stamp
NPAC SMS shall record the current date and time as the Activation Broadcast Complete Date and Time Stamp, as soon as one Local SMS has successfully acknowledged activating the new Subscription Version.
RR5-21	Activate “porting to original” Subscription Version
NPAC SMS shall proceed with the “immediate” disconnect processing when a “porting to original” Subscription Version is activated.
RR5-22	Activate Subscription Version - Set Activation Received Timestamp
NPAC SMS shall set the Activation Received timestamp to the current date and time upon receiving a Subscription Version activation request.
R5 52	Activate Subscription Version - Invalid Status Notification
NPAC SMS shall send an error message to the originating user if the version status is not pending upon Subscription Version activation.
R5-53.1	Activate Subscription Version - Validation
NPAC SMS shall verify that a Subscription Version is in a valid pending state by checking that a new Service Provider time stamp exists and that the effective date of the NPA-NXX has been reached.
R5-53.2	Activate Subscription Version Validation Error Message
NPAC SMS shall send an error message to the originating user if the Subscription validation fails.
R5-53.3	Activate Subscription Version - Validate Due Date
NPAC SMS shall verify that a pending Subscription Version is eligible for activation by ensuring that the new Service Provider due date is less than or equal to the current date.
R5 55	Activate Subscription Version - Local SMS Identification
NPAC SMS shall determine which Local SMSs to send the Subscription Version to by identifying all Local SMS that are accepting Subscription Version data downloads for the given NPA-NXX.
R5 57.1	Activate Subscription Version - Send to Local SMSs
NPAC SMS shall send the activated Subscription Version for an activated Inter or Intra-Service Provider port via the NPAC SMS to Local SMS Interface to the Local SMSs.
R5 57.2	Activate Subscription Version - Set to Sending
NPAC SMS shall set the subscription status to sending upon sending the activated Subscription Version to the Local SMSs.
R5 57.3	Activate Subscription Version - Date and Time Stamp
NPAC SMS shall record the current date and time as the broadcast date and time stamp upon initiating sending the activated subscription to the Local SMSs.
R5 58.1	Local SMS Activation message logging
NPAC SMS shall log the activation responses resulting from the activation requests sent to the Local SMSs.
R5-58.2	Local SMS Activation Log Retention Period - Tunable Parameter
NPAC SMS shall provide a Local SMS Activation Log Retention Period tunable parameter which is defined as the number of calendar days Local SMS activation responses will remain in the log.
R5-58.3	Local SMS Activation Log Retention Period - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the Local SMS Activation Log Retention Period tunable parameter.
R5-58.4	Local SMS Activation Log Retention Period - Tunable Parameter Default
NPAC SMS shall default the Local SMS Activation Log Retention Period tunable parameter to 90 calendar days.
R5-58.5	Local SMS Activation Message Log - Viewing
NPAC SMS shall allow NPAC personnel to view the Local SMS Activation Message log.
R5 59.1	Activate Subscription Version - Set Status of Current to Active
NPAC SMS shall, upon receiving successful activation acknowledgment from all involved Local SMSs, set the sending Subscription Version status to active.
R5 59.2	Activate Subscription Version - Set Status of Previous to Old
NPAC SMS shall upon receiving successful activation acknowledgment from any involved Local SMSs, set the previous active Subscription Version status to old.
R5 60.1	Subscription Activation Retry Attempts - Tunable Parameter
NPAC SMS shall provide a Subscription Activation Retry Attempts tunable parameter which defines the number of times a new Subscription Version will be sent to a Local SMS which has not acknowledged receipt of the activation request.
R5-60.2	Subscription Activation Retry Interval - Tunable Parameter
NPAC SMS shall provide a Subscription Activation Retry Interval tunable parameter, which defines the delay between sending new Subscription Versions to a Local SMS that has not acknowledged receipt of the activation request.
R5-60.3	Subscription Activation Retry Attempts - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the Subscription Activation Retry Attempts tunable parameter.
R5-60.4	Subscription Activation Retry Interval - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the Subscription Activation Retry Interval tunable parameter.
R5-60.5	Subscription Activation Retry Attempts - Tunable Parameter Default
NPAC SMS shall default the Subscription Activation Retry Attempts tunable parameter to 3 times.
R5-60.6	Subscription Activation Retry Interval - Tunable Parameter Default
NPAC SMS shall default the Subscription Activation Retry Interval tunable parameter to 2 minutes.
R5-60.7	Subscription Version Activation Failure Retry
NPAC SMS shall resend the activated Subscription Version a Subscription Activation Retry Attempts tunable parameter number of times to a Local SMS that has not acknowledged the receipt of the activation request once the Subscription Activation Retry Interval tunable parameter expires. 
R5-60.8	Subscription Version Activation Failure - After Retries
NPAC SMS shall consider the Subscription Version activation for a given Local SMS failed once the applicable Activation Retry tunable parameter number of retries has been exhausted for that Local SMS.
R5-60.9	Subscription Version Activation Failure - Status Sending
NPAC SMS shall retain the status for the Subscription Version being activated as sending until the Subscription Version retry period expires for all Local SMSs, or until all Local SMSs have acknowledged the activation.
R5-60.10	Subscription Version Activation Failure - Local SMS Identification
NPAC SMS shall notify the NPAC SMS Administrator of all Local SMSs where new activation failed, once each Local SMS has successfully responded or failed to respond during the activation retry period.
R5-60.11	Subscription Version Activation Failure - Set Status to Partial Failure
NPAC SMS shall set the Subscription Version status to partial failure if the activation resulting from an subscription version activation request failed in one or more, but not all, of the Local SMSs.
R5-60.12	Subscription Version Partial Activation Failure - Set Status of Previous to Old
NPAC SMS shall set the status of a previous active version to old when a Subscription Version activation succeeds for at least one of the Local SMSs.
R5 61.1	Subscription Version Activation - Set Status to Failure
NPAC SMS shall set the status of the Subscription Version to failed if the Subscription Version fails activation resulting from an subscription version activation request in all the Local SMSs to which it was sent.
R5-61.2	Subscription Version Activation Subscription Version - Failure Notification
NPAC SMS shall notify the NPAC System Administrator when a Subscription Version fails activation at all of the Local SMSs.
R5-61.3	Subscription Version Activation - Resend to Failed Local SMSs
NPAC SMS shall provide NPAC SMS personnel with the functionality to re-send activate Subscription Version requests to all failed Local SMSs.
RR5-22.1	Subscription Version Activation - Failed Local SMS Notification - Both Service Providers
NPAC SMS shall send a list to the Old and New Service Providers of all Local SMSs that failed activation when a Subscription Version is set to failed or partial failure subsequent to Subscription Version activation for an Inter-Service Provider port.
RR5-22.2	Subscription Version Activation - Failed Local SMS Notification - Current Service Provider
NPAC SMS shall send a list to the current Service Provider of all Local SMSs that failed activation when a Subscription Version is set to failed or partial failure subsequent to Subscription Version activation for an Intra-Service Provider port.
RR5-60	Activate Intra-Service Provider Port – After NPA-NXX-X Creation and Prior to the Existence of the Block
NPAC SMS shall allow NPAC personnel, a Service Provider SOA via the SOA to NPAC SMS Interface, or Service Provider via the NPAC SOA Low-tech Interface, to activate intra-service provider ports for a TN within the 1K Block, where there is no active Subscription Version in the NPAC SMS.  (Previously SV-200)
RR5-61	Activate Port-to-Original Subscription Version – Broadcast of Subscription Data Creation
The NPAC SMS shall broadcast a new Subscription Version Create to a non-EDR Local SMS, upon activating a port-to-original Subscription Version, where the TN is within the range of a 1K Block, once the Block exists in the NPAC SMS.  (Previously SV-210)
RR5-62	Activate Port-to-Original Subscription Version – Broadcast of Subscription Data Deletion
The NPAC SMS shall broadcast a Subscription Version Delete to an EDR Local SMS, upon activating a port-to-original Subscription Version, where the TN is within the range of a 1K Block, once the Block exists in the NPAC SMS.  (Previously SV-220)

5.1.2.2.5	Subscription Version Disconnect
This section provides the requirements for the Subscription Version Disconnect functionality, which is executed upon the NPAC personnel or SOA to NPAC SMS interface user requesting to have a Subscription Version disconnected.
R5 62	Disconnect Subscription Version - Version Identification
NPAC SMS shall receive the following data from the NPAC personnel or current Service Provider to identify an active Subscription Version to be disconnected:
Ported Telephone Numbers (or a specified range of numbers)
or
Subscription Version ID
RR5-23.1	Disconnect Subscription Version - Required Input Data
NPAC SMS shall require the following input data upon a Subscription Version disconnect:
•	Customer Disconnect Date - Date upon which the customer’s service is disconnected.
	RR5-23.2	Disconnect Subscription Version - Optional Input Data
	NPAC SMS shall accept the following optional input data upon a Subscription Version disconnect:
•	Effective Release Date - Future date upon which the disconnect should be broadcast to all Local SMSs.
RN5-10	Disconnect Subscription Version - Invocation by Current Service Provider
NPAC SMS shall allow only NPAC personnel or the Current Service Provider to invoke the functionality to disconnect a Subscription Version.
R5-63	Disconnect Subscription Version - Invalid Status Notification
NPAC SMS shall send an appropriate error message to the originating user that the Subscription Version is not active in the network and cannot be disconnected or set to disconnect pending if there is no Subscription Version with a status of active.
R5-64.1	Disconnect Subscription Version - Cancel Other Version Notification
NPAC SMS shall notify the originating user that the active Subscription Version cannot be disconnected if a version of that subscription version with a status other than canceled or old exists.
	RR5-48	Disconnect Pending Subscription Version- Creation of Old Subscription Version
	NPAC SMS shall create an old Subscription Version with a new version id for a disconnect-pending Subscription Version when the immediate or deferred disconnect request is received.
	RR5-49 	Disconnect Pending Subscription Version- Old Subscription Version No Broadcast
NPAC SMS shall broadcast no data to the Local SMSs due to the creation of an old Subscription Version with a new version id for a disconnect-pending Subscription Version when the immediate or deferred disconnect request is received.
RR5-24	Disconnect Subscription Version -Set to Disconnect Pending 
NPAC SMS shall set the status of a Subscription Version to disconnect pending upon a Subscription Version disconnect request when an effective release date is specified.
RR5-25.1	Disconnect Subscription Version - Disconnect Pending Status Notification
NPAC SMS shall inform the current Service Provider when the status of a Subscription Version is set to Disconnect Pending.
RR5-25.2	Disconnect Subscription Version - Customer Disconnect Date Notification
NPAC SMS shall notify the new Service Provider (donor) of the Subscription Version Customer Disconnect Date and Effective Release Date immediately prior to broadcasting a Subscription Version disconnect.
R5 65.1	Disconnect Subscription Version -Immediate Broadcast
NPAC SMS shall immediately proceed with the broadcasting of the disconnect after the Customer Disconnect Date notification is sent if no Effective Release Date was specified with the request.
R5-65.2	Disconnect Subscription Version - Deferred Broadcast
NPAC SMS shall proceed with the broadcasting of the disconnect when the specified Effective Release Date is reached if an Effective Release Date was specified with the request.
R5-65.4	Disconnect Subscription Version - Broadcast Interface Message to Local SMSs
NPAC SMS shall broadcast the disconnect Subscription Version message to the Local SMSs that are accepting Subscription Version data downloads for the given NPA-NXX via the NPAC SMS to Local SMS Interface.
R5-65.5	Disconnect Subscription Version - Disconnect Broadcast Date and Time Stamp
NPAC SMS shall record the current date and time as the disconnect broadcast date and time stamp upon sending of disconnect messages to the Local SMSs.
R5-65.6	Disconnect Subscription Version - Set to Sending
NPAC SMS shall set a Subscription Version status to sending upon sending the disconnect messages to the Local SMSs.
R5 66.2	Disconnect Subscription Version Complete - Set Disconnect Complete Date
NPAC SMS shall update the Disconnect Complete timestamp of the previously active Subscription Version upon completion of the broadcast, and the FIRST successful response from a Local SMS.
R5 66.3	Disconnect Subscription Version Complete - Set Disconnect to Old
NPAC SMS shall set the disconnect Subscription Version to old if a successful response from at least one Local SMS is returned.
R5 66.4	Disconnect Subscription Version Complete – Status Update of SV
NPAC SMS shall update the status of the disconnect Subscription Version upon completion of the Deletion broadcast, and a response from ALL Local SMSs, or retries are exhausted.
R5 67.1	Disconnect Subscription Version - Set Status to Active
NPAC SMS shall set the status of the disconnect Subscription Version to active if the disconnect fails in all the Local SMSs to which it was sent.
R5-67.2	Disconnect Pending Subscription Version - Failure Notification
NPAC SMS shall notify the NPAC SMS System Administrator when a disconnect Subscription Version fails in all of the Local SMSs.
R5-67.3	Disconnect Subscription Version - Resend Disconnect Requests to All Local SMSs
NPAC SMS shall provide authorized NPAC SMS personnel with the functionality to resend all failed disconnect requests to the Local SMSs.
R5-68.1	Disconnect Subscription Version - Subscription Disconnect Retry Attempts - Tunable Parameter
NPAC SMS shall allow the NPAC SMS Administrator to modify the Subscription Disconnect Retry Attempts tunable parameter, which is defined as the number of times the NPAC SMS will resend a disconnect message to an unresponsive Local SMS.
R5-68.2	Disconnect Pending Subscription Version - Subscription Disconnect Retry Attempts - Tunable Parameter Default
NPAC SMS shall default the Subscription Disconnect Retry Attempts tunable parameter to 3 times. 
R5-68.3	Disconnect Subscription Version - Subscription Disconnect Retry Interval - Tunable Parameter
NPAC SMS shall allow the NPAC SMS Administrator to modify the Subscription Disconnect Retry Interval tunable parameter, which is defined as the amount of time that shall elapse between disconnect retries.
R5-68.4	Disconnect Subscription Version - Subscription Disconnect Retry Interval - Tunable Parameter Default
NPAC SMS shall default the Subscription Disconnect Retry Interval tunable parameter to 2 minutes. 
R5 68.5	Disconnect Subscription Version - Retry Processing
NPAC SMS shall resend a Subscription Version disconnect message a Subscription Disconnect Retry Attempts tunable parameter number of times to a Local SMS that has not acknowledged the receipt of a disconnect once the Subscription Disconnect Retry Interval tunable parameter expires.
R5-68.6	Disconnect Subscription Version - Sending Status during Retries
NPAC SMS shall retain the status for the Subscription Version being disconnected as sending until the Subscription Disconnect Retry Attempts tunable parameter period expires for all Local SMSs, or until all Local SMSs have acknowledged the disconnect.
R5-68.7	Disconnect Subscription Version - Retry Failed
NPAC SMS shall consider the disconnect Subscription Version request to have failed at a specific Local SMS after the Subscription Disconnect Retry Attempts tunable parameter count for the specific Local SMS has been exhausted.
R5-68.8	Disconnect Subscription Version - Failure Notification after Retries Complete
NPAC SMS shall send a list of the Local SMSs where the disconnect request failed to the NPAC SMS System Administrator after every local SMS has either succeeded or failed with the disconnect.
R5-68.9	Disconnect Subscription Version - Set to Old
NPAC SMS shall set the disconnect Subscription Version status to old if the disconnect request failed at one or more, but not all, of the Local SMSs.
R5-68.10	Disconnect Subscription Version - Resend Disconnect Requests to Failed Local SMSs
NPAC SMS shall provide authorized NPAC SMS personnel with the functionality to resend disconnect requests to all Local SMSs that failed to register the disconnect request.
RR5-63	Disconnect Subscription Version or Port-To-Original – Pooled Number Block Default Routing Restoration
The NPAC SMS shall reinstate the Block default routing, block holder Service Provider Id and the LNP Type to POOL for a subscription version upon a disconnect for a ported TN, or an activate for a Port-To-Original TN, belonging to the 1K Block, once the Block exists in the NPAC SMS, except for a status of Old, with or without a Block Failed SP List.  (Previously SV-390)
RR5-64	Disconnect Subscription Version - Customer Disconnect Date Notification for Pooled Number
NPAC SMS shall notify the Block Holder of the Subscription Version Customer Disconnect Date and Effective Release Date, for a ported pooled Subscription Version that is being disconnected, prior to reinstating the default routing.  (Previously SV-400)
RR5-65	Disconnect Subscription Version – Broadcast of Subscription Data Creation
The NPAC SMS shall broadcast a new Subscription Version Create to a non-EDR Local SMS, upon a disconnect of a ported pooled Subscription Version, where the TN is within the 1K Block.  (Previously SV-410)
RR5-66	Disconnect Subscription Version – Broadcast of Subscription Data Deletion
The NPAC SMS shall broadcast a Subscription Version Delete to an EDR Local SMS, upon a disconnect of a ported pooled Subscription Version, where the TN is within the 1K Block.  (Previously SV-420)
RR5-67.1	Disconnect Subscription Version – Updates to the Status for Disconnect
NPAC SMS shall update the Status of the individual subscription version(s) broadcast to the EDR Local SMSs, and the individual subscription version(s) broadcast to the non-EDR Local SMSs, upon completion of the disconnect broadcast to ALL EDR and non-EDR Local SMSs.  (Previously SV-422.1)
RR5-67.2	Disconnect Subscription Version – Setting of the Status for Disconnected SV
NPAC SMS shall, upon broadcasting the delete of the Subscription Version to EDR Local SMSs, and create of Subscription Version to non-EDR Local SMSs, set the status of the Subscription Version being disconnected to:  (Previously SV-422.2)
•	Active, if ALL EDR and non-EDR Local SMSs, fail the broadcast.
•	Old, for all other cases.
RR5-67.3	Disconnect Subscription Version – Setting of the Status for Newly Created SV
NPAC SMS shall, upon broadcasting the delete of the Subscription Version to EDR Local SMSs, and create of Subscription Version to non-EDR Local SMSs, set the status of the Subscription Version being created to reinstate default routing to:  (Previously SV-422.3)
•	Active, if all EDR and non-EDR Local SMSs, respond successfully to the broadcast. 
•	Failed, if all EDR and non-EDR Local SMSs, fail the broadcast, or retries are exhausted. 
•	Partial Failure, for all other cases.
RR5-68.1	Disconnect Subscription Version – Updates to the Status for Port-to-Original
NPAC SMS shall update the Status of the individual subscription version(s) broadcast to the EDR Local SMSs, the individual subscription version(s) broadcast to the non-EDR Local SMSs, and the individual subscription version(s) representing the port-to-original request, upon completion of the Port-To-Original broadcast to ALL EDR and non-EDR Local SMSs.  (Previously SV-423.1)
RR5-68.2	Disconnect Subscription Version – Setting of the Status for Port-to-Original SV
NPAC SMS shall, upon broadcasting the delete of the Subscription Version to EDR Local SMSs, and create of Subscription Version to non-EDR Local SMSs, set the status of the Subscription Version being ported-to-original to:  (Previously SV-423.2)
•	Old, if ALL EDR and non-EDR Local SMSs, respond successfully to the broadcast.
•	Failed, if ALL EDR and non-EDR Local SMSs, fail the broadcast, or retries are exhausted.
•	Partial Failure, for all other cases.
RR5-68.3	Disconnect Subscription Version – Setting of the Status for Port-to-Original SV that was active prior to the PTO activation request
NPAC SMS shall, upon broadcasting the delete of the Subscription Version to EDR Local SMSs, and create of Subscription Version to non-EDR Local SMSs, set the status of the previously active Subscription Version being disconnected due to the port-to-original request to:  (Previously SV-423.3)
•	Active, if ALL EDR and non-EDR Local SMSs, fail the broadcast.
•	Old, for all other cases.
RR5-68.4	Disconnect Subscription Version – Setting of the Status for Port-to-Original for Newly Created SV
NPAC SMS shall, upon broadcasting the delete of the Subscription Version to EDR Local SMSs, and create of Subscription Version to non-EDR Local SMSs, set the status of the Subscription Version being created to reinstate default routing for the port-to-original request to:  (Previously SV-423.4)
•	Active, if all EDR and non-EDR Local SMSs, respond successfully to the broadcast.
•	Failed, if all EDR and non-EDR Local SMSs, fail the broadcast, or retries are exhausted.
•	Partial Failure, for all other cases.
RR5-69	Disconnect Subscription Version – Updates to the Failed SP List for Disconnect
NPAC SMS shall update the Subscription Version Failed SP List of the individual subscription version(s) that were broadcast to the EDR Local SMSs with the discrepant Local SMS(s) , upon completion of the broadcast of the delete of the Subscription Version(s) to EDR Local SMSs, and the create of the Subscription Version(s) to non-EDR Local SMSs.  (Previously SV-425)
NOTE:  The NPAC SMS will roll up the Subscription Version Failed SP List so that the SV that was active prior to the disconnect request (SV1) contains the Failed SP List for both SV1 and SV2, as defined in the IIS Flows for Disconnect of a Ported Pooled Number.
RR5-70	Disconnect Subscription Version – Updates to the Failed SP List for Port-To-Original
NPAC SMS shall update the Subscription Version Failed SP List of the individual subscription version(s) that were sent up in the Port-to-Original Activate request by the SOA with the discrepant Local SMS(s), upon completion of the broadcast of the delete of the Subscription Version(s) to EDR Local SMSs, and the create of the Subscription Version(s) to non-EDR Local SMSs.  (Previously SV-426)
NOTE:  The NPAC SMS will roll up the Subscription Version Failed SP List so that the SV that was active prior to the port-to-original activate request (SV2) contains the Failed SP List for both SV1 and SV3, as defined in the IIS Flows for a Port-To-Original of a Ported Pooled Number.

5.1.2.2.6	Subscription Version Cancellation
This section provides the requirements for the Subscription Version Cancellation functionality, which is executed upon the NPAC personnel or SOA to NPAC SMS interface user requesting to cancel a Subscription Version.
RR5-26.1	Cancel Subscription Version - Inform Both Service Providers of Cancel Pending Status 
NPAC SMS shall inform both old and new Service Providers when the status of a Subscription Version is set to cancel pending for an Inter-Service Provider port.
R5 69	Cancel Subscription Version - Version Identification
NPAC SMS shall receive the following data from the NPAC personnel to identify a Subscription Version to be canceled:
Ported Telephone Number (or a specified range of numbers)
or
Subscription Version ID
R5 70	Cancel Subscription Version - Invalid Status Notification
NPAC SMS shall send an appropriate error message to the originating user if the status is not pending, conflict, or disconnect pending.
RR5-27	Cancel Subscription Version - Validate Service Provider
NPAC SMS shall send an appropriate error message to the originating user if the originating user is neither the New nor the Old Service Provider in the existing Subscription Version upon Subscription Version cancellation.
R5 71.2	Cancel Subscription Version - Set Cancellation Date and Time Stamp
NPAC SMS shall set the Subscription Version cancellation date and time to current upon setting the Subscription Version status to canceled.
R5-71.3	Cancel Subscription Version- Set to Cancel Old Service Provider only
NPAC SMS shall set the subscription version status to cancel upon receiving a cancellation from the old Service Provider if the New Service Provider has not sent a subscription version create.
R5-71.4	Cancel Subscription Version- Set to Cancel New Service Provider only
NPAC SMS shall set the subscription version status to cancel upon receiving a cancellation from the New Service Provider if the Old Service Provider has not sent an subscription version create.
R5-71.5	Cancel Subscription version- Error on Cancellation
NPAC SMS shall return an error if a Service Provider sends a cancellation for a subscription version that has not been created by that Service Provider.
R5-71.6	Cancel Subscription Version- Set Pending subscription version to Cancel Pending Status Inter-Service Provider port
NPAC SMS shall set the subscription version status to Cancel Pending upon receiving a cancellation from either the Old or New Service Provider for a subscription version with a pending status (both Service Providers have done a create) for an Inter-Service Provider or Port to original port.
R5-71.8	Cancel Subscription Version- Set Conflict Subscription to Cancel New Service Provider only
NPAC SMS shall set the subscription version status to cancel upon receiving a cancellation from the new Service Provider on a subscription in conflict that was previously in cancel pending and for which only the old service provider has sent a cancellation acknowledgment.
R5-71.9	Cancel Subscription Version - Rejection of Old Service Provider Conflict Cancellation
NPAC SMS shall return an error to the Old Service Provider if they attempt to cancel a Subscription Version that is in conflict due to lack of New Service Provider cancellation concurrence on a subscription version that was previously in cancel pending state.
R5-71.10	Cancel Subscription Version- Set Disconnect Pending subscription version to Active
NPAC SMS shall set the subscription version status to Active upon receiving a cancellation for a subscription version with a status of disconnect pending.
R5-71.11	Cancel Subscription Version- Set to Cancel Status - Intra-Service Provider port
NPAC SMS shall set the subscription version status to cancel upon receiving a cancellation from the current Service Provider for an Intra-Service Provider port.
RR5-28.1	Cancel Subscription Version - Set to Cancel After Service Provider Acknowledge
NPAC SMS shall set the Subscription Version status to cancel upon receiving cancellation pending acknowledgment from the Service Provider that did not initiate the cancellation for an Inter-Service Provider port.
RR5-29.1	Cancel Subscription Version - Inform Both Service Providers of Cancel Status
NPAC SMS shall notify both old and new Service Providers after a Subscription Version’s status is set to canceled for an Inter-Service Provider port.
RR5-29.2	Cancel Subscription Version - Inform Current Service Provider of Cancel Status
NPAC SMS shall notify the current Service Provider after a Subscription Version’s status is set to canceled for an Intra-Service Provider port.
RR5-30	Cancel Subscription Version Acknowledgment - Update Old Service Provider Date and Time Stamp
NPAC SMS shall update the old Service Provider cancellation date and time stamp with the current date and time when the cancellation acknowledgment is received from the old Service Provider.
RR5-31	Cancel Subscription Version Acknowledgment - Update New Service Provider Date and Time Stamp
NPAC SMS shall update the new Service Provider cancellation date and time stamp with the current date and time when the cancellation acknowledgment is received from the new Service Provider.
RR5-32.1	Cancellation-Initial Concurrence Window - Tunable Parameter
NPAC SMS shall provide long and short Cancellation-Initial Concurrence Window tunable parameters, which are defined as the number of business hours after the version is set to Cancel Pending by which the non-originating Service Provider is expected to acknowledge the pending cancellation.
RR5-32.2	Cancellation-Initial Concurrence Window - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the long and short Cancellation-Initial Concurrence Window tunable parameters.
RR5-32.3	Long Cancellation-Initial Concurrence Window - Tunable Parameter Default
NPAC SMS shall default the long Cancellation-Initial Concurrence Window tunable parameter to 9 business hours.
	RR5-32.4	Short Cancellation-Initial Concurrence Window - Tunable Parameter Default
NPAC SMS shall default the short Cancellation-Initial Concurrence Window tunable parameter to 9 business hours.
RR5-33.1	Cancellation-Final Concurrence Window - Tunable Parameter
NPAC SMS shall provide long and short Cancellation-Final Concurrence Window tunable parameters which are defined as the number of business hours after the second cancel pending notification is sent by which both Service Providers are expected to acknowledge the pending cancellation.
RR5-33.2	Cancellation-Final Concurrence Window Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the long and short Cancellation-Final Concurrence Window tunable parameters.
RR5-33.3	Long Cancellation-Final Concurrence Window - Tunable Parameter Default
NPAC SMS shall default the long Cancellation-Final Concurrence Window tunable parameter to 9 business hours.
	RR5-33.4	Short Cancellation-Final Concurrence Window - Tunable Parameter Default
NPAC SMS shall default the short Cancellation-Final Concurrence Window tunable parameter to 9 business hours.
RR5-34	Cancellation-Initial Concurrence Window - Tunable Parameter Expiration
NPAC SMS shall send a notification to the Service Provider (new or old) who has not yet acknowledged the cancel pending status when the Cancellation-Initial Concurrence Window tunable parameter expires.
RR5-35.1	Cancellation-Final Concurrence Window - Tunable Parameter Expiration New Service Provider
NPAC SMS shall set the Subscription Version status to conflict when the NPAC SMS has not received the cancellation acknowledgment from the new Service Provider and the Cancellation-Final Concurrence Window tunable parameter has expired.
RR5-35.2	Cancellation-Final Concurrence Window - Tunable Parameter Expiration Old Service Provider
NPAC SMS shall set the Subscription Version status to cancel and set the cause code to “NPAC SMS automatic cancellation” when the NPAC SMS has not received the cancellation acknowledgment from the Old Service Provider and the Cancellation-Final Concurrence Window tunable parameter has expired.
RR5-36	Cancel Subscription Version - Inform Service Providers of Conflict Status
NPAC SMS shall notify the old and new Service Providers upon setting a Subscription Version to conflict. 
5.1.2.2.7	Subscription Version Resend
This section provides the requirements for the Subscription Version resend functionality, which is executed upon the NPAC personnel requesting to resend a Subscription Version.
RR5-38.1.1	Resend Subscription Version - Identify Subscription Version
NPAC SMS shall receive the following data from NPAC personnel to identify a subscription version that contains a Failed SP List with one or more SPIDS, to be resent:
Ported Telephone Number
or
Subscription Version ID
RR5-38.1.2	Resend Subscription Version – Identify Multiple Subscription Versions
NPAC SMS shall require NPAC personnel to specify a TN Range (NPA-NXX-xxxx through yyyy, where yyyy is greater than xxxx) to identify multiple subscription versions that contain a Failed SP List with one or more SPIDS, to be resent.
RR5-38.2	Resend Subscription Version - Input Data
NPAC SMS shall require the following input data from NPAC personnel upon a Subscription Version resend:
•	List of “failed” Local SMSs to resend to.
RR5-38.3	Resend Subscription Version - Error Message
NPAC SMS shall send an error message to the originating user upon Subscription Version resend if the version does not have a list of failed LSMSs associated with the subscription’s last operation.
RR5-38.4	Resend Subscription Version - Activation Request
NPAC SMS shall resend a Subscription Version activation request, if the Subscription Version previously failed activation, to the designated list of failed Local SMSs via the NPAC SMS to Local SMS Interface upon a Subscription Version resend request.
RR5-38.5	Resend Subscription Version - Disconnect Request
NPAC SMS shall resend a Subscription Version disconnect request, if the Subscription Version previously failed disconnect, to the designated list of failed Local SMSs via the NPAC SMS to Local SMS Interface upon a Subscription Version resend request.
RR5-38.6	Resend Subscription Version - Failed or Partial Failure
NPAC SMS shall set a failed or partial failure Subscription Version to sending subsequent to resending to the Local SMSs via the NPAC SMS to Local SMS Interface.
RR5-38.7	Resend Subscription Version - Standard Activation Processing
NPAC SMS shall proceed with the standard activation processing subsequent to resending a Subscription Version activation request to the Local SMSs via the NPAC SMS to Local SMS Interface.
RR5-38.8	Resend Subscription Version - Standard Disconnect Processing
NPAC SMS shall proceed with the standard disconnect processing subsequent to resending a Subscription Version disconnect request to the Local SMSs via the NPAC SMS to Local SMS Interface.
RR5-38.9	Resend Subscription Version – Modify Active Request
NPAC SMS shall resend a Subscription Version modify active request, if an active Subscription Version previously failed modification, to the designated list of failed Local SMSs via the NPAC SMS to Local SMS Interface upon a Subscription Version resend request.
RR5-38.10	Resend Subscription Version - Standard Modify Active Processing
NPAC SMS shall proceed with the standard modify active processing subsequent to resending a Subscription Version modify request to the Local SMSs via the NPAC SMS to Local SMS Interface.
RR5-71	Re-Send of Number Pooling Subscription Version Information – NPAC Personnel OpGUI
NPAC SMS shall prevent NPAC Personnel from re-sending a Subscription Version with LNP Type of POOL, via the NPAC Administrative Interface.  (Previously SV-451)
NOTE:  The re-send of SVs with LNP Type of POOL to non-EDR Local SMSs shall be initiated from the Block Re-send on the NPAC Administrative GUI.
RR5-72	Re-Send of Number Pooling Subscription Version Information – Subscription Versions sent to discrepant non-EDR Local SMS
NPAC SMS shall re-send Subscription Versions to a discrepant non-EDR Local SMS via the NPAC SMS to Local SMS Interface, when a re-send request is initiated to a Block.  (Previously SV-452)
RR5-73	Re-Send of Number Pooling Subscription Version Information – Sending Status Update to Failed Subscription Versions for Block Activation
NPAC SMS shall update the status of the failed Subscription Versions with LNP Type of POOL in the 1K Block, at the start of the re-send to the Local SMSs, from a failed status to a sending status.  (Previously SV-460)
RR5-74	Re-Send of Number Pooling Subscription Version Information – Sending Status Update to Partial failure Subscription Versions for Block Activation
NPAC SMS shall update the status of the partial failure Subscription Versions with LNP Type of POOL in the 1K Block, at the start of the re-send to the Local SMSs, from a partial failure status to a sending status.  (Previously SV-470)
RR5-75	Re-Send of Number Pooling Subscription Version Information – Sending Status Update to Active Subscription Version for Block Modification or Deletion
NPAC SMS shall update the status of the active Subscription Version with LNP Type of POOL in the 1K Block, with a Failed SP List, at the start of the re-send to the Local SMSs, from an active status to a sending status.  (Previously SV-480)
RR5-76	Re-Send of Number Pooling Subscription Version Information – Sending Status Update to Old Subscription Version for Block Deletion
NPAC SMS shall update the status of the old Subscription Version with LNP Type of POOL in the 1K Block, with a Failed SP List, at the start of the re-send to the Local SMSs, from an old status to a sending status.  (Previously SV-490)
RR5-77	Re-Send of Number Pooling Subscription Version Information – Update to Failed SP List
NPAC SMS shall update the Subscription Version Failed SP List of the Subscription Version(s) with LNP Type of POOL in the 1K Block, by removing the previously failed Local SMS, upon a successful re-send to a previously failed Local SMS.  (Previously SV-510)
RR5-78	Re-Send of Number Pooling Subscription Version Information –Status Update to Subscription Version after Re-Send
NPAC SMS shall update the status of the Subscription Version(s) and the Block, specified in the re-send request for a Block Creation, Modification, or Deletion, at the completion of the re-send to the Local SMS, and a response from the Local SMS or if retries have been exhausted, from a sending status, as defined in RR3-137.1, RR3-137.2 RR3-137.3, and RR3-137.4.  (Previously SV-515)
RR5-79	Re-Send of Number Pooling Subscription Version Information –Failed SP List Update to Subscription Version after Re-Send
NPAC SMS shall update the Subscription Version Failed SP List of the Subscription Version(s) with LNP Type of POOL in the 1K Block, specified in the re-send request for a Block Creation, Modification, or Deletion, at the completion of the re-send to the Local SMS, and a response from the Local SMS, or if retries have been exhausted, as defined in RR3-138.1 and RR3-138.2.  (Previously SV-516)
RR5-80	Re-Send of Subscription Version Information – Disconnect or Port-To-Original of a TN within a Pooled 1K Block
NPAC SMS shall examine a Service Provider's EDR Indicator, at the time of re-send, to determine the message to re-send, for a disconnect or a Port-To-Original Subscription Version of a ported pooled TN, where the TN is contained within a Pooled 1K Block.  (Previously SV-518)
RR5-81.1	Re-Send of Subscription Version Information – Disconnect TN within a Pooled 1K Block to EDR Local SMS
NPAC SMS shall, for a re-send of a disconnect Subscription Version of a ported pooled TN, where the TN is contained within a Pooled 1K Block, re-broadcast the Delete request of the Subscription Version that was active prior to the disconnect broadcast to a discrepant EDR Local SMS.  (Previously SV-519.1)
NOTE:  The NPAC SMS will re-send an M-DELETE, to an EDR Local SMS, of the Subscription Version (SV1) that was active prior to the disconnect request (SV2), as defined in the IIS Flows for Disconnect of a Ported Pooled Number.
RR5-81.2	Re-Send of Subscription Version Information – Disconnect TN within a Pooled 1K Block to non-EDR Local SMS
NPAC SMS shall, for a re-send of a disconnect Subscription Version of a ported pooled TN, where the TN is contained within a Pooled 1K Block, re-broadcast the Create request of the Subscription Version that was created to restore default routing to a discrepant non-EDR Local SMS.  (Previously SV-519.2)
NOTE:  The NPAC SMS will re-send an M-CREATE, to a non-EDR Local SMS, of the Subscription Version (SV2) that was created to restore default routing (SV1), although the Failed SP List resides on SV1, as defined in the IIS Flows for Disconnect of a Ported Pooled Number.
RR5-82.1	Re-Send of Subscription Version Information –Port-To-Original TN within a Pooled 1K Block to EDR Local SMS
NPAC SMS shall, for a re-send of a Port-To-Original Subscription Version of a ported pooled TN, where the TN is contained within a Pooled 1K Block, re-broadcast the Delete request of the Subscription Version that was active prior to the Port-To-Original broadcast to a discrepant EDR Local SMS.  (Previously SV-520.1)
NOTE:  The NPAC SMS will re-send an M-DELETE, to an EDR Local SMS, of the Subscription Version (SV1) that was active prior to the Port-To-Original request (SV2), even though the Failed SP List resides on SV2, as defined in the IIS Flows for a Port-To-Original of a Ported Pooled Number.
RR5-82.2	Re-Send of Subscription Version Information –Port-To-Original TN within a Pooled 1K Block to non-EDR Local SMS
NPAC SMS shall, for a re-send of a Port-To-Original Subscription Version of a ported pooled TN, where the TN is contained within a Pooled 1K Block, re-broadcast the Create request of the Subscription Version that was created to restore default routing, and shall NOT re-broadcast the Delete request of the Subscription Version that was active prior to the Port-To-Original broadcast to a discrepant non-EDR Local SMS.  (Previously SV-520.2)
NOTE:  The NPAC SMS will re-send an M-CREATE, to a non-EDR Local SMS, of the Subscription Version (SV3) that was created to restore default routing, and will NOT re-send an M-DELETE of the Subscription Version (SV1) that was active prior to the Port-To-Original request (SV2), even though the Failed SP List resides on SV2, as defined in the IIS Flows for a Port-To-Original of a Ported Pooled Number.
5.1.3	Subscription Queries
This section provides the requirements for the Subscription Version Query functionality, which is executed upon the user requesting a query of a Subscription Version (R5-13).
5.1.3.1	User Functionality
R5 72	Query Subscription Version - Request
NPAC SMS shall allow NPAC personnel, SOA to NPAC SMS interface users, and NPAC SMS to Local SMS interface users to query data maintained by the NPAC SMS for a Subscription and all its Versions.

5.1.3.2	System Functionality 
The following requirements specify the NPAC SMS query functionality defined above.
R5 73	Query Subscription Version - Version Identification
NPAC SMS shall receive the following data to identify a Subscription Version to be queried:
Ported Telephone Numbers and status (optional)
or
Subscription Version ID
R5 74.1	Query Subscription Version - Status Supplied
NPAC SMS shall only retrieve Subscription Versions with a specific status when the user supplies a specific Subscription Version status as part of the query criteria.
R5-74.2	Query Subscription Version - Return All Subscription Versions for Ported TN
NPAC SMS shall return all Subscription Versions associated with a ported TN that the requester is eligible to view if the originating user has not provided a Subscription Version status as part of the query criteria.
R5-74.3	Query Subscription Version - Output Data
NPAC SMS shall return the following output data for a Subscription Version query request initiated by NPAC personnel or a SOA to NPAC SMS interface user:
•	Subscription Version ID
•	Subscription Version Status
•	Local Number Portability Type
•	Ported Telephone Number
•	Old facilities based Service Provider Due Date
•	New facilities based Service Provider Due Date
•	New facilities based Service Provider ID
•	Old facilities based Service Provider ID
•	Authorization from old facilities based Service Provider
•	Status Change Cause Code
•	Location Routing Number (LRN)
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC (for SOAs that support WSMSC data)
•	WSMSC SSN (for SOAs that support WSMSC data)
•	Billing Service Provider ID
•	End User Location Value
•	End User Location Type
•	Customer Disconnect Date
•	Effective Release Date
•	Disconnect Complete Time Stamp
•	Conflict Time Stamp
•	Broadcast Time Stamp
•	Activation Time Stamp
•	Cancellation Time Stamp (Status Modified to Canceled Time Stamp)
•	New Service Provider Creation Time Stamp
•	Old Service Provider Authorization Time Stamp
•	Pre-cancellation Status
•	Old Service Provider Cancellation Time Stamp
•	New Service Provider Cancellation Time Stamp
•	Old Time Stamp (Status Modified to Old Time Stamp)
•	New Service Provider Conflict Resolution Time Stamp
•	Old Service Provider Conflict Resolution Time Stamp
•	Create Time Stamp
•	Modified Time Stamp
•	Porting to Original
•	Download Reason
•	Timer Type (for SOAs that support Timer Type)
•	Business Hours Type (for SOAs that support Business Hours)
•	List of all Local SMSs that failed activation, modification, or disconnect.
	R5-74.4	Query Subscription Version - Output Data
	NPAC SMS shall return the following output data for a Subscription Version query request initiated over the NPAC SMS to Local SMS interface:
•	Subscription Version ID
•	Ported Telephone Number
•	Location Routing Number (LRN)
•	New facilities-based Service Provider ID
•	Activation Time Stamp
•	Customer Disconnect Date
•	Class DPC
•	Class SSN
•	LIDB DPC
•	LIDB SSN
•	CNAM DPC
•	CNAM SSN
•	ISVM DPC
•	ISVM SSN
•	WSMSC DPC (for Local SMSs that support WSMSC data)
•	WSMSC SSN (for Local SMSs that support WSMSC data)
•	End-User Location Value
•	End-User Location Type
•	Billing Service Provider ID
•	Local Number Portability Type
R5 75	Query Subscription Version -No Data Found
NPAC SMS shall send the originating user an appropriate message indicating that there was no data found if no Subscription Versions were found for a query.
RN5-4	Query Subscription Version - Retrieve Data, Modification Not Allowed 
NPAC SMS shall allow NPAC personnel or SOA to NPAC SMS interface users to retrieve subscription data that they cannot modify.
RN5-5	Query Subscription Version - Retrieve Data Based on Single Ported TN Only
NPAC SMS shall allow authorized NPAC personnel, SOA to NPAC SMS interface users, or NPAC SMS to Local SMS interface users to submit query requests for Subscription Version data based on a single ported TN only.
RN5-6	Query Subscription Version - View for Any Ported TN
NPAC SMS shall allow old and new Service Providers or NPAC personnel to view a Subscription Version for any ported TN.
RR5-39	Query Subscription Version - View Old, Partial Failure, Disconnect Pending, Canceled or Active Only
NPAC SMS shall allow NPAC Customers who are neither the old nor the new Service Provider to view only those Subscription Versions for a ported TN with a status of active, partial-failure, disconnect-pending, canceled or old.
RR5-40	Query Subscription Version - Online Records Only
NPAC SMS shall only allow Subscription Version queries of online subscription Versions that have not been archived.
RR5-83	Query Subscription Version – LNP Type of POOL
NPAC SMS shall return Subscription Versions with LNP Type of POOL that match the query selection criteria, on query requests by NPAC personnel, SOA via the SOA to NPAC SMS Interface, Local SMS via the NPAC SMS to Local SMS Interface, or Service Provider via the NPAC SOA Low-tech Interface, regardless of the value in the requesting Service Provider’s EDR Indicator.  (Previously SV-440)
5.1.4	Subscription Version Processing for National Number Pooling
This section details the functional requirements for user interaction (either NPAC Personnel or Service Provider Personnel via their SOA and/or LSMS to NPAC SMS interface) with the NPAC SMS to appropriately operate in the National Number Pooling Environment.
5.1.4.1	Subscription Version, General
The following requirements outline the basic NPAC SMS processing requirements for subscription versions in a National Number Pooling environment.
RR5-84	Number Pooling Subscription Version Information – Reject Messages
NPAC SMS shall reject a message from NPAC personnel, a Service Provider SOA via the SOA to NPAC SMS Interface, a Service Provider LSMS via the NPAC SMS to Local SMS Interface, or a Service Provider via the NPAC SOA Low-tech Interface, to Create, Modify, Cancel, Set to Conflict, Activate, or Disconnect, a Subscription Version with an LNP Type of POOL.  (Previously SV-1)
RR5-85	Number Pooling Subscription Version Information – Suppression of Notifications
NPAC SMS shall suppress status change and attribute value change notifications to the old and new/current service provider SOA systems for Subscription Versions with LNP Type of POOL.  (Previously SV-2)
NOTE:  This includes creation, modification, deletion, re-send, resync, audits, and mass update.  An exception to the deletion is the donor disconnect notification in a de-pool situation.  This notification will still be sent to the Code Holder, which informs the Code Holder of the responsibility to provide vacant number treatment upon a de-pool of a 1K Block.  This notification is the same that is sent for a disconnect of a ported SV in a non-pooling environment.
RR5-86	Number Pooling Subscription Version Information – Filters for “Pooled Number” Subscription Versions
NPAC SMS shall apply NPA-NXX Filters to subscription version broadcasts to the Local SMSs, for Subscription Versions with LNP Type of POOL.  (Previously SV-3)
RR5-87	Number Pooling Subscription Version Information – Broadcast of Subscription Data
NPAC SMS shall broadcast an addition, modification, or deletion of Subscription Versions, with LNP Type of POOL, to non-EDR LSMSs, via the NPAC SMS to Local SMS Interface, upon successful update of the 1K Block in the NPAC SMS, for Subscription Versions.  (Previously SV-4)
RR5-88	Number Pooling Subscription Version Information – Failed SP List Update for Block
NPAC SMS shall consider an EDR Local SMS to be discrepant and shall update the Subscription Version Failed SP List for all Subscription Versions with LNP Type of POOL in the 1K Block, based on an EDR Local SMS failing to process the Block Object, for an addition, modification, deletion, re-send, or mass update.  (Previously SV-5)
RR5-89	Number Pooling Subscription Version Information – Data Integrity for Pooled Subscription Versions and Block
NPAC SMS shall maintain data integrity for SPID, LRN and DPC/SSN data, between Subscription Versions with LNP Type of POOL in a 1K Block, and the corresponding Number Pooling Block, in the NPAC SMS.  (Previously SV-6)

5.1.4.2	Subscription Version, Addition for Number Pooling
The following section outlines the NPAC SMS functional requirements for processing pooled subscription version additions.  Subscription versions with LNP Type set to POOL are created when a Number Pool Block is activated.
RR5-90	Addition of Number Pooling Subscription Version Information – Subscription Data
NPAC SMS shall create individual subscription versions, with LNP Type of POOL, for each TN within the 1K Block, that does not already exist with a status of active/partial failure/disconnect pending/old with a Failed SP List/sending, immediately after successfully creating Number Pooling Block Holder Information in the NPAC SMS.  (Previously SV-10)
RR5-91	Addition of Number Pooling Subscription Version Information – Create “Pooled Number” Subscription Version
NPAC SMS shall automatically populate the following data upon Subscription Version creation for a Pooled Number port:  (Previously SV-20)
Version ID   Automatically generated by NPAC SMS.
LRN   Value set to same field in Block.
Old Service Provider ID   Value set to owner of NPA-NXX.
New Service Provider ID   Value set to NPA-NXX-X Holder SPID field in Block.
TN   Telephone Number associated with this Subscription Version.
LNP Type   Value set to "POOL".
Status   Value initially set to "Sending".
CLASS DPC   Value set to same field in Block.
CLASS SSN   Value set to same field in Block.
LIDB DPC   Value set to same field in Block.
LIDB SSN   Value set to same field in Block.
CNAM DPC   Value set to same field in Block.
CNAM SSN   Value set to same field in Block.
ISVM DPC   Value set to same field in Block.
ISVM SSN   Value set to same field in Block.
WSMSC DPC   Value set to same field in Block.
WSMSC SSN   Value set to same field in Block.
New Service Provider Due Date   Value set to current date.
Old Service Provider Due Date   Value set to current date.
Old Service Provider Authorization   Value set to "TRUE".
New Service Provider Create Time Stamp   Value set to current date/time.
Old Service Provider Authorization Time Stamp   Value set to current date/time.
Activation Request Time Stamp   Value set to current date/time.
Activation Broadcast Date   Value set to current date.
Activation Broadcast Complete Time Stamp   Value set to current date/time, once the broadcast is complete (Local SMS has responded).
Disconnect Request Time Stamp   Value set to all zeros.
Disconnect Broadcast Time Stamp   Value set to all zeros.
Disconnect Broadcast Time Stamp   Value set to all zeros.
Disconnect Complete Time Stamp   Value set to all zeros.
Effective Release Date   Value set to all zeros.
Customer Disconnect Date   Value set to all zeros.
Pre-Cancellation Status   Value set to NULL.
Old Service Provider Cancellation Time Stamp   Value set to all zeros.
New Service Provider Cancellation Time Stamp   Value set to all zeros.
Cancellation Time Stamp   Value set to all zeros.
Old Time Stamp   Value set to all zeros.
Conflict Time Stamp   Value set to all zeros.
Conflict Resolution Time Stamp   Value set to all zeros.
Create Time Stamp   Value set to current date/time.
Modified Time Stamp   Value set to current date/time.
Porting to Original   Value set to "FALSE".
End User Location Value   Value set to "no value".
End User Location Value Type   Value set to "no value".
Modify Request Time Stamp   Value set to all zeros.
Modify Broadcast Time Stamp   Value set to all zeros.
Modify Broadcast Complete Time Stamp   Value set to all zeros.
Billing ID   Value set to "no value".
Status Change Cause Code   Value set to "no value".
RR5-92	Addition of Number Pooling Subscription Version Information Create “Pooled Number” Subscription Version – Bypass of Existing Subscription Versions
NPAC SMS shall upon finding an existing subscription version with an active, partial failure, disconnect pending, old with a failed SP list, or sending status for any TNs within the 1K Block, will bypass and not alter that TN/subscription version, log an information message, and continue processing.  (Previously SV-30)
RR5-93	Addition of Number Pooling Subscription Version Information Create “Pooled Number” Subscription Version - Set to Sending
NPAC SMS shall set a Subscription Version of LNP Type POOL in the 1K Block, to sending upon successful subscription creation.  (Previously SV-70)
RR5-94	Addition of Number Pooling Subscription Version Information – Status Update
NPAC SMS shall update the status of each Subscription Version with LNP Type of POOL for each TN in the 1K Block, upon completion of the broadcast, and a response from ALL EDR and non-EDR Local SMSs, or retries are exhausted/timers have expired, as defined in RR3-137.1 and RR3-137.2.  (Previously SV-90)
RR5-95	Addition of Number Pooling Subscription Version Information – Failed SP List
NPAC SMS shall update the Subscription Version Failed SP List with the discrepant Local SMS of the individual subscription version(s) with LNP Type of POOL, upon completion of the activation broadcast to All EDR and non-EDR Local SMSs, an unsuccessful response from at least one Local SMS, and a response from ALL EDR and non-EDR Local SMSs, or retries are exhausted/timers have expired, as defined in RR3-138.1 and RR3-138.2.  (Previously SV-121)
5.1.4.3	Subscription Version, Block Create Validation of Subscription Versions
The following requirements define validation processing on behalf of the NPAC SMS once a Number Pool Block has been activated.
RR5-96	Block Create Validation of Subscription Versions – Subscription Version Completion Check
NPAC SMS shall, upon successful completion of a Block Create request, where the Block status is active, verify that 1000 individual TNs exist for the Block, with an LNP Type of either:  (Previously SV-131)
•	POOL, where the status is active, or
•	LSPP/LISP, where the status is active/partial failure/disconnect pending.
NOTE:  NPAC shall perform this Block Create Validation Process until all 1000 TNs have been accounted for in the 1K Block.
NOTE:  NPAC shall NOT perform this Block Create Validation Process once all 1000 TNs have been accounted for in the 1K Block.
RR5-97	Block Create Validation of Subscription Versions – First Time Execution of Subscription Version Completion Check
NPAC SMS shall run the Block Create Validation Process within 24 hours of Block Creation where the Block status is active.  (Previously SV-132)
RR5-98	Block Create Validation of Subscription Versions – Subscription Version Create for Missing TNs
NPAC SMS shall, upon finding any missing TNs with a status of Old without a Failed SP List, in the 1K Block, upon performing the Subscription Version Completion Check defined in RR5-96, log an information message, create a Subscription Version with LNP Type of POOL in the NPAC SMS using the routing data in the Block, and set the status to sending for the Subscription Version.  (Previously SV-133)
RR5-99	Block Create Validation of Subscription Versions – Subscription Version Broadcast to non-EDR Local SMS
NPAC SMS shall, for any missing TNs in the 1K Block defined in RR5-98, broadcast the Subscription Version(s) with LNP Type of POOL, to all non-EDR Local SMSs, via the NPAC SMS to Local SMS Interface.  (Previously SV-135)
RR5-100	Block Create Validation of Subscription Versions – Block Status Update
NPAC SMS shall update the status of the Block based on the results of the broadcast of the Subscription Versions to all non-EDR Local SMSs, or retries are exhausted, as defined in RR3-137.1, RR3-137.2, RR3-137.3, and RR3-137.4.  (Previously SV-137)
RR5-101	Block Create Validation of Subscription Versions – Block Failed SP List Update
NPAC SMS shall update the Block Failed SP List of the Block based on the results of the broadcast of the Subscription Versions to all non-EDR Local SMSs, or retries are exhausted, as defined in RR3-138.1 and RR3-138.2.  (Previously SV-139)
RR5-102	Block Create Validation of Subscription Versions – Subscription Version Logging
NPAC SMS shall upon finding any missing TNs within the 1K Block during the Block Create Validation Process, log an information message, and continue processing.  (Previously SV-140)
5.1.4.4	Subscription Version, Modification for Number Pooling
RR5-103	Modification of Number Pooling Subscription Version Information – Subscription Data
NPAC SMS shall automatically apply the updates to the attributes of the individual subscription versions with LNP Type of POOL, with a status of active, for each TN within the 1K Block after successfully modifying a Number Pooling Block in the NPAC SMS.  (Previously SV-230)
RR5-104	Modification of Number Pooling Subscription Version Information – Status Update to Sending
NPAC SMS shall update the status of the individual subscription versions with LNP Type of POOL, with a status of active, for each TN within the 1K Block, upon the start of the broadcast of a Block Modification to the Local SMSs, from an active status to a sending status, after successfully modifying a Number Pooling Block in the NPAC SMS.  (Previously SV-240)
RR5-105	Modification of Number Pooling Subscription Version Information – Status Update
NPAC SMS shall update the status of each Subscription Version with LNP Type of POOL, with a status of active, for each TN in the 1K Block, upon completion of the broadcast, and a response from All EDR and non-EDR Local SMSs, or retries are exhausted, as defined in RR3-137.1 and RR3-137.3.  (Previously SV-270)
RR5-106	Modification of Number Pooling Subscription Version Information – Failed SP List
NPAC SMS shall update the Subscription Version Failed SP List with the discrepant Local SMS of the individual subscription version(s) with LNP Type of POOL, with a status of active, upon completion of the modification broadcast to All EDR and non-EDR Local SMSs, an unsuccessful response from at least one Local SMS, and a response from ALL EDR and non-EDR Local SMSs, or retries are exhausted, as defined in RR3-138.1 and RR3-138.2.  (Previously SV-280)
5.1.4.5	Subscription Version, Deletion for Number Pooling
RR5-107	Deletion of Number Pooling Subscription Version Information – Sending Status Update to Subscription Versions
NPAC SMS shall, upon processing a valid request to delete an NPA-NXX-X, update the status of the Subscription Versions with LNP Type of POOL in the 1K Block, at the start of the broadcast to all EDR and non-EDR Local SMSs, from an active status to a sending status.  (Previously SV-330)
RR5-108	Deletion of Number Pooling Subscription Version Information – Broadcast of Subscription Version Data
NPAC SMS shall, upon setting the Subscription Versions with LNP Type of POOL in the 1K Block status to sending, broadcast a delete of Subscription Versions with LNP Type of POOL in the 1K Block, to non-EDR LSMSs, via the NPAC SMS to Local SMS Interface.  (Previously SV-335)
RR5-109	Deletion of Number Pooling Subscription Version Information – Status Update to Subscription Versions
NPAC SMS shall update the status of a particular Subscription Version with LNP Type of POOL for each TN in the 1K Block, upon completion of the broadcast, a response for the Block to all EDR Local SMSs and that particular Subscription Version to non-EDR Local SMSs, or retries are exhausted, as defined in RR3-137.1 and RR3-137.4.  (Previously SV-350)
RR5-110	Deletion of Number Pooling Subscription Version Information – Failed SP List
NPAC SMS shall update the Subscription Version Failed SP List with the discrepant Local SMS of the individual subscription version(s) with LNP Type of POOL, upon completion of the deletion broadcast to All EDR and non-EDR Local SMSs, an unsuccessful response from at least one Local SMS, and a response from ALL EDR and non-EDR Local SMSs, or retries are exhausted, as defined in RR3-138.1 and RR3-138.2.  (Previously SV-365)
5.1.4.6	Subscription Version, Block Delete Validation of Subscription Versions
RR5-111	Block Delete Validation of Subscription Versions – Ensure no Subscription Versions with LNP Type POOL
NPAC SMS shall ensure that upon completion of an NPA-NXX-X delete (de-pool), there are no Subscription Versions of LNP Type POOL, remaining in the 1K Block.  (Previously SV-429)
5.1.4.7	Subscription Version, Bulk Data Downloads

RR5-112	Bulk Download File Creation – Pooled Subscription Versions Filtered for EDR Local SMS
NPAC SMS shall filter out Subscription Versions with LNP Type of POOL for Bulk Data Download files of Subscription Version data, when the requesting Service Provider has an EDR Indicator set to TRUE.  (Previously SV-521)

 
6.	NPAC SMS Interfaces
Two CMIP-based, mechanized interfaces to the NPAC SMS were defined in the Illinois NPAC RSMS RFP.  One interface supports the Service Provider’s Service Order Administration (SOA) systems.  This interface is referred to as the SOA to NPAC SMS interface.  The second interface supports the Service Provider’s Local Service Management System (LSMS).  This interface is referred to as the NPAC SMS to LSMS interface.  Both of the interfaces support two-way communications.
6.1	SOA to NPAC SMS Interface
6.2	NPAC SMS to Local SMS Interface
6.3	Interface Transactions
The CMIP protocol provides for six types of transactions over the interface (Reference: ISO 9595 and 9596).  They are:
•	Create
•	Delete
•	Set
•	Get
•	M-Action
•	Event Report
R6-22	Manager-agent relationship of interface transactions
NPAC SMS Interoperable Interface shall be designed in terms of CMIP transactions in a manager-agent relationship.
6.4	Interface and Protocol Requirements
While it is expected that dedicated links will be used for the interfaces, switched connections should also be supported.  Reliability and availability of the links will be essential and high capacity performance will be needed.
R6-23	Open interfaces
The SOA to NPAC SMS Interface and the NPAC SMS to Local SMS Interface shall be open, non-proprietary interfaces and will not become the property of any entity.
6.4.1	Protocol Requirements
R6-24	Interface protocol stack
Both of the NPAC SMS interfaces, as defined above, shall be implemented via the following protocol stack:
INTERFACE PROTOCOL STACK
Application	CMISE, ACSE, ROSE
Presentation	ANSI T1.224
Session:	ANSI T1.224
Transport:	TCP, RFC1006
Network:	IP
Link	PPP, MAC, Frame Relay, ATM (IEEE 802.3)
Physical	DS1, DS-0 x n , V.34
Table 6 1  Interface Protocol Stack
R6-25	Multiple application associations
NPAC SMS shall support multiple application associations per Service Provider.
6.4.2	Interface Performance Requirements
R6-26	Interface availability
Both the SOA to NPAC SMS and the NPAC SMS to Local SMS interfaces shall be available on a 24 by 7 basis, consistent with other availability requirements in this specification.
R6-27	Interface reliability
A 99.9 % reliability rate shall be maintained for both the SOA to NPAC SMS and NPAC SMS to Local SMS interfaces.
AR6-1	Range Activations
A range activate will contain an average of 20 TNs.
AR6-2	Percent of Range Activations
20% of all downloads as specified in R6-28.1, R6-28.2, R6-29.1 and R6-29.2 will be processed via range activations.
R6-28.1	SOA to NPAC SMS interface transaction rates - sustained
A transaction rate of 2 CMIP transactions (sustained) per second shall be supported by each SOA to NPAC SMS interface association.
R6-28.2	SOA to NPAC SMS interface transaction rates - peak
NPAC SMS shall support a rate of 5.2 CMIP operations per second (peak) over a single SOA to NPAC SMS interface association.
R6-29.1	NPAC SMS to Local SMS interface transaction rates
A transaction rate of 25 TN downloads per second shall be supported by each NPAC SMS to Local SMS interface.
R6-29.2	NPAC SMS to Local SMS interface transaction rates - sustainable
NPAC SMS shall, given a transaction rate of 25 TN downloads per second and the assumptions concerning range activations expressed above, support a rate of 5.2 CMIP operations per second (sustainable for 5 minutes) over each NPAC SMS to Local SMS interface association.
6.4.3	Interface Performance Requirements
R6-30.1	Interface specification
The interoperable interface model defining both the NPAC to Local SMS and the SOA to NPAC SMS shall be specified in terms of ISO 10165-4, "Guideline for the Definition of Managed Objects (GDMO)”.
R6-30.2	Interface specification identification
The interface specification shall be referred to as the “NPAC SMS Interoperable Interface Specification” (NPAC SMS IIS).

R6-35	NPAC SMS Interoperable Interface Specification extensibility
The interface specified shall be capable of extension to account for evolution of the interface requirements.
RR6-1	Acknowledgment of a Cancel Pending for a Subscription Version
NPAC SMS shall acknowledge receiving a cancel pending request for a Subscription Version via the SOA to NPAC SMS Interface.
RR6-2	Acknowledgment of a Conflict Resolution for a Subscription Version
NPAC SMS shall acknowledge receiving a conflict resolution request for a Subscription Version via the SOA to NPAC SMS Interface.
RR6-3	Deferred Disconnect of a Subscription Version
NPAC SMS shall allow a specific Subscription Version to be placed into a deferred disconnect status by having the effective date in the future via the SOA to NPAC SMS Interface.
RR6-4	Cancel Request Notification
NPAC SMS shall notify a Service Provider of a request for a Subscription Version status to be changed to cancel via the SOA to NPAC SMS Interface.
RR6-5	Conflict Resolution Request Notification
NPAC SMS shall notify a Service Provider of a request for a Subscription Version status to be changed to conflict resolution via the SOA to NPAC SMS Interface.

6.4.4	Request Restraints
RR6-8	Tunable Parameter Number of Aggregated Download Records
NPAC SMS shall allow NPAC System Administrators to specify a tunable parameter value for the maximum number of download records.
RR6-9	Download Time Tunable Parameter to Restricted Time Range
NPAC SMS shall allow NPAC System Administrators to specify a tunable parameter value for the maximum time range for a download.

RR6-13	Queries Constrained by NPA-NXX
NPAC SMS shall constrain all queries on the NPAC SMS to Local SMS Interface to one NPA-NXX plus additional filter criteria.
RR6-14	Subscription Version Resynchronization Filter Usage
NPAC SMS shall, for a Subscription Version Resynchronization request, over the NPAC SMS to Local SMS Interface, only send subscription version that are not filtered on the Local SMS.
6.5	NPAC SOA Low-tech Interface
The NPAC SOA Low-tech Interface supports the request functionality of the SOA to NPAC SMS interface.
RX6-2.1	NPAC SOA Low-tech Interface
NPAC SMS shall provide an NPAC SOA Low-tech Interface.
RX6-2.2	SOA to NPAC SMS Create Subscription Versions administration requests via an NPAC SOA Low-tech Interface
NPAC SMS shall support Create Subscription Version requests via a secure, NPAC SOA Low-tech Interface.
RX6-2.3	SOA to NPAC SMS Cancel Subscription Versions administration requests via an NPAC SOA Low-tech Interface
NPAC SMS shall support Cancel Subscription Version requests via a secure, NPAC SOA Low-tech Interface.
RX6-2.4	SOA to NPAC SMS Modify Subscription Versions administration requests via an NPAC SOA Low-tech Interface
NPAC SMS shall support Modify Subscription Version requests via a secure, NPAC SOA Low-tech Interface.
RX6-2.5	SOA to NPAC SMS Query Subscription Versions administration requests via an NPAC SOA Low-tech Interface
NPAC SMS shall support query of Subscription Versions via a secure, NPAC SOA Low-tech Interface.
RX6-2.6	SOA to NPAC SMS Activate Subscription Versions administration requests via an NPAC SOA Low-tech Interface
NPAC SMS shall support Activation of Subscription Versions via a secure, NPAC SOA Low-tech Interface.
RX6-2.7	SOA to NPAC SMS Disconnect Subscription Versions administration requests via an NPAC SOA Low-tech Interface
NPAC SMS shall allow NPAC personnel and users of the SOA to NPAC SMS interface to request disconnection of a Subscription Version via a secure, NPAC SOA Low-tech Interface.
RX6-3	SOA to NPAC SMS audit requests
NPAC SMS shall support SOA to NPAC SMS audit requests for all, part or one Service Provider via the NPAC SOA Low-tech Interface.
RR6-35	SOA to NPAC SMS Number Pool Block Create Request via the SOA Low-tech Interface
NPAC SMS shall allow NPAC Personnel and users of the SOA to NPAC SMS interface to request creation of a Number Pool Block via a secure, NPAC SOA Low-tech Interface.
RR6-36	SOA to NPAC SMS Number Pool Block Modify Request via the SOA Low-tech Interface
NPAC SMS shall allow NPAC Personnel and users of the SOA to NPAC SMS interface to request modification of a Number Pool Block via a secure, NPAC SOA Low-tech Interface.
RX6-4	NPAC SMS Notification Handling
NPAC SMS shall support, via a secure NPAC SOA Low-tech Interface, a method to view and locally capture notifications that have occurred for the service provider upon request.

6.6	CMIP Request Retry Requirements
RR6 15	SOA Retry Attempts - Tunable Parameter
NPAC SMS shall provide a SOA Retry Attempts tunable parameter which defines the number of times a message will be sent to a SOA which has not acknowledged receipt of the message.
RR6 16	SOA Retry Interval - Tunable Parameter
NPAC SMS shall provide a SOA Retry Interval tunable parameter, which defines the delay between sending a message to a SOA that has not acknowledged receipt of the message.
RR6 17	SOA Retry Attempts - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the SOA Retry Attempts tunable parameter.
RR6 18	SOA Retry Interval - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the SOA Retry Interval tunable parameter.
RR6 19	SOA Retry Attempts - Tunable Parameter Default
NPAC SMS shall default the SOA Retry Attempts tunable parameter to 3 times.
RR6 20	SOA Retry Interval - Tunable Parameter Default
NPAC SMS shall default the SOA Retry Interval tunable parameter to 2 minutes.
RR6 21	SOA Activation Failure Retry
NPAC SMS shall resend the message a SOA Retry Attempts tunable parameter number of times to a SOA that has not acknowledged the receipt of the message once the SOA Retry Interval tunable parameter expires.
RR6 22	LSMS Retry Attempts - Tunable Parameter
NPAC SMS shall provide an LSMS Retry Attempts tunable parameter which defines the number of times a message will be sent to a Local SMS which has not acknowledged receipt of the message.
RR6 23	LSMS Retry Interval - Tunable Parameter
NPAC SMS shall provide an LSMS Retry Interval tunable parameter, which defines the delay between sending a message to a Local SMS that has not acknowledged receipt of the message.
RR6 24	LSMS Retry Attempts - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the LSMS Retry Attempts tunable parameter.
RR6 25	LSMS Retry Interval - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the LSMS Retry Interval tunable parameter.
RR6 26	LSMS Retry Attempts - Tunable Parameter Default
NPAC SMS shall default the LSMS Retry Attempts tunable parameter to 3 times.
RR6 27	LSMS Retry Interval - Tunable Parameter Default
NPAC SMS shall default the LSMS Retry Interval tunable parameter to 2 minutes.
RR6 28	LSMS Activation Failure Retry
NPAC SMS shall resend the message an LSMS Retry Attempts tunable parameter number of times to a Local SMS that has not acknowledged the receipt of the message once the LSMS Retry Interval tunable parameter expires.
6.7	Notification Recovery -- General
RR6-29	Notification Recovery
NPAC SMS shall support recovery of all CMIP notifications defined in the IIS that are emitted over the NPAC SMS to Local SMS and SOA to NPAC SMS interfaces.  Examples of notifications to be recovered include:
•	subscriptionVersionNewNPA-NXX
•	subscriptionVersionDonorSP-CustomerDisconnectDate
•	subscriptionVersionAudit-DiscrepancyRpt
•	subscriptionAuditResults
•	lnpNPAC-SMS-Operational-Information 
•	subscriptionVersionNewSP-CreateRequest (time sensitive T1 New SP)
•	subscriptionVersionOld-SP-ConcurrenceRequest (time sensitive T1 Old SP)
•	subscriptionVersionOldSPFinalWindowExpiration (time sensitive T2 Old SP)
•	subscriptionVersionStatusAttributeValueChange
•	numberPoolBlockStatusAttributeValueChange
•	attributeValueChange
•	objectCreation
•	objectDeletion
	
	For a complete list of notifications reference the IIS.
	RR6-30 	Notification Recovery – Order of Recovery
	NPAC SMS shall recover all notifications, failed or successful, in time sequence order when notification recovery is requested by the SOA or LSMS.
	RR6-31 	Notification Recovery – Time Range Limit
	NPAC SMS shall use the Maximum Download Duration Tunable to limit the time range requested in a notification recovery request.
	RR6-32 	Notification Recovery – SOA and LSMS Independence
	NPAC SMS shall support the recovery of notifications for the SOA and LSMS as independent requests.
	RR6-33 	Notification Recovery – SOA Notifications
	NPAC SMS shall allow the SOA to only recover SOA notifications.
	RR6-34	 Notification Recovery – LSMS Notifications
NPAC SMS shall allow the LSMS to only recover LSMS notifications.
6.8	Network Data Recovery
RR6-37	Network Data Recovery
NPAC SMS shall provide a mechanism that allows a SOA or LSMS to recover network data downloads that were missed during a broadcast to the SOA or LSMS.
RR6-38	Network Data Recovery – Order of Recovery
NPAC SMS shall recover all network data download broadcasts in time sequence order when network data recovery is requested by the SOA or LSMS.
RR6-39	Network Data Recovery – Time Range Limit
NPAC SMS shall use the Maximum Download Duration Tunable to limit the time range requested in a network data recovery request.
RR6-40	Network Data Recovery – SOA and LSMS Independence
NPAC SMS shall support the recovery of network data for the SOA and LSMS as independent requests.
RR6-41	Network Data Recovery – SOA Network Data
NPAC SMS shall allow the SOA to only recover network data downloads intended for the SOA.
RR6-42	Network Data Recovery – LSMS Network Data
NPAC SMS shall allow the LSMS to only recover network data downloads intended for the LSMS.
RR6-43	Network Data Recovery – Network Data Criteria
NPAC SMS shall support the following network data download criteria:
•	Time-range (optional)
•	Single Service Provider or all Service Providers (required)
RR6-44	Network Data Recovery – Network Data Choices
NPAC SMS shall require one of the following network data download choices:
•	npa-nxx-data (with one of the two selections below)
	npa-nxx-range
	all
•	lrn data (with one of the two selections below)
	lrn-range
	all
•	all network data
•	npa-nxx-x-data (with one of the two selections below)
	npa-nxx-x-range
	all
RR6-45	Resynchronization of Number Pool NPA-NXX-X Holder Information – Local SMS NPA-NXX-X Indicator set to TRUE
NPAC SMS shall process a Service Provider request to download Network data over the NPAC SMS to Local SMS Interface, when a Service Provider establishes an association with the resynchronization flag set to TRUE, and the download of NPA-NXX-X (or ALL) is TRUE, and shall send the NPA-NXX-X portion of the Network data when the Service Provider's NPAC Customer LSMS NPA-NXX-X Indicator is set to TRUE.  (Previously N-380)
RR6-46	Resynchronization of Number Pool NPA-NXX-X Holder Information – Local SMS NPA-NXX-X Indicator set to FALSE
NPAC SMS shall process a Service Provider request to download Network data over the NPAC SMS to Local SMS Interface, when a Service Provider establishes an association with the resynchronization flag set to TRUE, and the download of NPA-NXX-X (or ALL) is TRUE, and shall suppress the NPA-NXX-X portion of the Network data when the Service Provider's NPAC Customer LSMS NPA-NXX-X Indicator is set to FALSE.  (Previously N-390)
RR6-47	Resynchronization of Number Pool NPA-NXX-X Holder Information – NPA-NXX-X resync and queuing of messages to Local SMS
NPAC SMS shall queue up a single instance of all messages to the Local SMS, via the NPAC SMS to Local SMS Interface, when a Service Provider establishes an association with the NPAC SMS and where the resynchronization flag is set to TRUE.  (Previously N-392)
RR6-48	Resynchronization of Number Pool NPA-NXX-X Holder Information – NPA-NXX-X resync and sending of queued messages to Local SMS
NPAC SMS shall send queued up messages to the Local SMS, via the NPAC SMS to Local SMS Interface, when a Service Provider has sent a message to the NPAC SMS that resynchronization has been completed.  (Previously N-394)
RR6-49	Resynchronization of Number Pool NPA-NXX-X Holder Information – Filters on NPA-NXX-X resync to Local SMS
NPAC SMS shall apply NPA-NXX Filters to NPA-NXX-X resynchronization to the Local SMS(s) via the NPAC SMS to Local SMS Interface.  (Previously N-400)
RR6-50	Resynchronization of Number Pool NPA-NXX-X Holder Information – SOA NPA-NXX-X Indicator set to TRUE
NPAC SMS shall process a Service Provider request to download Network data over the SOA to NPAC SMS Interface, when a Service Provider establishes an association with the resynchronization flag set to TRUE, and the download of NPA-NXX-X (or ALL) is TRUE, and shall send the NPA-NXX-X portion of the Network data when the Service Provider's NPAC Customer SOA NPA-NXX-X Indicator is set to TRUE.  (Previously N-410)
RR6-51	Resynchronization of Number Pool NPA-NXX-X Holder Information – SOA NPA-NXX-X Indicator set to FALSE
NPAC SMS shall process a Service Provider request to download Network data over the SOA to NPAC SMS Interface, when a Service Provider establishes an association with the resynchronization flag set to TRUE, and the download of NPA-NXX-X (or ALL) is TRUE, and shall suppress the NPA-NXX-X portion of the Network data when the Service Provider's NPAC Customer SOA NPA-NXX-X Indicator is set to FALSE.  (Previously N-420)
RR6-52	Resynchronization of Number Pool NPA-NXX-X Holder Information – NPA-NXX-X resync and queuing of messages to SOA
NPAC SMS shall queue up a single instance of all messages to the SOA, via the SOA to NPAC SMS Interface, when a Service Provider establishes an association with the NPAC SMS and where the resynchronization flag is set to TRUE.  (Previously N-430)
RR6-53	Resynchronization of Number Pool NPA-NXX-X Holder Information – NPA-NXX-X resync and sending of queued messages to SOA
NPAC SMS shall send queued up messages to the SOA, via the SOA to NPAC SMS Interface, when a Service Provider has sent a message to the NPAC SMS that resynchronization has been completed.  (Previously N-440)
RR6-54	Resynchronization of Number Pool NPA-NXX-X Holder Information – Filters on NPA-NXX-X resync to SOA
NPAC SMS shall apply NPA-NXX Filters to NPA-NXX-X resynchronization to the SOA(s) via the SOA to NPAC SMS Interface.  (Previously N-450)
6.9	Subscription Data Recovery
RR6-55	Subscription Data Recovery 
NPAC SMS shall provide a mechanism that allows an LSMS to recover subscription data downloads that were missed during a broadcast to the LSMS.
RR6-56	Subscription Data Recovery – Order of Recovery
NPAC SMS shall recover subscription data download broadcasts in time sequence order when subscription data recovery is requested by the LSMS.
RR6-57	Subscription Data Recovery – Time Range Limit
NPAC SMS shall use the Maximum Download Duration Tunable to limit the time range requested in a subscription data recovery request.
RR6-58	Subscription Data Recovery – Subscription Data Choices
NPAC SMS shall require an LSMS to specify one of the following choices in a subscription data recovery request:
•	time-range
•	TN
•	TN-range (NPA-NXX-XXXX) – (YYYY)
RR6-59	Subscription Data Recovery – Full Failure SV
NPAC SMS shall exclude Subscription Versions with a status of failed, when subscription data recovery is requested by the LSMS.
RR6-60	Subscription Data Recovery – SV Timestamp for Requested Time Range
NPAC SMS shall use the Subscription Version’s Broadcast Timestamp value to determine if an SV falls within the requested time range for a subscription data recovery request.
RR6-61	Subscription Data Recovery – Removal of Service Provider from Failed List
NPAC SMS shall remove a Service Provider from the Failed SP List of an SV, upon successful recovery of the subscription data.
RR6-62	Subscription Data Recovery – Successful Recovery of SV Data and Removal of Service Provider from Failed List – Both Service Providers
NPAC SMS shall send, to the Old and New Service Providers, the status and a list of all Local SMSs that currently exist on the Failed SP List of an SV, upon successful recovery of the subscription data, with the exception of modify active or disconnect requests.
RR6-63	Subscription Data Recovery – Successful Recovery of SV Data and Removal of Service Provider from Failed List – New Service Provider Only
NPAC SMS shall send, to the New Service Provider only, the status and a list of all Local SMSs that currently exist on the Failed SP List of an SV, upon successful recovery of the subscription data, specific to modify active or disconnect requests.
RR6-64	Number Pool Block Holder Information Resynchronization – Block
NPAC SMS shall process a Service Provider request to download Block data over the NPAC SMS to Local SMS Interface, when a Service Provider establishes an association with the resynchronization flag set to TRUE, and requests Block data based on criteria sent to the NPAC SMS upon association.  (Previously B-690)
RR6-65	Number Pool Block Holder Information Resynchronization – Block Criteria
NPAC SMS shall accept criteria for Block data, of either Time Range in GMT or Block Range entry fields, where the Time Range in GMT includes the starting time in GMT and ending time in GMT based on the Activation Start Timestamp/Disconnect Broadcast Timestamp/Modify Broadcast Timestamp, and the Block Range includes the starting Block and ending Block.  (Previously B-691)
NOTE:  If the Block Range was 303-242-2 through 303-355-6, the range would contain all Blocks within the TN Range of 303-242-2000 through 303-355-6999.
RR6-66	Number Pool Block Holder Information Resynchronization – Block Range Tunable Parameters
NPAC SMS shall use the existing Subscription Version tunables for Maximum Download Duration and Maximum Number of Download Records, as defined in the Functional Requirements Specification’ s Appendix C, for Blocks that can be resynchronized by a Local SMS.  (Previously B-695)
RR6-67	Number Pool Block Holder Information Resynchronization – Rejection of Block Criteria
NPAC SMS shall reject a resynchronization request, if the criteria of either Time Range or Block Range, exceeds the current values of the Maximum Download Duration or Maximum Number of Download Records tunables.  (Previously B-698)
RR6-68	Number Pool Block Holder Information Resynchronization – Block resync and queuing of messages
NPAC SMS shall queue up a single instance of all messages to the Local SMS, via the NPAC SMS to Local SMS Interface, when a Service Provider establishes an association with the NPAC SMS and where the resynchronization flag is set to TRUE.  (Previously B-700)
RR6-69	Number Pool Block Holder Information Resynchronization – Block resync and sending of queued messages
NPAC SMS shall send, queued up messages to the Local SMS, via the NPAC SMS to Local SMS Interface, when a Service Provider has sent a message to the NPAC SMS that resynchronization has been completed.  (Previously B-710)
RR6-70	Number Pool Block Holder Information Resynchronization – Filters on Block resync
NPAC SMS shall apply NPA-NXX Filters to Block resynchronization to the Local SMS(s), via the NPAC SMS to Local SMS Interface.  (Previously B-720)
RR6-71	Number Pool Block Holder Information Resynchronization – Update to Failed SP List
NPAC SMS shall update the Block Failed SP List and Subscription Version Failed SP List, by removing the resyncing Local SMS, upon a successful response to a resynchronization request to a previously failed EDR Local SMS, as defined in RR3-138.1 and RR3-138.2.  (Previously B-730)
RR6-72	Number Pool Block Holder Information Resynchronization – Status Update to Block after Successful Resynchronization
NPAC SMS shall update the status of the Block, specified in the resynchronization request for a Block Creation, Modification, or Deletion, at the completion of the resynchronization to the Local SMS, as defined in RR3-137.1, RR3-137.2, RR3-137.3, and RR3-137.4.  (Previously B-740)
RR6-73	Number Pooling Subscription Version Information Resynchronization – Filters on Subscription Versions Resync
NPAC SMS shall filter out Subscription Versions with LNP Type of POOL for Resynchronization of Subscription Version data, when the resyncing Service Provider has an EDR Indicator set to TRUE.  (Previously SV-522)
RR6-74	Number Pooling Subscription Version Information Resynchronization – Disconnect or Port-To-Original of a TN within a Pooled 1K Block
NPAC SMS shall examine a Service Provider's EDR Indicator, at the time of resync, to determine the message to resync, for a disconnect or a Port-To-Original Subscription Version of a ported pooled TN, where the TN is contained within a Pooled 1K Block.  (Previously SV-530)
RR6-75	Number Pooling Subscription Version Information Resynchronization – Disconnect TN within a Pooled 1K Block to EDR Local SMS
NPAC SMS shall, for a resync of a disconnect Subscription Version of a ported pooled TN, where the TN is contained within a Pooled 1K Block, allow the EDR Local SMS to recover the Delete request of the Subscription Version that was active prior to the disconnect broadcast, regardless of it’s status, to an EDR Local SMS.  (Previously SV-540)
NOTE:  The NPAC SMS will resync an M-DELETE, to an EDR Local SMS, of the Subscription Version (SV1) that was active prior to the disconnect request (SV2), as defined in the IIS Flows for Disconnect of a Ported Pooled Number, and regardless of the status on SV1.
RR6-76	Number Pooling Subscription Version Information Resynchronization – Disconnect TN within a Pooled 1K Block to non-EDR Local SMS
NPAC SMS shall, for a resync of a disconnect Subscription Version of a ported pooled TN, where the TN is contained within a Pooled 1K Block, allow the non-EDR Local SMS to recover the Create request of the Subscription Version that was created to restore default routing, regardless of it’s status, and regardless of the status of the Subscription Version that was active prior to the disconnect broadcast, to a non-EDR Local SMS.  (Previously SV-550)
NOTE:  The NPAC SMS will resync an M-CREATE, to a non-EDR Local SMS, of the Subscription Version (SV2) that was created to restore default routing (SV1), even though the Failed SP List resides on SV1, as defined in the IIS Flows for Disconnect of a Ported Pooled Number, and regardless of the status on SV1 and SV2.
RR6-77	Number Pooling Subscription Version Information Resynchronization –Port-To-Original TN within a Pooled 1K Block to EDR Local SMS
NPAC SMS shall, for a resync of a Port-To-Original Subscription Version of a ported pooled TN, where the TN is contained within a Pooled 1K Block, allow the EDR Local SMS to recover the Delete request of the Subscription Version that was active prior to the Port-To-Original broadcast, regardless of it’s status, and regardless of the status of the Subscription Version that is used to generate the Port-To-Original request to the NPAC SMS, to an EDR Local SMS.  (Previously SV-560)
NOTE:  The NPAC SMS will resync an M-DELETE, to an EDR Local SMS, of the Subscription Version (SV1) that was active prior to the Port-To-Original request (SV2), even though the Failed SP List resides on SV2, as defined in the IIS Flows for a Port-To-Original of a Ported Pooled Number, and regardless of the status on SV1 and SV2.
RR6-78	Number Pooling Subscription Version Information Resynchronization – Port-To-Original TN within a Pooled 1K Block to non-EDR Local SMS
NPAC SMS shall, for a resync of a Port-To-Original Subscription Version of a ported pooled TN, where the TN is contained within a Pooled 1K Block, allow the non-EDR Local SMS to recover the Create request of the Subscription Version that was created to restore default routing, and shall NOT allow the non-EDR Local SMS to recover the Delete request of the Subscription Version that was active prior to the Port-To-Original broadcast, regardless of it’s status, regardless of the status of the Subscription Version that is used to generate the Port-To-Original request to the NPAC SMS, and regardless of the status of the Subscription Version that was created to restore default routing, to a non-EDR Local SMS.  (Previously SV-570)
NOTE:  The NPAC SMS will resync an M-CREATE, to a non-EDR Local SMS, of the Subscription Version (SV3) that was created to restore default routing, and will NOT resync an M-DELETE of the Subscription Version (SV1) that was active prior to the Port-To-Original request (SV2), even though the Failed SP List resides on SV2, as defined in the IIS Flows for a Port-To-Original of a Ported Pooled Number, and regardless of the status on SV1, SV2, and SV3.
 
7.	Security
7.1	Overview
In addition to the general security requirements based on the user interface paradigm, there are requirements for the security on an OSI application-to-application interface (such as the one specified in Section 6, NPAC SMS Interfaces, for the SMS to SMS and SMS to SOA interfaces).
7.2	Identification
The NPAC will accept only authorized NPAC customers through interface connections, and among NPAC customers, the NPAC will make appropriate limitations on their actions (for example, letting only old or new Service Providers view a pending record).  The NPAC will only accept authorized customer user IDs.  However, the NPAC will make no distinction among an NPAC customer’s employees; the NPAC customer and their systems must control individual NPAC customer employee actions.
A user identification is a unique, auditable representation of the user's identity within the system. The NPAC SMS requires all system users, both individuals and remote machines, to be uniquely identified to support individual accountability over the NPAC Administrative and NPAC SOA Low-tech Interfaces.
R7 l	Unique User Identification Codes - Individuals
NPAC SMS shall require unique user identification codes (userids) to identify all NPAC and Service Provider personnel.
R7 2	Assigned Userid Identification
NPAC SMS shall require NPAC and Service Provider personnel to identify themselves with their assigned userId before performing any actions.
R7 3	Current Active User List Maintenance
NPAC SMS shall maintain internally the identity of all NPAC and Service Provider personnel logged on to the NPAC SMS.
R7 4	User Invoked Processes 
NPAC SMS shall have for every process running an associated userId of the invoking user (or the userId associated with the invoking process).
R7 5.1	Userids, Unused - Disabling
NPAC SMS shall disable userids after a period of time during which the userId has not been used.
R7-5.2	Unused Userid Disable Period - Tunable Parameter
NPAC SMS shall provide an Unused Userid Disable Period tunable parameter which is defined as the number of days for which the userId has not been used.
R7-5.3	Unused Userid Disable Period - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS administrator to modify the Unused Userid Disable Period tunable parameter time period.
R7-5.4	Unused Userid Disable Period - Tunable Parameter Default
NPAC SMS shall default the Unused Userid Disable Period tunable parameter to 60 days.
R7-6.1	Userids, Disabled - Reinstatement
NPAC SMS shall provide a complementary mechanism or procedure for the re instatement disabled userids.
R7-6.2	Userids - Deletion
NPAC SMS shall provide a procedure for the deletion of userids.
R7-7	Userids - Temporary Disabling
NPAC SMS shall support the temporary disabling of userids.
R7-8	Userids, Disabled - Automatic Reactivation
NPAC SMS shall provide an option for automatic reactivation of disabled userids.
R7-9.1	Userids - One Active Login 
NPAC SMS shall control and limit simultaneous active usage of the same userids by allowing only one active login.
R7-9.2	Second Login Attempt
NPAC SMS shall present the NPAC or Service Provider personnel with an option of disconnecting the first login and continuing the second login or terminating the second login, when a second login is entered.
7.3	Authentication
The identity of all NPAC SMS system users, both individuals and remote machines, must be verified or authenticated to enter the system, and to access restricted data or transactions over the NPAC Administrative and NPAC SOA Low-Tech Interfaces. 
R7 10	User Authentication
NPAC SMS shall authenticate the identity of all NPAC and Service Provider users of the NPAC Administrative and NPAC SOA Low-tech Interfaces prior to their initially gaining access to NPAC SMS.
R7 12	Authentication Data Protection 
NPAC SMS shall protect all internal storage of authentication data so that it can only be accessed by an NPAC Security Administrator user.
7.3.1	Password Requirements
R7 13	Passwords - Non-shared
NPAC SMS shall require a single password entry for each userId.
R7 14	Passwords - Userid Unique
NPAC SMS shall allow a user to define a password that is already associated with another userId.
R7 15	Passwords - One Way Encrypted
NPAC SMS shall store passwords in a one way encrypted form.
R7 16	Passwords, Encrypted - Privileged Users Access Control
NPAC SMS shall only allow access to encrypted passwords by authorized users.
R7 18	Passwords, Entry - Automatic Clear Text Suppression
NPAC SMS shall automatically suppress or fully blot out the clear text representation of the password on the data entry device.
R7 19	Passwords - Network Transmission Clear Text Suppression 
NPAC SMS shall ensure that passwords sent over public or external shared data networks are encrypted.
R7 20	Passwords - Non-Null
NPAC SMS shall require non-null passwords.
R7 21	Passwords - User-Changeable
NPAC SMS shall provide a mechanism to allow passwords to be user changeable. This mechanism shall require re authentication of the user identity.
R7 22	Passwords - Reset Capability
The NPAC SMS shall have a mechanism to reset passwords.
R7 23.1	Passwords - Aging Enforcement
NPAC SMS shall enforce password aging.
R7 23.2	Password Aging Default
NPAC SMS shall default the system password aging to 90 days.
R7-24.1	Passwords - Expiration Notification
NPAC SMS shall notify users a NPAC specifiable period of time prior to their password expiring. The system supplied default shall be seven days.
R7-24.2	Passwords - Expiration Notification Default
NPAC SMS shall default the password expiration notification time period to seven days
R7-24.3	Passwords - Require User to Enter New Password
NPAC SMS shall require any user whose password has expired to enter a new password before allowing that user access to the system.
R7 25.1	Passwords - Non-Reusable
NPAC SMS shall ensure that a password can not be reused by the same individual for specifiable period of time.
R7 25.2	Password Reuse Default
NPAC SMS shall default the time period in which a password can not be reused to six months.
R7-26.1	Passwords - Minimum Structure Standard #1  
Passwords shall contain a combination of at least six case-sensitive alphanumeric characters including at least one alphabetic and one numeric or punctuation character.
R7-26.2	Passwords - Associated Userid
NPAC SMS shall ensure that passwords do not contain the associated userId.
R7-27.1	Password Generator
NPAC SMS shall provide a password generator.
R7-27.2	Passwords, System Generated - Attack Resistant
NPAC SMS shall ensure that generated passwords are "reasonably" resistant to brute force password guessing attacks.
R7-27.3	Passwords, System Generated - Random
NPAC SMS shall ensure that the generated sequence of passwords have the property of randomness.
7.4	Access Control
Access to the NPAC SMS and other resources will be limited to those users that have been authorized for that specific access right.
7.4.1	System Access
R7 28.1	System Access - Individuals
NPAC SMS shall allow access to authorized individual users.
R7 28.2	System Access - Remote Machines
NPAC SMS shall allow access to authorized remote systems.
R7 29.1	System Access, User Information - Entry 
NPAC SMS shall provide a facility for the initial entry of authorized user and associated authentication information.
R7 29.2	System Access, User Information - Modification 
NPAC SMS shall provide a facility for the modification of authorized user and associated authentication information.
R7 31	System Access, Login - Trusted Communication
NPAC SMS's login procedure shall be able to be reliably initiated by the user, i.e., a trusted communications path should exist between NPAC SMS and the user during the login procedure.
R7 32.1	System Access - Disconnect User 
NPAC SMS shall disconnect end users after a period of non use.
R7 32.2	Non-use Disconnect Tunable Parameter
NPAC SMS shall default the Non-use Disconnect tunable parameter to 60 minutes.
R7 33.1	System Access - User Authentication Failure  
NPAC SMS shall exit and end the session if the user authentication procedure is incorrectly performed a specifiable number of times.
R7 33.2	Incorrect Login Exit Default
NPAC SMS shall default the number of allowable incorrect login attempts to 3.
R7 34	System Access, User Authentication Failure - Notification 
NPAC SMS shall provide a mechanism to immediately notify the NPAC SMS system administrator when the threshold in R7-33.1 is exceeded.
R7 35.1	System Access - Login Process I/O Port Restart 
NPAC SMS shall restart the login process when the threshold in R7-33.1 has been exceeded and a specified interval of time has passed.
R7 35.2	Login Process Restart Default
NPAC SMS shall default the time interval to restart the login process to 60 seconds.
R7 36	System Access, User Authentication Failure - Userid Non-Suspension 
NPAC SMS shall not suspend the userId upon exceeding the threshold in R7-33.1.
R7 37	System Access, User Authentication Procedure - Entry
NPAC SMS shall perform the entire user authentication procedure even if the userId that was entered was not valid.
R7 38	System Access, User Authentication Procedure Entry - Error Feedback 
NPAC SMS shall only provide error feedback of "invalid".
R7 39	System Access, User Authentication Procedure Entry - Time Parameters 
NPAC SMS shall provide a mechanism to restrict user login based on time-of-day, day of week, and calendar date.
R7 40.1	System Access, User Authentication Procedure Entry - Method
NPAC SMS shall provide a mechanism to restrict user login based on method of entry.
R7 40.2	System Access, User Authentication Procedure Entry - Location
NPAC SMS shall provide a mechanism to restrict user login based on user system location.
R7 41	System Access, User Authentication Procedure Entry - Dial-Up Limitations 
NPAC SMS shall provide a mechanism to limit the users authorized to access the system via dial up facilities.
R7 42.1	System Access - Network Basis 
NPAC SMS shall provide a mechanism to limit system entry for privileged NPAC SMS users on a specifiable network access.
R7 42.2	System Access - Per-Port Basis 
NPAC SMS shall provide a mechanism to limit system entry for privileged NPAC SMS users on a specifiable per port basis.
R7 43.1	System Access, Network Authentication
NPAC SMS shall provide a strong authentication mechanism for network access.
R7-43.2	Internet Access
NPAC SMS shall use authentication of public encryption keys for users accessing the NPAC SMS over the Internet.
R7-43.3	Dial-in Access
NPAC SMS shall use smart cards to authenticate users accessing the NPAC SMS via dial-up.
R7-44	System Access - Secure Logoff Procedures 
NPAC SMS shall provide a mechanism to end the session through secure logoff procedures.
R7 46	System Access, Unauthorized Use Message - Specifiable 
NPAC SMS shall ensure that the message is NPAC SMS specifiable to meet their own requirements, and any applicable laws.
R7 47.1	System Access, Unauthorized Use Message - Specifiable 
NPAC SMS shall be able to display an advisory warning message of up to 20 lines in length prior to login.
R7 47.2	Advisory Warning Message Default
NPAC SMS shall default the pre-login advisory warning message to the following:
NOTICE:  This is a private computer system.
Unauthorized access or use may lead to prosecution.
R7-48.1	System Access - User’s Last Successful Access
NPAC SMS shall display the date and time of the user's last successful system access upon successful login.
R7-48.2	System Access - User’s Unsuccessful Access Attempts
NPAC SMS shall display the number of unsuccessful attempts by that userId to access the system, since the last successful access by that userId upon successful login.
R7 49.1	System Access, Security Administration - Authorize Users  
NPAC SMS shall only allow the NPAC Security Administrator to authorize users.
R7 49.2	System Access, Security Administration - Revoke Users  
NPAC SMS shall only allow the NPAC Security Administrator to revoke users.
R7 50.1	System Access, Security Administration -Adding Users 
NPAC SMS shall provide security documentation that defines and describes procedures for adding users.
R7 50.2	System Access, Security Administration -Deleting Users 
NPAC SMS shall provide security documentation that defines and describes procedures for deleting users.
7.4.2	Resource Access
R7 51	Data Access for Authorized Users
NPAC SMS shall allow only authorized users to access the data that is part of or controlled by the SMS system.
R7-52	Service Provider Data Protected
NPAC SMS shall protect service provider data from access by unauthorized users.
R7-53.1	Authorized User Access to Software
NPAC SMS shall ensure that only NPAC system administrators can access the software files that constitute the NPAC SMS.
R7-53.2	Authorized User Access to Transactions
NPAC SMS shall ensure that only authorized users can access the transactions that constitute the NPAC SMS.
R7-53.3	Authorized User Access to Data
NPAC SMS shall ensure that only authorized NPAC Administrative and NPAC SOA Low-tech Interfaces users can access the data generated by the transactions that constitutes the SMS.
R7 54.1	Access Control of Executable Software
NPAC SMS shall ensure that the executable and loadable software is access controlled for overwrite and update, as well as execution rights.
R7 55	Access Control of Resources
NPAC SMS shall ensure that control of access to resources is based on authenticated user identification.
R7 56	Use of Encryption
NPAC SMS shall ensure that userId and password is used as a primary access control for direct login and system ID is used for primary access control to the SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface.
R7 57	Resource Access to Users
NPAC SMS shall ensure that for software resources controlled by NPAC SMS, it must be possible to grant access rights to a single user or a group of users.
R7 58	Resource Access Denied to Users
NPAC SMS shall ensure that for software resources controlled by NPAC SMS, it must be possible to deny access rights to a single user or a group of users.
R7 60	Only NPAC Personnel Can Modify User Access
NPAC SMS shall allow only NPAC personnel to modify access rights to a resource.
R7 61	Removal of User Access Rights
NPAC SMS shall provide a mechanism to remove access rights to all software resources for a user or a group of users.
7.5	Data and System Integrity
R7 63	Identify Originator of System Resources
NPAC SMS shall identify the originator of any accessible system resources.
R7-64	Identify Originator of Information Received Across Communication Channels
NPAC SMS shall be able to identify the originator of any information received across communication channels.
R7 65.1	Monitor System Resources
NPAC SMS NMS shall use SNMP to monitor the system resources.
R7-65.2	Detect Error Conditions
NPAC SMS NMS shall use SNMP to detect error conditions.
R7-65.3	Detect Communication Errors
NPAC SMS NMS shall use SNMP to detect communication errors.
R7-65.4	Detect Link Outages
NPAC SMS NMS shall use SNMP to detect link outages.
R7 66.1	Rule Checking on Update
NPAC SMS shall ensure proper rule checking on data update.
R7-66.2	Handling of Duplicate Inputs
NPAC SMS shall handle duplicate/multiple inputs.
R7-66.3	Check Return Status
NPAC SMS shall check return status.
R7-66.4	Validate Inputs
NPAC SMS shall validate inputs for reasonable values.
R7-66.5	Transaction Serialization
NPAC SMS shall ensure proper serialization of update transactions.
R7 67	Database Integrity Checking
NPAC SMS shall include database integrity checking utilities for the NPAC SMS database.
7.6	Audit
7.6.1	Audit Log Generation
R7 68.1	Security Audit Log for After the Fact Investigation
NPAC SMS shall generate a security audit log that contains information sufficient for after the fact investigation of loss or impropriety for appropriate response, including pursuit of legal remedies.
R7-68.2	Security Audit Data Availability
NPAC SMS shall ensure that the security audit data is available on line for a minimum of 90 days.
R7-68.3	Security Audit Data Archived
NPAC SMS shall archive the security audit data off line for a minimum of two years.
R7 69	User Identification Retained
NPAC SMS shall ensure that the user identification associated with any NPAC SMS request or activity is maintained, so that the initiating user can be traceable.
R7 70	Protection of Security Audit Log Access
NPAC SMS shall protect the security audit log from unauthorized access.
R7 71.2	NPAC Personnel Delete Security Audit Log
NPAC SMS shall ensure that only authorized NPAC personnel can archive and delete any or all of the security audit log(s) as part of the archival process.
R7 72	Security Audit Control Protected
NPAC SMS shall ensure that the security audit control mechanisms are protected from unauthorized access.
R7 73.1	Log Invalid User Authentication Attempts
NPAC SMS shall write a record to the security audit log for each invalid user authentication attempt.
R7-73.2	Log NPAC SMS End User Logins
NPAC SMS shall write a record to the security audit log for logins of NPAC users.
R7-73.3	Log NPAC Personnel Activities
NPAC SMS shall write a record to the security audit log for security-controlled activities of NPAC users.
R7-73.4	Log Unauthorized Data Access
NPAC SMS shall write a record to the security audit log for unauthorized data access attempts.
R7-73.5	Log Unauthorized Transaction Access
NPAC SMS shall write a record to the security audit log for unauthorized NPAC SMS transaction functionality access attempts.
R7 74	No Disable of Security Auditing
NPAC SMS shall ensure that NPAC audit capability cannot be disabled.
R7 75	Security Audit Record Contents
NPAC SMS shall ensure that for each recorded event, the audit log contains the following:
•	Date and time of the event
•	User identification including relevant connection information
•	Type of event
•	Name of resources accessed or function performed
•	Success or failure of the event
R7 76.1	Recorded Login Attempts
NPAC SMS shall record actual or attempted logins in audit logs after an NPAC tunable parameter threshold of consecutive login failures.
7.6.2	Reporting and Intrusion Detection
R7 77.1	Exception Reports on Data Items
NPAC SMS shall provide post collection audit analysis tools that can produce exception reports on items relating to system intrusions.
R7-77.2	Exception Reports on Users
NPAC SMS shall provide post collection audit analysis tools that can produce exception reports on users relating to system intrusions.
R7-77.3	Exception Reports on Communication Failures
NPAC SMS shall provide post collection audit analysis tools that can produce exception reports on communication failures relating to system intrusions.
R7-77.4	Summary Reports on Data Items
NPAC SMS shall provide post collection audit analysis tools that can produce summary reports on data items relating to system intrusions.
R7-77.5	Summary Reports on Users
NPAC SMS shall provide post collection audit analysis tools that can produce summary reports on users relating to system intrusions.
R7-77.6	Summary Reports on Communication Failures
NPAC SMS shall provide post collection audit analysis tools that can produce summary reports on communication failures relating to system intrusions.
R7-77.7	Detailed Reports on Data Items
NPAC SMS shall provide post collection audit analysis tools that can produce detailed reports on data items relating to system intrusions.
R7-77.8	Detailed Reports on Users
NPAC SMS shall provide post collection audit analysis tools that can produce detailed reports on users relating to system intrusions.
R7-77.9	Detailed Reports on Communication Failures
NPAC SMS shall provide post collection audit analysis tools that can produce detailed reports on communication failures relating to system intrusions.
R7 78	Review User Actions
NPAC SMS shall provide a capability to review a summary of the actions of any one or more users, including other NPAC users, based on individual user identity.
R7 79.1	Monitor Network Address
NPAC SMS shall provide tools for the NPAC to monitor the message passing activities to and from a specific network address as they occur.
R7-80.1	Real-time Security Monitor
NPAC SMS NMS shall provide a real-time mechanism to monitor the occurrence or accumulation of security auditable events. Where possible, NPAC SMS shall determine and execute the least disruptive action to terminate the event.
R7-80.2	Security Event Notification
NPAC SMS NMS shall notify the NPAC personnel immediately when security event thresholds are exceeded through the SNMP agent.
7.7	Continuity of Service
R7 81	System Made Unavailable by Service Provider
NPAC SMS shall ensure that no service provider action, either deliberate or accidental, should cause the system to be unavailable to other users.
R7 82	Detect Service Degrading Conditions
NPAC SMS shall report conditions that would degrade service below a pre specified minimum, including high memory, CPU, network traffic, and disk space utilization.
R7 83	System Recovery After Failure
NPAC SMS shall provide procedures or mechanisms to allow recovery after a system failure without a security compromise.
R7 84.1	Software Backup Procedures
NPAC SMS shall have documented procedures for software backup.
R7 84.2	Data Backup Procedures
NPAC SMS shall have documented procedures for data backup.
R7-84.3	Software Restoration Procedures
NPAC SMS shall have documented procedures for software restoration.
R7-84.4	Data Restoration Procedures
NPAC SMS shall have documented procedures for data restoration.
R7 85.1	Software Version Number
NPAC SMS shall record the exact revision number of the latest software installed.
R7 85.2	Software Version Number
NPAC SMS shall display for viewing the exact revision number of the latest software via a Web bulletin board, and also through the NPA Administrative and NPAC SOA Low-tech Interfaces upon completion of the user login sequence.

7.8	Software Vendor
R7 86	Software Development Methodology
NPAC SMS shall be developed using a corporate policy governing the development of software.
R7-87	Bypass of Security
NPAC SMS shall not support any mode of entry into NPAC SMS for maintenance, support, or operations that would violate or bypass any security procedures.
R7-88	Documented Entry
NPAC SMS shall document any mode of entry into the SMS for maintenance, support, or operations.
7.9	OSI Security Environment
7.9.1	Threats
Attacks against the NPAC SMS may be perpetrated in order to achieve any of the following:
•	Denial of service to a customer by placing wrong translation information in the SMS
•	Denial of service to a customer by preventing a valid message from reaching the SMS
•	Disrupting a carrier’s operations by having numerous spurious calls (to users who are not clients of that carrier) directed to that carrier
•	Switching customers to various carriers without their consent
•	Disrupting the functioning of the NPAC SMS by swamping it with spurious messages
7.9.2	Security Services
R7 89	Authentication
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall support Authentication (at association setup).
R7 90	Data Origin Authentication
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall support data origin authentication for each incoming message.
R7 91.1	Detection of Message Replay
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall support detection of replay.
R7-91.2	Deletion of a Message
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall support detection of message deletion.
R7-91.3	Modification of a Message
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall support detection of message modification.
R7-91.4	Delay of a Message
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall support detection of message delay.
R7 92	Non repudiation of Origin
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall support non repudiation of origin.
R7 93	Access Control
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall allow only authorized parties (i.e., carriers serving a given customer) to cause changes in the NPAC SMS database.
7.9.3	Security Mechanisms
This section outlines the requirements to specify security mechanisms.
7.9.3.1	Encryption
R7 94.1	Public Key Crypto System (PKCS)
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall use a public key crypto system (PKCS) to provide digital signatures. Since there is no requirement for confidentiality service there is no need for any additional encryption algorithms.
R7-94.2	Digital Signature Algorithms
NPAC SMS shall support one of the digital signature algorithms listed in the OIW Stable Implementation Agreement, Part 12, 1995.
R7 95	RSA Encryption Modulus Size
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall require the size of the modulus of each key to be at least 600 bits for RSA encryption.
7.9.3.2	Authentication
R7 96	Digital Signature Algorithm
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall apply the digital signature algorithm to the fields specified below without any separators between those fields or any other additional characters.
•	System ID
•	System type
•	User ID
•	Departure time
•	Sequence number
	R7-97	Authenticator Contents
	SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall provide authentication consisting of the following:
•	The unique identity of the sender
•	The Generalized Time, corresponding to the issuance of the message
•	A sequence number
•	A key identifier
•	The digital signature of the sender’s identity, Generalized Time and sequence number listed above
•	Key list ID
R7 98	Authenticator in Access Control Field
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall convey the authenticator in the CMIP access control field.
7.9.3.3	Data Origin Authentication
R7 99.1	Subsequent Messages Contain Access Control Field
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall ensure that every subsequent CMIP message that contains the access control field carries the authenticator.
R7-99.2	Separate Counter for Association Sequence Numbers
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall verify that each party maintains a separate sequence number counter for each association it uses to send messages.
R7-99.3	Increment Sequence Numbers
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall verify that every time the authenticator is used the value of the sequence number will be incremented by one.
7.9.3.4	Integrity and Non-repudiation
R7 100.1	Security Field
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall ensure that all the notifications defined for the number portability application contain a security field.
R7-100.2	Security Field Syntax
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall ensure that the syntax of the security field used for the notification corresponds to the authenticator.
R7 102	Notifications in Confirmed Mode
NPAC SMS shall ensure that all the notifications are sent in the confirmed mode.
R7-103
MISSING in RFP
7.9.3.5	Access Control
R7-104	Responsible for Access Control
NPAC SMS shall be responsible for access control on the SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface.
R7-105.2	Generalized Time
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall ensure that external messages received have a generalized time in the access control information within 5 minutes of the NPAC SMS system clock.
7.9.3.6	Audit Trail
R7-106	Log Contents
SOA to NPAC SMS interface and the NPAC SMS to Local SMS interface shall keep a log of all of the following:
•	Incoming messages that result in the setup or termination of associations
•	All invalid messages (invalid signature, sequence number out of order, Generalized Time out of scope, sender not authorized for the implied request)
•	All incoming messages that may cause changes to the NPAC SMS database
7.9.3.7	Key Exchange
R7-107.1	Lists of Keys
NPAC SMS shall ensure that during a security key exchange, each party provide the other with a list of keys.
R7-107.2	Keys in Electronic Form
NPAC SMS shall provide the list of keys in a secure electronic form.
R7-107.3	Paper copy of MD5 Hashes of the Keys
The originator of the list of keys shall also provide the receiver with signed (in ink) paper copy of the MD5 hashes of the keys in the list.
R7-107.4	Key List Exchange
NPAC SMS shall support exchange of the list of keys in person or remotely.
R7-107.5	Remote Key List Exchange
NPAC SMS shall convey the lists via two different channels, diskette sent via certified mail, and a file sent via Email or FTP using encryption mechanisms if the keys are exchanged remotely.
R7-108.1	Remote Reception Acknowledgment
NPAC SMS shall support the Service Providers’ acknowledgment via 2 secure electronic forms, Email or FTP using encryption mechanisms.
R7-108.2	Acknowledgment Contents
NPAC SMS shall support the acknowledgment consisting of the MD5 hash of each one of the keys in the list.
R7-108.3	Phone Confirmation
The recipient shall call the sender by phone for further confirmation and provide the sender with the MD5 hash of the whole list.
R7-109.1	Periodic Paper List of Public Keys NPAC Uses
NPAC SMS shall generate a paper list to each Service Provider of the MD5 hashes of all the public keys used by a Service Provider once a month.
R7-109.2	Acknowledgment of Paper List of Public Keys
NPAC SMS shall verify the identity of the Service Provider to whom the MD5 hashes of the public keys was sent.
R7 110.1	List Encryption Keys
NPAC SMS shall provide each Service Provider with a numbered list of encryption keys, numbered from 1 to 1000.
R7 110.3	List Encryption Keys
NPAC SMS shall ensure unique numbering of the keys.
R7 111.1	New Encryption Key Can Be Chosen
NPAC SMS shall allow a new encryption key to be chosen with every message that contains a key identifier.
R7-111.2	Keys Not Reused
NPAC SMS shall reject messages that use a key whose usage has stopped.
R7-111.3	Compromised Keys
NPAC SMS shall allow authorized NPAC SMS personnel to initiate a new key for messages.
R7-111.4	Key Change Once Per Year
NPAC SMS shall change the key used between the NPAC SMS and Service Provider after one year of usage.
R7-111.5	Key Size Increase Per Year
NPAC SMS shall allow NPAC SMS personnel to change key sizes for Service Providers as needed to ensure secure communications between the NPAC SMS and the Service Providers.
R7-111.6	Per Service Provider Application Basis
NPAC SMS shall expect new key initiation to be requested on a per Service Provider application basis.
R7-111.7	NPAC Key Change Algorithm
NPAC SMS shall, upon determination that its key list has been compromised, change its own private key.
R7-111.8	Service Provider Key Marked Used/Invalid
NPAC SMS shall only mark an SP key as invalid or used when the service provider changes keys.
RR7-1	Load Key List
NPAC SMS shall be able to load a new key list in 15 minutes or less.
RN7-1	Authenticator Contents - Individual System Clock Accuracy
NPAC SMS shall be responsible for ensuring that the system clock is accurate to within two minutes of GMT.
RN7-2	Authenticator Contents - Zero Sequence Number
A sequence number equal to zero shall be required for association request and association response messages.
RR7-2	Modifying User Name
NPAC SMS shall provide a mechanism for authorized NPAC personnel to change a user name in the NPAC SMS.

 
8.	Audit Administration
8.1	Overview
An audit function will be necessary for troubleshooting a customer problem and also as a maintenance process to ensure data integrity across the entire LNP network. Audit will be concerned with the process of comparing the NPAC view of the LNP network with one or more of the Service Provider’s view of its network.  In the case of “on demand” audits, audits may be initiated by any Service Provider who has reason to believe a problem may exist in another Service Provider’s network.  Such audits are executed via queries to the appropriate Service Provider’s network, and corrected via downloads to those same networks.  Requirements pertaining to these requirements are given in Sections 8.2 through 8.6.
With audits, two different scenarios are supported, one designed to “sync up” the information contained in the various Local SMS databases with the content of the NPAC SMS database, the other for the NPAC to perform random integrity checks of its own database.
The local SMS will be responsible for comparing database extracts written to an FTP site by the NPAC SMS with its own version of that same data.  Note that the Service Provider network may contain several network nodes designated for local number portability and may also choose to keep its own copy in its respective SMS.  In the second scenario, the NPAC SMS will select a random sample of active Subscription Versions from its own database, then compare those samples to the representation of that same data in the various Local SMS databases.  Requirements pertaining to periodic audits are given in Section 8.7.
A8-1	Service Provider Audits Issued Immediately
NPAC SMS will process audit requests from service providers immediately.
8.2	Service Provider User Functionality
R8 1	Service Providers Audit Request - Single TN
NPAC SMS shall receive an audit request on a single telephone number from the Service Providers.
R8 2.1	Service Providers Audit Request - Range of TNs 
NPAC SMS shall receive an audit request for a range of telephone numbers from the Service Providers.
R8 3	Service Providers Specify Audit Scope
NPAC SMS shall allow Service Providers to specify the scope of an audit by specifying one or more of the following parameters:
•	Specific Service provider network or ALL Service Providers networks
•	Full audit for all LNP attributes or a partial audit where the Service Provider can specify one or more of the following LNP attributes:
	LIDB data
	CLASS data
	LRN data
	CNAM data
	ISVM data
	WSMSC data (only Service Provider Local SMSs that support this attribute will be audited on this attribute)
Default:  Full audit
8.3	NPAC User Functionality
R8-4	NPAC Personnel Audit Request - Single TN
NPAC SMS shall allow NPAC personnel to issue an audit request on a single telephone number.
R8-5.1	NPAC Personnel Audit Request - Range of TNs
NPAC SMS shall allow NPAC personnel to issue an audit request for a range of telephone numbers.
R8-6.1	Specify an Immediate Audit Request
NPAC SMS shall provide NPAC personnel and users of the SOA to NPAC SMS interface the capability to issue an audit request to be executed immediately.
R8-9	NPAC Personnel Specify Audit Scope
NPAC SMS shall allow NPAC SMS Personnel to specify the scope of an audit by specifying one or more of the following parameters:
•	Specific Service Provider network or ALL Service Providers networks.
•	Full audit for all LNP attributes or a partial audit where the Service Provider can specify one or more of the following LNP attributes:
	LIDB data
	CLASS data
	LRN data
	CNAM data
	ISVM data
	WSMSC data (only Service Provider Local SMSs that support this attribute will be audited on this attribute)
Default:  Full audit
Specify an activation Date/Time stamp range, i.e., only audit records activated between a specific time window.
R8 10	NPAC Personnel Status of Audit Request
NPAC SMS shall allow NPAC personnel to obtain the final results of an audit request.
R8-11	Audit Progress Indicators
NPAC SMS shall indicate the progress of an audit as the percentage of records audited, when supplying the status of an audit request.
R8 12	NPAC Personnel Cancel of an Audit
NPAC SMS shall allow NPAC personnel to cancel an audit request.
8.4	System Functionality
R8 15.1	NPAC Personnel View of ALL Audit Requests
NPAC SMS shall allow NPAC Personnel to view ALL audit requests including requests issued by the Service Providers.
R8-15.2	Mechanized SOA Interface Obtain Audit Requests
NPAC SMS shall allow the mechanized SOA interface to obtain all audit requests issued from that particular mechanized SOA interface.
R8-15.3	Send Audit Results to Originating SOA
NPAC SMS shall send audit results to the originating SOA.
R8 16.1	Flow of Audit Execution
NPAC SMS shall send the query resulting from the audit request to the local Service Providers' networks that are accepting Subscription Version data downloads for the given NPA-NXX via the NPAC SMS to Local SMS interface, as described in the NPAC SMS Interoperable Interface Specification.
R8 17.1	Compare NPAC SMS Subscription Versions to Service Provider Subscription Versions
NPAC SMS shall conduct a comparison of the Subscription Versions belonging to the Service Provider to its own Subscription Versions.
R8-17.2	Add TNs to Service Provider Subscription Versions 
NPAC SMS shall, following the comparison of its own Subscription Versions to the Service Provider’s Subscription Versions, broadcast to the Service Provider an update for any TN that was NOT found in the Service Provider’s Subscription Version database, where the status of the Subscription Version contains a status of Active or Partial Failure.
R8-17.3	Modify Erroneous TNs
NPAC SMS shall, following the comparison of its own Subscription Versions to the Service Provider’s Subscription Versions, modify any TN found to be in error.
R8-17.4	Delete Discrepant TNs from Service Provider Subscription Versions
NPAC SMS shall, following the comparison of its own Subscription Versions to the Service Provider’s Subscription Versions, delete any discrepant TNs from the Service Provider’s Subscription Version database.
R8 19	Record Audit Results in an Audit Log
NPAC SMS shall record all audit results in an audit log.
RR8-4	Skip Subscription Versions with a Status of Sending
NPAC SMS shall, when processing the audit query results from a Local SMS, NOT perform comparisons or attempt to correct any Subscription Version within the requested range, which has a status of sending.
RR8-5	Report No Discrepancies Found in Audit Results for Skipped Subscription Versions
NPAC SMS shall consider a skipped Subscription Version as non-discrepant, and report no discrepancies found in the audit results.
8.5	Audit Report Management
R8 20	Service Providers Audit Retrieval
NPAC SMS shall allow NPAC personnel and Service Provider personnel to retrieve an audit report for a specific audit request.
R8 21.1	Generate an Audit Report
NPAC SMS shall be capable of generating an audit report for each audit request that has been requested.
R8-21.2	Audit Report Contents
NPAC SMS shall generate an audit report containing the following information:
•	Audit request parameters which identified the scope of the audit.
•	Date and Time of Audit.
•	Progress indication.
•	Service Provider network which contains database conflict.
	A difference indicator which indicates one of the following:
•	Mismatch between the NPAC SMS and local SMS
•	Record missing in local SMS
•	An audit failure
•	No discrepancies found
R8 22	NPAC Personnel Generate and View an Audit Report
NPAC SMS shall allow NPAC and Service Provider personnel to generate and view an audit report on-line.
R8 23.1	NPAC Personnel View an In-progress Audit Report
NPAC SMS shall allow NPAC personnel to view an audit report while the audit is in progress so the current audit results can be viewed on-line up to this point.
R8 23.2	Service Providers View Results of Audits They Have Requested
NPAC SMS shall ensure that Service Providers can only view the results of those audits which they have requested.
R8 25	NPAC Personnel Specify Time Audit Results Retained
NPAC SMS shall allow NPAC personnel to specify the length of time audit results will be retained in the audit log.
8.6	Additional Requirements 
RX8-1	Valid Audit Statuses
NPAC SMS shall support the following valid audit statuses:
•	In-progress
•	Canceled
•	Complete
8.7	Database Integrity Sampling
RR8-1	Random Sampling of Active Subscription Versions
NPAC SMS shall select a random sample of active Subscription Versions to query over the NPAC SMS to Local SMS interface to monitor NPAC SMS data integrity.
RR8-2.1	Data Integrity Sample Size - Tunable Parameter
NPAC SMS shall provide a Data Integrity Sample Size tunable parameter which is defined as the number of active Subscription Versions in the sample to monitor NPAC SMS data integrity.
RR8-2.2	Data Integrity Sample Size - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the Data Integrity Sample Size tunable parameter.
RR8-2.3	Data Integrity Sample Size - Tunable Parameter Default
NPAC SMS shall default the Data Integrity Sample Size tunable parameter to 1000.
RR8-3.1	Data Integrity Frequency - Tunable Parameter
NPAC SMS shall provide a Data Integrity Frequency tunable parameter which is defined as the frequency in days that the data integrity sampling is performed.
RR8-3.2	Data Integrity Frequency - Tunable Parameter Modification
NPAC SMS shall allow the NPAC SMS Administrator to modify the Data Integrity Frequency tunable parameter.
RR8-3.3	Data Integrity Frequency - Tunable Parameter Default
NPAC SMS shall default the Data Integrity Frequency tunable parameter to seven days.  The allowable range is between one and ninety (1-90) days.
8.8	Audit Processing in a Number Pool Environment
The Audit processing that is described in this section deals with all Subscription Versions in a Number Pooling environment, whether ported, pooled, or pooled ported numbers.  Audit processing in a Number Pooling environment will use the information in the Service Provider’s profile (NPAC Customer LSMS EDR Indicator) to determine whether to send a query for a TN Range only (non-EDR Local SMSs), or a TN Range and Block (EDR Local SMSs).
RR8-6	Audit Processing for All Subscription Versions in a Number Pooling Environment
NPAC SMS shall process an audit request of an Active-Like Subscription Version(s), by performing the following steps:  (Previously A-2)
•	Validate that the audit request is valid (existing FRS functionality).
•	Validate that the Block associated with the TN contained in the Subscription Version(s), exists in the NPAC SMS.
•	Send queries of TN Range, or TN Range with Activation Timestamp, to non-EDR Local SMSs that are accepting downloads for the given NPA-NXX.
•	Send queries of Block(s) AND TN Range or TN Range with Activation Timestamp, to EDR Local SMSs that are accepting downloads for the given NPA-NXX.
•	Process non-EDR Local SMS responses using same functionality as audits for LSPP and LISP Subscription Versions.
•	Process EDR Local SMS responses for the Block(s) by doing a comparison.  If a discrepancy exists, the NPAC SMS data is considered “correct”, and a correction should be sent to the EDR Local SMS.
•	Process EDR Local SMS responses for Subscription Versions, as follows:
	LSPP and LISP – Use existing audit functionality
	POOL – “No Data” is correct response, SVs for other LNP Types need to be deleted.
•	Send audit results and notification of discrepancies, back to requesting SOA, only for the TN Range that was requested, even if other TNs were affected because of EDR Local SMS.  The existing notification report will be unchanged, and will not contain block information.  In cases were an EDR Local SMS erroneously contained a Number Pool Block, the NPAC SMS shall send a Number Pool Block delete to the Local SMS, but shall not report any discrepancy back to the requesting SOA for this Local SMS if this was the only discrepancy.
•	Suppress status change and attribute change notifications, for Subscription Versions, to the Block Holder SOA.
•	Send status change and attribute change notifications, for Blocks, to the Block Holder SOA when the SOA Origination is TRUE, and only when an audit correction causes the status and/or Failed SP List to be updated to different values.
RR8-7	Audit Discrepancy and Results Notifications for Pooled Number Subscription Versions to Requesting SOA
NPAC SMS shall, for audits of Subscription Versions with LNP Type of POOL, send notifications of discrepancies found and audit results to the requesting SOA.  (Previously A-10)
RR8-8	Audit Discrepancy and Results Notifications for Pooled Number Subscription Versions for Audited TNs
NPAC SMS shall, for audits of Subscription Versions with LNP Type of POOL, only send back notifications to the requesting SOA, of the audited TNs, even if other TNs were modified.  (Previously A-15)
RR8-9	Audit Status Attribute Value Change Notification Send for Pooled Number Blocks
NPAC SMS shall send status change notifications, for Blocks, to the Block Holder SOA when the SOA Origination is TRUE, only when an audit correction causes the status and/or Failed SP List to be updated to different values.  (Previously A-35)
NOTE:  Therefore, if an audit causes a correction to be sent to a Service Provider, and the status goes from Partial Failure-to-Sending-to-Partial Failure, nothing is sent to the Block Holder SOA; however, if an audit causes a correction to be sent to a Service Provider, and the status goes from Partial Failure-to-Sending-to-Active, a notification is sent to the Block Holder SOA.  Likewise, if a Failed SP List gets updated, a notification is sent to the Block Holder SOA.
RR8-10	Audit Attribute Value Change Notification Send for Pooled Number Blocks
NPAC SMS shall send an attribute change notifications, for Blocks, to the Block Holder SOA when the SOA Origination is TRUE, only when an audit correction causes the status and/or Failed SP List to be updated to different values.  (Previously A-36)
NOTE:  Therefore, if an audit causes a correction to be sent to a Service Provider, and the status goes from Partial Failure-to-Sending-to-Partial Failure, nothing is sent to the Block Holder SOA; however, if an audit causes a correction to be sent to a Service Provider, and the status goes from Partial Failure-to-Sending-to-Active, a notification is sent to the Block Holder SOA.  Likewise, if a Failed SP List gets updated, a notification is sent to the Block Holder SOA.
RR8-11	Audit for Pooled Numbers and Block to EDR Local SMS
NPAC SMS shall send a query for Subscription Version(s), resulting from the TN Range or TN Range with Activation Timestamp audit request for Subscription Version(s) with LNP Type of POOL, and a query for the corresponding Block of the Subscription Version(s) with LNP Type of POOL, to an EDR Local SMS that is accepting Block and Subscription Version data download for the given NPA-NXX via the NPAC SMS to Local SMS Interface.  (Previously A-40)
RR8-12	Audit Response – Ignore missing SVs for Pooled Ports at EDR Local SMS
NPAC SMS shall consider a query response of No Data, as a valid response from an EDR Local SMS, for a Subscription Version with LNP Type of POOL, and shall not include this as a discrepancy for the Subscription Version.  (Previously A-50)
RR8-13	Audit Response – Delete erroneous SVs for Pooled Ports at EDR Local SMS
NPAC SMS shall consider a query response, which contains a Subscription Version, as a discrepancy from an EDR Local SMS, for a Subscription Version with LNP Type of POOL, by sending a Subscription Version Delete message for the Subscription Version.  (Previously A-60)
RR8-14	Audit Response – Compare NPAC SMS Block to Service Provider Block at EDR Local SMS
NPAC SMS shall conduct a comparison of the Block sent back in the audit response by the EDR Local SMS, to the Block stored in the NPAC SMS.  (Previously A-80)
RR8-15	Audit Response – Block Missing from EDR Local SMS
NPAC SMS shall consider a query response of No Data related to a Block, for a Block that exists in the NPAC SMS, other than a status of Old, as a discrepant response from an EDR Local SMS, and shall send a Block Create/Activate message.  (Previously A-90)
RR8-16	Audit Response – Block Discrepant at EDR Local SMS
NPAC SMS shall consider a query response with mis-matched data for a Block, as a discrepant response from an EDR Local SMS, and shall send a Block Modify message.  (Previously A-100)
RR8-17	Audit Response – Extra Block at EDR Local SMS
NPAC SMS shall consider a query response of an existing Block, for a Block that has been de-pooled, as a discrepant response from an EDR Local SMS, when the latest version of the Block on the NPAC SMS contains a status of old, and shall send a Block Delete message.  (Previously A-110)
RR8-18	Audit Processing – Skipping In-Progress Blocks
NPAC SMS shall skip the audit of a Block with a status of Sending, such that no discrepancies will be found for the Block.  (Previously A-120)


 
9.	Reports
9.1	Overview
The NPAC SMS must support scheduled and ad hoc report generation for selectable reports. The report generation service shall create output report files according to specified format definitions, and distribute reports to output devices as requested.  A report distribution service is used to distribute report files to selected output devices.  Authorized NPAC personnel can request reports from active database, history logs, error logs, traffic measurements, usage measurements, and performance reports.
9.2	User Functionality
R9 1	NPAC Personnel Report Selection
NPAC SMS shall allow NPAC personnel using the NPAC Administrative Interface to select the type of report required.
R9 2	NPAC Personnel Selection of Output Destination
NPAC SMS shall allow NPAC personnel using the NPAC Administrative Interface to select the predefined report output destination. Destinations are printer, file system, email, display or FAX.
R9 3	NPAC Personnel Re-print of Reports
NPAC SMS shall allow NPAC personnel using the NPAC Administrative Interface to re-print reports from previously saved report outputs.
R9 4	NPAC Personnel Create Customized Reports
NPAC SMS shall allow NPAC personnel to create customized reports through an ad hoc facility.
R9 5	NPAC Personnel Define Scope and Filtering
NPAC SMS shall allow NPAC personnel to define scope and filtering for items to be included in the customized reports.
R9 6	Service Providers Receive Reports on Their Activities
NPAC SMS shall allow Service Provider personnel to receive reports on information related to their activities.
RX9 1	Service and Network Data Reports
NPAC SMS shall support the following service and network data reports for NPAC personnel using the NPAC Administrative Interface and Service Provider personnel using the NPAC SOA Low-tech Interface:
	1.	NPAC Service Tunable Parameters Report
	2.	List of Service Provider’s LRNs
	3.	Open NPA-NXXs List
RX9-2	Service Provider Reports
NPAC SMS shall support the following Service Provider reports for NPAC personnel using the NPAC Administrative Interface and Service Provider personnel using the NPAC SOA Low-tech Interface:
	4.	Service Provider Profile (Service Provider’s own data only)
	5.	Service Provider’s Subscription List by Status (Service Provider’s own data only)
RX9-3	Subscription Data Reports
NPAC SMS shall support the following subscription data reports for NPAC personnel using the NPAC Administrative Interface and Service Provider personnel using the NPAC SOA Low-tech Interface:
	6.	Subscriptions Listed by Status
	7.	Subscriptions Listed by Service Provider by Status
RX9-4	System Reports
NPAC SMS shall support the following system reports for NPAC system administration personnel using the NPAC Administrative Interface:
	8.	Overall CPU System Utilization
	9.	Storage Utilization
	10.	NPAC SMS Application Performance (SOA/LSMS Downloads per Second)
	11.	NPAC SMS Application Performance (SOA/LSMS Subscription Activation Time)
	12.	NPAC SMS-SOA Link Utilization
	13.	NPAC SMS-LSMS Link Utilization
	14.	NPAC SMS Application Performance (SOA/LSMS Response Time)
	15.	NPAC SMS Application Performance (Interface Transaction Rate)
	16.	NPAC SMS Application Performance (Provider SMS Database Sampling)
RX9-5	Security Reports
NPAC SMS shall support the following security reports for NPAC security administration personnel using the NPAC Administrative Interface:
	17.	Access Privileges Matrix
	18.	Authorized Users List
	19.	Security Log
	20.	Invalid Access Attempts
	21.	Encryption Keys List
RX9-6	Log File Reports
NPAC SMS shall support the following log file reports for NPAC personnel using the NPAC Administrative Interface:
	22.	History Report
	23.	Error Report
	24.	Service Provider Notification Report
	25.	Subscription Transaction Report
	26.	Service Provider Administration Report
	27.	Subscription Administration Report
RX9-7	Audit Reports
NPAC SMS shall support an Audit Results Report.
RX9-8	Regularly Scheduled Reports
NPAC SMS shall support the generation of regularly scheduled standard or ad hoc reports, to be provided at the request of a Service Provider.
RR9-1	Data Integrity Report – Database Sample Report
NPAC SMS shall generate an NPAC SMS data integrity report.
9.3	System Functionality
R9 9	Verification of User Privileges
NPAC SMS shall verify whether the user requesting the report has the proper viewing privileges for the selected data.
R9 10	Support of On-line File Transfer
NPAC SMS shall support on line file transfer capabilities to transfer report files.
R9 11	Transaction History Log
NPAC SMS shall maintain a History Log to keep track of transactions processed.
R9 12.1	Error Log - Transaction Errors
NPAC SMS shall maintain an Error Log to keep track of transaction errors.
R9 12.2	Error Log - Transmission Errors
NPAC SMS shall maintain an Error Log to keep track of transmission errors.
9.3.1	National Number Pooling Reports
RR9-7	Pooled Number Reports – OpGUI Report Generation
NPAC SMS shall support reports that list pooling information for NPAC personnel using the NPAC Administrative Interface and Service Provider personnel using the NPAC SOA Low-tech Interface.  (Previously RR9-7 of Appendix F: Midwest Region Number Pooling)
RR9-2	Pooled Number Reports – Query functions
NPAC SMS shall support pooled number reports that allow queries on any combination of SPID, and TN Range, where the NPAC SMS returns all TNs that meet the selection criteria.  (Previously R-10)
RR9-8	Pooled Number Reports – Block Holder Default Routing Report
NPAC SMS shall support a report that list the number pool range, the block holder, and the block holder default routing information for NPAC personnel using the NPAC Administrative Interface and Service Provider personnel using the NPAC SOA Low-tech Interface.  (Previously RR9-8 of Appendix F: Midwest Region Number Pooling)
RR9-3	Pooled Number Reports – Block Holder Default Routing Report Data Elements
NPAC SMS shall support a report that lists the number pool range, the block holder, and the block holder default routing information, that contains the Block Holder ID, Service Provider Name, and the following data elements:  (Previously R-25) 
	Block ID (primary sort)
	NPA-NXX-X (secondary sort)
	Effective Date
	LRN
	DPC (CLASS, CNAM, ISVM, LIDB and if supported WSMSC) 
	SSN (CLASS, CNAM, ISVM, LIDB and if supported WSMSC)
RR9-4	Pooled Number Reports – Block Holder Default Routing Report Page Break
NPAC SMS shall page break the report listed in RR9-3, for every change in new Block Holder ID.  (Previously R-26)
RR9-9	Pooled Number Reports – Active-Like TNs in a NPA-NXX-X Report
NPAC SMS shall support a report that list all Active-Like numbers in a 1K block (NPA-NXX-X) for a block holder, for NPAC personnel using the NPAC Administrative Interface and Service Provider personnel using the NPAC SOA Low-tech Interface.  (Previously R-30)
RR9-10	Pooled Number Reports – Active-Like TNs in a NPA-NXX-X Report Data Elements
NPAC SMS shall support a report that lists all Active-Like numbers in a 1K Block for a block holder, where the status is active/partial failure/old with a Failed SP List/disconnect pending, that contains the following data elements:  (Previously R-40)
	TN (primary sort)
	LNP Type
	Activation Start Time Stamp
	SP Name
	Status
RR9-11	Pooled Number Reports – Pending-Like No-Active and Pending-Like Port-to-Original Subscription Versions Report
NPAC SMS shall support a report, used for NPA-NXX-X and Block Creation, that contains a list of all numbers in a 1K Block, that currently have a Subscription Version with a status of pending/conflict/cancel-pending/failure, and where no active Subscription Version exists, or have a Subscription Version with a status of pending/conflict/cancel-pending/failure, and where the Subscription Version is a Port-to-Original port, for NPAC personnel using the NPAC Administrative Interface.  (Previously R-70)
RR9-12	Pooled Number Reports – Pending-Like No-Active and Pending-Like Port-to-Original Subscription Versions Report Data Elements
NPAC SMS shall support a report, used for NPA-NXX-X and Block Creation, that contains a list of all numbers in a 1K Block, that currently have a Subscription Version with a status of pending/conflict/cancel-pending/failure, and where no active Subscription Version exists, or have a Subscription Version with a status of pending/conflict/cancel-pending/failure, and where the Subscription Version is a Port-to-Original port, that contains the following data elements:  (Previously R-80)
	TN
	Old Service Provider SPID
	New Service Provider SPID
	Due Date
	Status
RR9-13	Pooled Number Reports – Pending-Like No-Active and Pending-Like Port-to-Original Subscription Versions Report Sort Priority
NPAC SMS shall sort the report listed in RR9-12, in the following order:  (Previously R-81)
	New Service Provider SPID (primary sort)
	TN (secondary sort)
RR9-14	Pooled Number Reports – Pending-Like No-Active and Pending-Like Port-to-Original Subscription Versions Report Page Break
NPAC SMS shall page break the report listed in RR9-12, for every change in SPID.  (Previously R-82)
RR9-15	Pooled Number Reports – Pending-Like With Active POOL Subscription Versions Report
NPAC SMS shall support a report, used for de-pooling, that contains a list of all numbers in a 1K Block, that currently have a Subscription Version with a status of pending/conflict/cancel-pending/failure, and where the currently active Subscription Version is LNP Type of POOL, for NPAC personnel using the NPAC Administrative Interface.  (Previously R-130)
RR9-16	Pooled Number Reports – Pending-Like With Active POOL Subscription Versions Report Data Elements
NPAC SMS shall support a report, used for de-pooling, that contains a list of all numbers in a 1K Block, that currently have a Subscription Version with a status of pending/conflict/cancel-pending/failure, and where the currently active Subscription Version is LNP Type of POOL, that contains the following data elements:  (Previously R-140)
	TN
	Old Service Provider SPID
	New Service Provider SPID
	Due Date
	Status
RR9-17	Pooled Number Reports – Pending-Like With Active POOL Subscription Versions Report Sort Priority
NPAC SMS shall sort the report listed in RR9-16, in the following order:  (Previously R-141)
	New Service Provider SPID (primary sort)
	TN (secondary sort)
RR9-18	Pooled Number Reports – Pending-Like With Active POOL Subscription Versions Report Page Break
NPAC SMS shall page break the report listed in RR9-16, for every change in new SPID.  (Previously R-142)

 
10.	Performance and Reliability
This section defines the reliability, availability, performance and capacity requirements for the NPAC SMS. The NPAC SMS will be designed for high reliability, including fault tolerance and data integrity features, symmetrical multi processing capability, and allow for economical and efficient system expansion.
Note that throughout this section, “downtime” refers to the unavailability of the NPAC service.  This is to be distinguished from cases where users can still switch to a backup machine.
The following are the availability, reliability, performance and capacity requirements for the NPAC SMS system.
10.1		Availability and Reliability
R10 1	System Availability
NPAC SMS shall be available 24 hours a day, 7 days a week with the exception of scheduled downtime and unscheduled downtime within the time frame defined in R10-3 and R10-5.
R10 2	System Reliability
NPAC SMS shall be 99.9 percent reliable. This applies to functionality and data integrity. 
R10 3	Unscheduled Downtime
NPAC SMS shall have unscheduled downtime per year less than or equal to 9 hours. 
R10 4	Mean Time to Repair for Unscheduled Downtime
NPAC SMS shall support a mean time to repair of less than or equal to 1 hour, for unscheduled downtime. 
R10 5	Scheduled Downtime
NPAC SMS shall have NPAC initiated, scheduled downtime of less than or equal to 24 hours per year.
AR10 1	Scheduled Downtime
NPAC initiated downtime as defined in R10-5 does not include downtime needed for software release updates initiated by or collectively agreed to by the Service Providers.
R10 6.1	Communication Link Monitoring
NPAC shall be capable of monitoring the status of all of its communication links.
R10-6.2	Detecting Communication Link Failures
NPAC shall be capable of detecting and reporting all communication link failures.
R10 7	Detecting Single Bit Data Transmission Errors
NPAC SMS shall be capable of detecting and correcting single bit errors during data transmission between hardware components (both internal and external). 
R10-8	Continue Transaction Processing After Downtime
NPAC SMS shall complete processing of all sending transactions at the time of system failure when the NPAC SMS resumes processing.
R10 9.1	Self Checking Logic
NPAC SMS shall support functional components with on board automatic self checking logic for immediate fault locating.
R10-9.2	Continuous Hardware Checking
NPAC SMS shall support continuous hardware checking without any performance penalty or service degradation.
R10-9.3	Duplexing of Hardware
NPAC SMS shall support duplexing of all major hardware components for continuous operation in the event of a system hardware failure.
R10-9.4	Transparent Hardware Fault Tolerance
NPAC SMS shall support hardware fault tolerance that is transparent to the Service Providers. 
R10 10.1	Service Provider Notification of System Unavailability
NPAC SMS shall notify Service Providers of the system unavailability via both the NPAC SMS to Local SMS interface and the SOA to NPAC SMS interface if the system becomes unavailable for normal operations due to any reason, including both scheduled and unscheduled maintenance.
R10-10.2	System Availability Notification Method
NPAC SMS shall notify Service Providers via their contact numbers if electronic communication is not possible.
R10-10.3	System Availability Notification Contents
NPAC SMS shall include the following information in the notification:
•	The reason for the downtime
•	When the down time will start
•	When the down time will stop
•	An NPAC contact number
	R10 11	Updates Highest Priority
	NPAC SMS shall ensure the capability of receiving, processing and broadcasting updates will be given the highest priority during any maintenance, if resources allow only partial functionality.
	R10 12.1	Tolerance to Communication Link Outages
	NPAC SMS shall provide tolerance to communication link outages and offer alternate routing for such outages.
	R10-12.2	Alternate routing
	NPAC SMS shall offer alternate routing during communication link outages.
	R10 13.1	Switch to Backup or Disaster Recovery Machine
	NPAC SMS shall, in cases where Service Providers have been switched to a backup or disaster recovery machine, adhere to a maximum time to repair of 4 hours for the primary machine. 
	R10-13.2	Time to Switch Machines
	NPAC SMS shall ensure that the time to switch the Service Providers to another machine and provide full functionality must not exceed the mean time to repair.
	R10-13.3	Total Disaster Recovery
	NPAC SMS shall restore the capability of receiving, processing and broadcasting updates within 24 hours in the event of a disaster that limits the ability of both the NPAC and NPAC SMS to function.
	R10-13.4	Full Functionality Restored
	NPAC SMS shall restore full functionality within 48 hours, in the event of a disaster that limits both the NPAC and NPAC SMS ability to function.
	R10 14	Reports on Reliability
	NPAC shall provide reliability reports documenting the following:
•	Schedule down time
•	Unscheduled down time
•	Mean time to repair
•	System availability on a monthly basis to the Service Provider
10.2		Capacity and Performance
R10 16	Capacity
NPAC SMS will have the capacity to support a user group in the NPAC sized for the region they service.
R10 18	History File Data Storage
NPAC SMS shall ensure that the data storage of the History file must keep track of all transactions made for a tunable parameter period of time (default of one year).
R10 19	Broadcast Update Response Time
NPAC SMS shall ensure that from the time an activation notice, modification or deletion request is received from a Service Provider until the time the broadcast of the update is started to all Service Provider local SMS will be less than 60 seconds.
R10 20	Request/Transaction Response Time
NPAC SMS, under normal operating conditions, shall ensure that the response time from when a request or transaction is received in the system to the time an acknowledgment is returned will be less than 3 seconds for 95% of all transactions. This does not include the transmission time across the interface to the Service Providers’ SOA or Local SMS.
R10 21	Future System Growth
NPAC SMS shall be expandable to handle future growth due to circumstances described as follows:
•	Added areas of portability
•	Added Service Providers
10.3		Requirements in RFP Not Given a Unique ID
RN10-2	Return to the Primary Machine SOA Notification
NPAC SMS shall send an electronic notification to the Service Provider’s SOA indicating the time the NPAC will switch them back to the primary machine.
RN10-3	Return to the Primary Machine Local SMS Notification
NPAC SMS shall send an electronic notification to the Service Provider’s Local SMS indicating the time the NPAC will switch them back to the primary machine.
RN10-4	Database Sync After Return to the Primary Machine
NPAC SMS shall sync up the database in its primary SMS with any updates sent to the backup or disaster recovery machine during the downtime.
 
11.	Billing
A11-2	Accounting Measurements Will Not Degrade the Basic System Performance
The resource accounting measurements will not cause degradation in the performance of the basic functions of the NPAC.
11.1		User Functionality
R11 1	Toggling the Generation of Usage Measurements 
NPAC SMS shall allow the NPAC administrator to turn on and off the recording of Service Provider usage statistics for the service elements.
11.2		System Functionality
R11 2	Generating Usage Measurements for NPAC Resources
NPAC SMS shall measure and record the usage of NPAC resources on a per Service Provider basis.
R11 3	Generating Usage Measurements for Allocated Connections
NPAC SMS shall generate usage measurements for allocated connections for each Service Provider.
R11 4	Generating Usage Measurements for Allocated Mass Storage
NPAC SMS shall generate usage measurements for the allocated mass storage (number of records stored) for each Service Provider.
R11 5	Generating Usage Measurements for the Number of Messages Processed by type
NPAC SMS shall measure the number of messages processed by type for each Service Provider.
R11 6	Generating Usage Measurements for the Number of Messages Downloaded
NPAC SMS shall measure the number of messages downloaded to each Service Provider.
R11 8	Generating Detailed Usage Measurement Reports
NPAC shall produce detailed NPAC usage reports for the contracting entity.
R11-9	Billing Report Types
NPAC SMS shall be capable of creating the following billing reports:
•	Login Session Per Service Provider
•	Allocated Mass Storage
•	Messages Processed by type (to include download data and data resent by request)
•	Audits Requested and Processed
•	Requested Report Generation
•	Service Establishment (to include Service Provider establishment, user login ID addition to the NPAC SMS, and mechanized Interface Activation)
R11-10	Full Billing Report
The NPAC SMS shall be capable of creating a full billing report, with all of the report types in R11-9 included.
R11-11	Billing Report Creation by NPAC Personnel
NPAC SMS shall allow NPAC personnel to create billing reports for all Service Provider usage. For all report types in R11-9 and R11-10, the NPAC personnel will be able to specify whether the report is an aggregation/summary of stored data or a detailed report containing every item stored for the report type.
R11-12	Billing Report Creation by Service Provider
NPAC SMS shall allow Service Providers to gather billing report data on only their NPAC SMS usage. Service Providers will not be able to create reports on any other Service Provider’s usage. For all report types in R11-9 and R11-10, the NPAC SMS shall create an aggregation/summary of stored data for the report type.
R11-13	NPAC Personnel Billing Report Destination
NPAC SMS shall allow NPAC personnel to determine the output destination of the billing report. The destinations will include: on-line (on screen), printer, file, or FAX. The default selection is on-line.
R11-14	Service Provider Billing Report Destination
NPAC SMS shall allow Service Provider users to determine the output destination of the billing report. The destinations will include: on-line (on screen) or file. The default selection is on-line.
R11-15	NPAC Personnel Only Can Access Billing System
The NPAC billing system shall be accessible only to NPAC personnel.


 
Appendix A.	Business Process Flow Diagrams
This appendix contains pictorial representations of the business process flows discussed in Section 2, Business Process Flows, on page 2-1.

 
Figure A- 1 -- NPAC Business Process Flows Legend
 
Figure A- 2 -- NPAC SMS Provision Service Process
 
Figure A- 3 -- Flow 2.1.2 NPAC SMS Subscription Version Creation Process
 
Figure A- 4 -- Flow 2.1.4 NPAC SMS Activate and Data Download Process
 
Figure A- 5 -- Flow 2.2 NPAC SMS Disconnect Process
 
Figure A- 6 -- Flow 2.3 NPAC SMS Repair Process
 
Figure A- 7 -- Flow 2.4.1 Conflict Process
 
Figure A- 8 -- Flow 2.5 NPAC SMS Disaster Recovery Process
 
Figure A- 9 -- Flow 2.6 Cancellation Process
 
Figure A- 10 -- Flow 2.7 Audit Process
 
Figure A- 11 -- Flow 2.8 Report Process



 
Appendix B.		Glossary
This glossary provides a comprehensive list of definitions and acronyms that apply to NPAC SMS.
Active-like SVs	SVs that contain a status of active, sending, partial failure, old with a Failed SP List, or disconnect pending.
Block	A range of 1000 pooled TNs within the NPA-NXX, beginning with a station of n000, and ending with n999, where n is a value between 0 and 9.
Block Holder	The recipient Service Provider of a 1K Block from the code holder.  Also defined as the NPA-NXX-X holder in the LERG.
Cascading Delete	A delete of an NPA-NXX-X where the NPAC sends deletes of Pooled SV data to non-EDR LSMSs, and sends deletes of Block data to EDR LSMSs.  Once all LSMSs have successfully deleted the Pooled data, the status of SVs and the Block is Old, and both Failed SP Lists are empty, the NPA-NXX-X is deleted.
Central Time (standard/daylight)	This is the time in the central time zone, that includes daylight savings time.  It changes twice a year based on standard time and daylight savings time.  The NPAC SMS runs on hardware that uses this time.
CLASS	Custom Local Area Signaling Services. Premium local service features, such as call forwarding or automatic callback.
CMIP	Common Management Information Protocol
CMISE	Common Management Information Service Element
CNAM	Caller Id with Name
Code Holder	The code holder is the LERG assignee of the NPA-NXX.
Contaminated Number	An unavailable number (e.g., working), within a 1K Block, at the time the 1K Block is donated to the Pooling Administrator.
De-Pool	Return of a 1K pooled block to the Number Administrator.  Also referred to as “un-allocation of the block”, or “reclamation” (INC definition).
Default Routing Restoration	Reinstatement of the default routing for the TN as defined in the applicable block information, in order to provide vacant number treatment.
DPC	Destination Point Code
EDR (Efficient Data Representation)	The ability to represent 1000 TNs as a range.
EDR within the NPAC	A storage mechanism where a 1K range of TNs is represented, stored and communicated as a Range entity.
Effective Date	The date that is considered to be the “ownership switchover” date for the 1K Block from the Code Holder (NPA-NXX owning SP) to the Block Holder ( NPA-NXX-X owning SP).  This is the date published in the LERG, and is also used by the Pooling Administrator and the NPAC.
FR	Frame Relay
GDMO	Guideline for Definition of Managed Objects
GMT	Greenwich Mean Time
GTT	Global Title Translation
ICC	Illinois Commerce Commission
ISO 	International Organization of Standardization
ISVM	Inter-Switch Voice Mail
LERG	Location Exchange Routing Guide
LIDB	Line Information Database
LNP	Local Number Portability
LRN	Location Routing Number. A routing number in the same form as a TN used to identify the TN’s serving switch when the TN is a ported number.
LSMS	Local Service Management System
LISP	Local Intra-Service Provider Portability.  Movement of end-user TN from one switch to another, but within the same Service Provider’s Network.
LSPP	Local Service Provider Portability.  Movement of end user TN from one Service Provider to another Service Provider.
MAC	Media Access Control
MD5	Message Digest (Version 5)
NANP	North American Numbering Plan. A 10-digit numbering scheme used in North America to uniquely identify a directory number.
NPA	An NPA code is the first three digits of the 10-digit destination number for all inter-NPA calls within the North America Numbering Plan Area.
NPA-NXX-X	A range of 1000 pooled TNs within the NPA-NXX, beginning with a station of n000, and ending with n999, where n is a value between 0 and 9.
NPAC Customer	Any customer of the NPAC SMS.
NPAC SMS	Number Portability Administration Center and Service Management System
NSAP	Network Layer Service Access Point
Number Pooling Block Holder Information	Data in the NPAC SMS that contains the first 7-digits of a 1K range of TNs, default routing for a block of TNs, and the activation timestamp of the TNs within the 1K range.
Number Pooling NPA-NXX-X Holder Information 	Data in the NPAC SMS that contains the first 7-digits of a range of TNs, the block holder (service provider), and the effective date of the block.  According to the NPAC definition, this is considered Network data.
NXX	A code normally used as a central office code.  It may also be used as an NPA code or special NPA code.
OCN	Operating Company Number
OSI	Open Systems Interconnect
Pending-like SVs 	SVs that contain a status of pending, conflict, cancel-pending, or failed.
PKCS	Public Key Crypto System
Port on Demand	Porting of a single TN or range of TN’s from the code holder to the block holder at a time desired by the block holder that is on, or after the effective date of the pool.  This is NOT supported by the National Number Pooling architecture.
Ported TN	A TN ported to a switch that is not the NANP-assigned switch.
PPP	Point-To-Point Protocol
Pre-Port	Porting of an entire block of TN’s from the code holder to the block holder on, or after, the effective date of the pool.  This is supported by the National Number Pooling architecture.
PSAP	Presentation Layer Service Access Point
RFP	Request for Proposal
RSA	A popular encryption algorithm whose name is derived from the initials of its inventors: Rivest, Shamir, and Adelman.
Schedule/Re-Schedule of Block Create Event	A process within the NPAC SMS that allows NPAC Personnel to create a Scheduled Event in the NPAC SMS, for a Block Create.  The Event can be immediately kicked-off, or scheduled for a future date (pending validation edits in both of these cases).
SCP	Service Control Point
SMS	Service Management System
Snapback	Notification for TN reassignment.
SOA	Service Order Activation
SP	Service Provider.  Generally refers to a facilities-based user of the NPAC SMS.
SSAP	Session Layer Service Access Point
SSN	Subsystem Number
TN	Telephone Number
TSAP	Transport Layer Service Access Point
Unique Alarmable Error Message (Code)	An individual error message in the NPAC SMS that is only used by the NPAC for the individual Number Pooling requirement where the error message is listed.  Alarming of the error message is configurable (i.e., it can either be turned ON or turned OFF).
Vacant Number	A non-working number.
Vacant Number Treatment	A recorded announcement played to the calling party, when the NPA-NXX of the TN they have dialed is valid, but the 10-digit TN is not a working number.
Version	Time-sensitive or status-sensitive instance of a subscription.
WSMSC	Wireless Short Message Service Center



 
Appendix C.		System Tunables
This appendix provides a comprehensive list of tunables identified throughout the FRS and their default values.
SUBSCRIPTION TUNABLES
Tunable Name	Default Value	Units	Valid Range
Long Initial Concurrence Window	9	business hours	1-72
The hours subsequent to the time the subscription version was initially created by which both Service Providers using long timers are expected to authorize transfer of service if this is an Inter-Service Provider port. (T1 timer)
Long Final Concurrence Window	9	business hours	1-72
The number of hours after the concurrence request is sent by the NPAC SMS by which time both Service Providers using long timers are expected to authorize transfer of subscription service for an Inter-Service Provider port. (T2 timer)
Short Initial Concurrence Window	1	business hours	1-72
The hours subsequent to the time the subscription version was initially created by which both Service Providers using short timers are expected to authorize transfer of service if this is an Inter-Service Provider port. (T1 timer)
Short Final Concurrence Window	1	business hours	1-72
The number of hours after the concurrence request is sent by the NPAC SMS by which time both Service Providers using short timers are expected to authorize transfer of subscription service for an Inter-Service Provider port. (T2 timer)
Conflict Expiration Window	30	calendar days	1-180
The length of time conflict subscriptions will remain in the conflict state before cancellation.
Maximum Subscription Query	50	records	10-150
The maximum number of subscription versions returned by a query to the NPAC.
Pending Subscription Retention	90	calendar days	1-180
The length of time pending subscriptions will remain in the pending state before cancellation.
Conflict Restriction Window	12:00	HH:MM	00:00-24:00
The time on the business day prior to the New Service Provider due date that a Subscription version is no longer allowed to be set to conflict by the Old Service Provider provided that the Create Subscription Version Final Concurrence Window (T2) timer has expired.  The Conflict Restriction Window does not apply for short timers.
Long Conflict Resolution New Service Provider Restriction	6	business hours	1-72
The number of business hours after the subscription version is put into conflict that the NPAC SMS will prevent it from being removed from conflict by the new Service Provider using long timers.
Short Conflict Resolution New Service Provider Restriction	6	Business hours	1-72
The number of business hours after the subscription version is put into conflict that the NPAC SMS will prevent it from being removed from conflict by the new Service Provider using short timers.
Long Cancellation-Initial Concurrence Window	9	Business hours	1-72
The numbers of hours after the version is set to cancel pending by which both Service Providers using long timers are expected to acknowledge the pending cancellation.
Short Cancellation-Initial Concurrence Window	9	Business hours	1-72
The numbers of hours after the version is set to cancel pending by which both Service Providers using short timers are expected to acknowledge the pending cancellation.
Long Cancellation-Final Concurrence Window	9	business hours	1-72
The number of hours after the second cancel pending notification is sent by which both Service Providers using long timers are expected to acknowledge the pending cancellation.
Short Cancellation-Final Concurrence Window	9	business hours	1-72
The number of hours after the second cancel pending notification is sent by which both Service Providers using short timers are expected to acknowledge the pending cancellation.
Old Subscription Retention	18	calendar months	1-36
The length of time old subscriptions will be retained.
Cancel-Pending Subscription Retention	90	calendar days	1-360
The length of time canceled subscriptions, with last status of pending, will be retained.
Cancel-Conflict Subscription Retention	30	calendar days	1-360
The length of time canceled subscriptions, with last status of conflict, will be retained.
Short Business Day Duration	12	calendar hours	1-24
The number of hours from the tunable business day start time for short business days.
Long Business Day Duration	12	calendar hours	1-24
The number of hours from the tunable business day start time for long business days.
Short Business Day Start Time	TBD	hh:mm	00:00 - 24:00
Parameter tunable to the value specified by the contracting region for short business days.  
Long Business Day Start Time	TBD	hh:mm	00:00 - 24:00
Parameter tunable to the value specified by the contracting region for long business days.  
Short Business Days	Monday – Friday	Days	Monday – Sunday
The business days available for Service Providers using short business days.
Long Business Days	Monday – Sat.	Days	Monday - Sunday
The business days available for Service Providers using long business days.
Table C- 1 -- Subscription Tunables

COMMUNCIATIONS TUNABLES
Tunable Name	Default Value	Units	Valid Range
Subscription Activation Retry Attempts	3	attempts	1-10
The number of times a new subscription version will be sent to a Local SMS which has not acknowledged receipt of the activation request.
Subscription Activation Retry Interval	2	minutes	1-60
The delay between sending new Subscription Versions to a Local SMS that has not acknowledged receipt of the activation request.
Subscription Modification Retry Attempts	3	attempts	1-10
The number of times a modified active subscription version will be sent to a Local SMS which has not acknowledged receipt of the modification request.
Subscription Modification Retry Interval	2	minutes	1-60
The delay between sending modified active subscription versions to a Local SMS that has not acknowledged receipt of the modification request.
Subscription Disconnect Retry Attempts	3	attempts	1-10
The number of times the NPAC SMS will resend a subscription disconnect message to an unresponsive Local SMS.
Subscription Disconnect Retry Interval	2	minutes	1-60
The amount of time that shall elapse between subscription disconnect retries.
Local SMS Retry Attempts	3	attempts	1-10
The default number of times the NPAC SMS will resend a message to an unresponsive Local SMS.
Local SMS Retry Interval	2	minutes	1-60
The default delay between sending messages to an unresponsive Local SMS.
SOA Retry Attempts	3	attempts	1-10
The default number of times the NPAC SMS will resend a message to an unresponsive SOA.
SOA Retry Interval	2	minutes	1-60
The default delay between sending messages to an unresponsive SOA.
Failed Login Attempts	3	attempts	0-10
The number of allowable incorrect logon attempts
Failed Login Shutdown Period	60	seconds	0-300
The amount of time the NPAC SMS will wait to restart the logon process after a user has exceeded the Failed_Login_Attempts tunable.
Unused User Id Disable Period	60	days	1-360
The number of days for which a userId has not been used before the NPAC SMS disables that userId.
Password Age Limit	90	days	1-360
The amount of time for password aging.
Password Expiration Notice	7	days	1-30
The amount of time prior to a password expiring that the NPAC SMS will notify a user.
Post Expiration Logins	2	logins	0-10
The number of logins a user is permitted after the user’s password has expired.
Password Reuse Limit	6	months	1-36
The amount of time in which a password cannot be reused.
Record Logons After Failure	10	attempts	0-100
The threshold for consecutive failed logon attempts after which logon attempts will be recorded in the audit log.
Non-Use Disconnect	60	minutes	1-1440
The amount of idle (non-use) time before the NPAC SMS will disconnect a user’s logon session.
Maximum Number of Download Records	10000	records	1-200000
The maximum number of records for a single data download.
Maximum Download Duration	60	minutes	1-1440
The maximum time range allowed for a data download.
Maximum Number of Download Notifications	2000	records	1-2000
The maximum number of notifications for a single notification recovery download.
Table C- 2 -- Communications Tunables

AUDIT TUNABLES
Tunable Name	Default Value	Units	Valid Range
Canceled Audit Retention Period	30	days	1-360
The length of time canceled audits will be retained.
Data Integrity Sample Size	1000	SVs	1-5000
The number of active Subscription Versions in a sample to be monitored by the NPAC SMS.
Data Integrity Sample Frequency	7	Days	1-90
The interval in days between Data Integrity Samples conducted by the NPAC SMS.
Subscription Query Record Limit	50	Subscriptions	1-5000
The maximum number of records that can be returned from a query.
Table C- 3 -- Audit Tunables

LOGS TUNABLES
Tunable Name	Default Value	Units	Valid Range
Local SMS Activation Log Retention Period	90	days	1-360
The number of days Local SMS activation responses will remain in the log.
Audit Log Retention Period	90	days	1-360
The length of time audit logs will be retained.
Error Log Retention Period	90	days	1-360
The length of time system error logs will be retained.
History File Data Storage	365	days	1-365
The length of time history logs will be retained.
Usage Log Retention	90	days	1-360
The length of time usage logs will be retained.
Table C- 4 -- Logs Tunables

KEYS TUNABLES
Tunable Name	Default Value	Units	Valid Range
Key Change Interval	365	days	1-365
How often the key is changed automatically.
Table C- 5 -- Keys Tunables

BLOCK TUNABLES
Tunable Name	Tunable Variable Name	Default Value	Units	Valid Range
NPA-NXX-X Holder Information Effective Date Window	NPA-NXX-X Holder Information Effective Date Window	5	business days	5-360
Minimum length of time between the Creation date and the effective date when creating or modifying an NPA-NXX-X.
Table C- 6 -- Block Tunables

 
Appendix D.		Encryption Key Exchange
The mechanized interface to NPAC SMS requires an exchange of the encryption keys used to verify digital signatures. This exchange will consist of a file containing the 1000 key list, and an acknowledgment of receipt of the list will consist of a file containing the MD5 checksum value of each key in the list. The formats for these files is described here.
Key Exchange File
The following table shows the format of the encryption key exchange file. This file consists of some header information, followed by 1000 instances of key information. There are no separators of any kind between the individual fields, between the header and key data, or between each set of key data.

ENCRYPTION KEY EXCHANGE FILE FORMAT
Field Number	Field Name	Type	Size (bytes)	Format
1	NPAC Customer Id 	ASCII	4	Character String
2	File Creation Date	ASCII	14	MMDDYYYYHHmmSS
3	List Id	Binary	2	16 bit integer
4	Key Size (in bits)	Binary	4	32 bit integer
5	Key Id	Binary	2	16 bit integer
6	public exponent size	Binary	2	16 bit integer
7	public exponent	Binary	variable 	integer
8	public modulus	Binary	variable 	integer
9	Key Id	Binary	2	16 bit integer
10	public exponent size	Binary	2	16 bit integer
11	public exponent	Binary	variable	integer
12	public modulus	Binary	variable	integer
. . .	. . .	. . .	. . .	. . .
4001	Key Id	Binary	2	16 bit integer
4002	public exponent size	Binary	2	16 bit integer
4003	public exponent	Binary	variable	integer
4004	public modulus	Binary	variable	integer
Table D- 1 -- Encryption Key Exchange File Format
 
Key Acknowledgment File
Before a key list may be used, the sender must receive a key acknowledgment file. The key acknowledgment file serves two purposes:
1.	Verify that the key list has been received by the intended recipient.
2.	Verify the correctness of each key in the list.
Furthermore, the need for an acknowledgment of this kind is specified in requirement R7-108.2. Once this file has been received, the sender of the key list can put the list into active use.
Table D-1 below shows the format of the encryption key acknowledgment file. This file consists of some header information, followed by 1000 instances of key hash information. There are no separators of any kind between the individual fields, between the header and key hash data, or between each set of key hash data. The MD5 hash value will be calculated from the public modulus value of the key.

ENCRYPTION KEY ACKNOWLEDGEMENT FILE FORMAT
Field Number	Field Name	Type	Size (bytes)	Format
1	NPAC Customer Id 	ASCII	4	Character String
2	File Creation Date	ASCII	14	MMDDYYYYHHmmSS
3	List Id	Binary	2	16 bit integer
4	Key Id	Binary	2	16 bit integer
5	Key’s MD5 hash	Binary	16	128 bit integer
6	Key Id	Binary	2	16 bit integer
7	Key’s MD5 hash	Binary	16	128 bit integer
. . .	. . .	. . .	. . .	. . .
2002	Key Id	Binary	2	16 bit integer
2003	Key’s MD5 hash	Binary	16	128 bit integer
Table D- 2 -- Encryption Key Acknowledgement File Format
Key Exchange using PGP
LNP Key exchange can be accomplished via email, ftp or an exchange of physical media using PGP for security. Using PGP, a Service Provider will generate a pair of keys, one private and one public. The Service Provider will transmit the public key to the NPAC. This may be done via email or ftp, or any other mechanism of exchanging files. The key in this file is then saved by the NPAC’s PGP program. This key can now be used to encrypt files that only the Service Provider may decrypt, even if the key is intercepted by someone, it will not matter, they cannot use it to do anything other than encrypt messages for the Service Provider.
At this point, the NPAC can encrypt a file containing the keys for the Service Provider. This file may be emailed, put on the ftp site, or put on a disk for the Service Provider.
For LNP key lists that the Service Provider must provide to the NPAC, the reverse procedure would apply. First the NPAC would send a public key to the Service Provider. The Service Provider then encrypts their key list using the public key, and somehow gets the encrypted file to the NPAC. 


 
Appendix E.	Download File Examples
All fields within files discussed in the following section are variable length.  The download reason in all download files is always set to new.  ASCII 13 is the value used as the value for carriage return (CR) in the download files.
Subscription Download File
The following table describes each field of the sample subscription download file. This download file example contains data for three subscriptions, with three lines for each subscription. Each subscription is one record in the file, pipe delimited, with a carriage return(CR) between each subscription. The breaks in the lines and the parenthesized comments are solely for ease of reading and understanding.
Table E-1 describes the entries for subscription 1: The “Value in Example” column directly correlates to the values for subscription 1 in the download file example, as seen in Figure E-1.
Subscription versions in the download file are selected by an NPA-NXX begin and end range.  The file name for the Subscriptions download file will be in the format:
NPANXX-NPANXX.DD-MM-YYYYHH24MISS
The NPANXX-NPANXX values map to the selection criteria and the time stamp maps to the current time.
The Subscriptions file given in the example would be named:
	303123-303125.10-13-1996081122

Figure E- 1 -- Subscription Download File Example

EXPLANATION OF THE FIELDS IN THE SUBSCRIPTION DOWNLOAD FILE
Field Number	Field Name	Value in Example
1	Version Id 	0000000001
2	Version TN	3031231000
3	LRN	1234567890
4	New Current Service Provider Id 	0001
5	Activation Timestamp 	19960916152337  (yyyymmddhhmmss)
6	CLASS DPC 	123123123 (This value is 3 octets)
7	CLASS SSN 	123 (This value is 1 octet and usually set to 000)
8	LIDB DPC 	123123123 (This value is 3 octets)
9	LIDB SSN 	123 (This value is 1 octet and usually set to 000)
10	ISVM DPC 	123123123 (This value is 3 octets)
11	ISVM SSN 	123 (This value is 1 octet and usually set to 000)
12	CNAM DPC 	123123123 (This value is 3 octets)
13	CNAM SSN 	123 (This value is 1 octet and usually set to 000)








14
End user Location Value 	123456789012
15
End User Location Type 	12
16
Billing Id 	0001
17
LNP Type 	0
18
Download Reason 	0
19	WSMSC DPC	Not present if LSMS or SOA does not support the WSMSC DPC as shown in this example.  If it were present the value would be in the same format as other DPC data.
20	WSMSC SSN	Not present if LSMS or SOA does not support the WSMSC SSN as shown in this example. If it were present the value would be in the same format as other SSN data.
Table E- 1 -- Explanation of the Fields in The Subscription Download File
Network Download File
The following tables describe each field of the network download files.  There are no selection criteria for these files: all data is included.  This series of download file examples contain data for one Service Provider that has three NPA-NXXs and three LRNs. 
The Service Provider block contains one record in the file, individual fields are pipe delimited, with a carriage return(CR) after the Service Provider Id/Name.  The breaks in the lines and the parenthesized comments are solely for ease of reading and understanding.
The “Value in Example” column in Table E-2 directly correlates to the values for the Service Provider in the download file example, as seen in Figure E-2.
The file name for the Service Provider download file will be in the format:
	SPID.DD-MM-YYYYHH24MISS  (The "SPID" portion is the literal string "SPID".)
The Service Provider file given in the example would be named:
	SPID.10-13-1996081122
EXPLANATION OF THE FIELDS IN THE NETWORK SERVICE PROVIDER DOWNLOAD FILE
Field Number	Field Name	Value in Example
1	Service Provider Id	0001
2	Service Provider Name	AMERITECH
Table E- 2 -- Explanation of the Fields in the Network Service Provider Download File
Figure E- 2 -- Network Service Provider Download File Example
NPA/NXX Download File
The NPA/NXX download block contains three records in the file, individual fields are pipe delimited, with a carriage return(CR) after each NPA-NXX record. The breaks in the lines and the parenthesized comments are solely for ease of reading and understanding.  There are no selection criteria for these files: all data is included.
The “Value in Example” column in Table E-3 directly correlates to the values for the first NPA/NXX in the download file example, as seen in Figure E-3.
The file name for the NPA-NXX download file will be in the format:
	NPANXX.DD-MM-YYYYHH24MISS  (The NPANXX portion is the literal string "NPANXX".)
The NPA-NXX file given in the example would be named:
	NPANXX.10-13-1996081122
EXPLANATION OF THE FIELDS IN THE NETWORK NPA/NXX DOWNLOAD FILE
Field Number	Field Name	Value in Example
1	Service Provider Id	0001
2	NPA-NXX Id	2853
3	NPA-NXX Value	303-123
4	Creation TimeStamp	19960101155555
5	Effective TimeStamp	19960105000000
6
Download Reason	0
Table E- 3 -- Explanation of the Fields in the Network NPA/NXX Download File
Figure E- 3 -- Network NPA-NXX Download File Example
LRN Download File
The LRN download block contains three records in the file, individual fields are pipe delimited, with a carriage return(CR) after each LRN record. There are no selection criteria for these files: all data is included.  The breaks in the lines and the parenthesized comments are solely for ease of reading and understanding.
The “Value in Example” column in Table E-4 directly correlates to the values for the first LRN in the download file example, as seen in Figure E-4.
The file name for the LRN download file will be in the format:
	LRN.DD-MM-YYYYHHMMSS  (The LRN portion is the literal string "LRN".)
The LRN file given in the example would be named:
	LRN.10-13-1996081122
EXPLANATION OF THE FIELDS IN THE NETWORK LRN DOWNLOAD FILE
Field Number	Field Name	Value in Example
1	Service Provider Id	0001
2	LRN Id	1624
3	LRN Value	1234567890
4	Creation TimeStamp	19960101155559
5
Download Reason	0
Table E- 4 -- Explanation of the Fields in the Network LRN Download File
Figure E- 4 -- Network LRN Download File Example
 
NPA-NXX-X Download File
The following table describes the sample NPA-NXX-X download file which contains two records in the file, individual fields are pipe delimited, with a carriage return (CR) after each NPA-NXX-X record.  The breaks in the lines and the parenthesized comments are solely for ease of reading and understanding.  There are no selection criteria for these files: all data is included.
The “Value in Example” column in Table E-5 directly correlates to the values for the first NPA-NXX-X in the download file example, as seen in Figure E-5.
The file name for the NPA-NXX-X download file will be in the format:
	NPANXXX.DD-MM-YYYYHH24MISS  (The NPANXXX portion is the literal string "NPANXXX", and the timestamp maps to the current time [GMT].)
The NPA-NXX-X file given in the example would be named:
	NPANXXX.11-02-1998133022
EXPLANATION OF THE FIELDS IN THE NETWORK NPA-NXX-X DOWNLOAD FILE
Field Number	Field Name	Value in Example
1	Service Provider Id	0001
2	NPA-NXX-X Id	2853
3	NPA-NXX-X Value	303-123-6
4	Creation TimeStamp	19980101155555
5	Effective TimeStamp	19980105000000
6	Modified TimeStamp	19980105001111
7	Download Reason	0
Table E- 5 -- Explanation of the Fields in the Network NPA-NXX-X Download File
Figure E- 5 -- Network NPA-NXX-X Download File Example

Block Download File
The following table describes each field of the sample Block download file. This download file example contains data for three Blocks, with three lines for each Block. Each Block is one record in the file, pipe delimited, with a carriage return(CR) between each Block. The breaks in the lines and the parenthesized comments are solely for ease of reading and understanding.
Table E-6 describes the entries for Block 1: The “Value in Example” column directly correlates to the values for Block 1 in the download file example, as seen in Figure E-6.
Blocks in the download file are selected by a combination of NPA-NXX-X begin and end range (with a default value of 000-000-0 through 999-999-9), as well as TIME begin and end range (with a default value of 00-00-000000000000 through 99-99-999999999999).  The TIME Range is keyed off the Activation Broadcast Timestamp, Modify Broadcast Timestamp, and Disconnect Broadcast Timestamp.  The file name for the Block download file will be in the format:
NPANXXX-NPANXXX.DD-MM-YYYYHH24MISS.DD-MM-YYYYHH24MISS.DD-MM-YYYYHH24MISS
The NPANXXX-NPANXXX values map to the NPA-NXX-X selection criteria, the first stamp maps to the current time (when the file is generated), the second time stamp maps to the begin time range, and the third time stamp maps to the end time range.  All three time stamps are represented in GMT.
The Block file given in the example would be named:
	3031235-3031252.09-17-1996153344.07-11-1996091222.09-17-1996153344
The files available for LSMS compares will be defined as one or more NPA-NXX-Xs per file.

Figure E- 6 -- Block Download File Example


EXPLANATION OF THE FIELDS IN THE BLOCK DOWNLOAD FILE
Field Number	Field Name	Value in Example
1	Block Id 	1
2	NPA-NXX-X	3031231
3	LRN	1234567890
4	New Current Service Provider Id 	0001
5	Activation Timestamp 	19960916152337  (yyyymmddhhmmss)
6	CLASS DPC 	123123123 (This value is 3 octets)
7	CLASS SSN 	123 (This value is 1 octet and usually set to 000)
8	LIDB DPC 	123123123 (This value is 3 octets)
9	LIDB SSN 	123 (This value is 1 octet and usually set to 000)
10	ISVM DPC 	123123123 (This value is 3 octets)
11	ISVM SSN 	123 (This value is 1 octet and usually set to 000)
12	CNAM DPC 	123123123 (This value is 3 octets)
13	CNAM SSN 	123 (This value is 1 octet and usually set to 000)
14	WSMSC DPC	Not present if LSMS or SOA does not support the WSMSC DPC as shown in this example.  If it were present the value would be in the same format as other DPC data.
15	WSMSC SSN	Not present if LSMS or SOA does not support the WSMSC SSN as shown in this example.  If it were present the value would be in the same format as other SSN data.
16	Download Reason 	0
Table E- 6 -- Explanation of the Fields in The Block Download File

 
Appendix F.	Midwest Region Number Pooling
This section, Appendix F: Midwest Region Number Pooling is deleted in version 3.0.0 of this document with NPAC Release 3.0.0.


 
Appendix G.	Deleted Requirements
This section contains a list of assumption/constraint/requirement numbers that have been deleted over the lifetime of this document.
AR5-1	(Duplicates R5-25)
A10-1
A10-2
A10-3
A11-1
CN1-1
R3-l
R3-2
RX3-2
R3 4.1 (Duplicate - refer to R4-1)
R3 4.2 (Duplicate - refer to R4-3)
R4-23 (Duplicate – refer R4-5.2)
R3 5 (Duplicate - refer to R4-2)
R3 6.1 (Duplicate – refer to R3-7.2)
R3-12 (Duplicate – refer to R5-18)
RN3-4.10
RR3-141.2
RR3-208 (Merged into R3-7.1)
RR3-209 (Merged into R3-7.1)
R4-12 (Duplicate – refer to R4-2)
R4 18.1
R4-18.2
R4-18.3
R4 19 (Duplicate - refer to R4-3)
R4-23 (Duplicate – refer to R4-5.2)
R4-30.3
R4-30.4
R4-30.5
R4-30.7
R5-1.2 – (Duplicate refer to R5-20.3, R5-30.2, R5-53), R5-54, moved refer to R5-54.2)
R5-3.7
R5-3.8
R5-3.9
R5-4 (Duplicate – refer to RN5-1)
R5-8.2 (Duplicate – refer to R5-25)
RN5-9
RR5-10.4
RR5-10.5
RN5-11 (Duplicate – refer to R5-42 and R5-43)
RR5-12.2
RR5-13.1
RR5-13.2
RR5-15.1
RR5-15.2
RR5-16.1
R5-17.1 (Duplicate – refer to R5-18.8 and R5-20.1)
R5-17.2 (Duplicate – refer to R5-18.8 and R5-20.1)
RR5-16.2
RR5-17.1
RR5-17.2
RR5-17.3
RR5-17.4
RR5-18.1
RR5-18.2
RR5-18.3
RR5-19
RR5-20
R5-21.5 (Duplicate – refer to R5-21.1)
R5-24.1 (Duplicate – refer to R5-27 and R5-28)
R5-24.2 (Duplicate – refer to R5-27 and R5-28)
R5-24.3 (Duplicate – refer to R5-27 and R5-28)
RR5-26.2
R5-27.5 (Duplicate – refer to RR5-42.1)
RR5-28.2 
R5-31.1
R5-31.2
R5-32 (Duplicate – refer to R5-31.3)
R5-33 (Duplicate – refer to R5-35 and R5-36)
R5-34
R5-40.2 (Duplicate – refer to R5-34)
RR5-43	Activation with Old Service Provider Authorization
R5 48
R5 49.1
R5-49.2
R5 54.1
R5-54.2
R5-56 (Duplicate – refer to R5-57.1)
R5-64.2
R5-64.3
R5-64.4
R5-64.5
R5-64.6
R5-64.7
R5-65.3
R5 66.1
R5-71.1 (Superseded – refer to RR5-28)
R5-71.7
R6-1
R6-2.1
R6-2.2
R6-3
RX6-3.1
RR6-6 (Duplicate – refer to R10-10.1)
RR6-7 (Duplicate – refer to R10-10.1)
RR6-10
RR6-11 (Duplicate - refer to RX6-2.5)
RR6-12 (moved to RX6-2.6)
R6-10.1
R6-10.2
R6-10.3
R6-11
R6-12
R6-13
R6-14.1
R6-14.2
R6-15.1
R6-15.2
R6-15.3
R6-16.1
R6-16.2
R6-17.1
R6-17.2
R6-17.3
R6-18.1
R6-18.2
R6-18.3
R6-19
R6-20.1
R6-20.2
R6-20.3
R6-21
R6-30.3
R6-31
R6-32
R6-33
R6-34
R6-4.1
R6-4.2
R6-4.3
R6-5.1
R6-5.2
R6-6.1
R6-6.2
R6-7.1
R6-7.2
R6-8.1
R6-8.2
R6-9.1
R6-9.2
R6-9.3
R7-11 (Duplicate – refer to R7-10)
R7-17 (Duplicate – refer to R7-15)
R7-30 (Duplicate – refer to R7-10)
R7-45 (Duplicate – refer to R7-47)
R7-59 (Duplicate – refer to R7-53.3)
R7-62.1 (Duplicate – refer R7-12)
R7-62.2 (Duplicate – refer to R7-12)
R7 71.1
R7-101.1
R7 101.2 (Duplicate - refer to R7-91.1)
R7-101.3 (Duplicate - refer to R7-91.2)
R7-101.4 (Duplicate - refer to R7-91.3)
R7-101.5 (Duplicate - refer to R7-91.4)
R7-105.1 (Duplicate – refer to R7-97 and R7-98)
R7-110.2 (Duplicate – refer to R7-107.2)
R8-2.2
R8-5.2
R8-6.2
R8-7.1
R8-7.2
R8-7.3
R8-8
R8 13
R8 14.1
R8-14.2
R8 16.2
R8 16.3
R8 16.4
R8-18 (Duplicate – refer to R8-7.3)
R8-24 (Duplicate – refer to R9-2)
R9-7
R9-8 (Duplicate – refer to R9-2)
R9-12.3 (Duplicate – refer to RX9-5 number 20)
R9-13 (Duplicate – refer to R9-2)
RR9-5
RR9-6
RN10-1
R10-15
R10-17
R11-7 (Duplicate – refer to RX11-5)


 
Appendix H.	Release Migration
This section contains a list of requirements (in the format Rel3-seq #) that are specific to the NPAC SMS migration from Release 2.0 to Release 3.0.  Once the NPAC SMS has migrated all applicable production data to the new release, these requirements will expire, and will no longer be required functionality for the NPAC SMS.

Rel3-1	National Number Pooling Migration – Conversion of Blocks for 1.4 Pooling
NPAC SMS shall provide a mechanism for Pooled Data in a pre-EDR environment, to be converted to Pooled Data in an EDR environment, prior to the live date for the National Number Pooling Release in the NPAC SMS.
NOTE:  The Subscription Versions with LNP Type of POOL will remain in the NPAC SMS, and a corresponding NPA-NXX-X and EDR Block will be created in the NPAC SMS, but will not be broadcast over the Interface.  (Previously M-10)
Rel3-2	National Number Pooling Migration – Setting of NPA-NXX-X Indicators
NPAC SMS shall provide a mechanism for the NPAC Customer SOA NPA-NXX-X Indicator and the NPAC Customer LSMS NPA-NXX-X Indicator, in the NPAC Customer Data Model, to be set for all Service Providers, prior to the live date for the National Number Pooling Release in the NPAC SMS.  (Previously M-20)
Rel3-3	National Number Pooling Migration – Setting of EDR Indicators
NPAC SMS shall provide a mechanism for the NPAC Customer LSMS EDR Indicator, in the NPAC Customer Data Model, to be set for all Service Providers, prior to the live date for the National Number Pooling Release.  (Previously M-30)

